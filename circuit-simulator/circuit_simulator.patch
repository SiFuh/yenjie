diff -ruN circuit-simulator/circuits/3way.txt circuit-simulator.new/circuits/3way.txt
--- circuit-simulator/circuits/3way.txt	2009-05-21 09:50:32.000000000 +0800
+++ circuit-simulator.new/circuits/3way.txt	2020-04-29 20:36:14.297632302 +0800
@@ -1,12 +1,12 @@
-$ 1 5.0E-6 3 44 120.0 15
-v 32 320 32 80 0 1 60.0 120.0 0.0
-r 496 80 496 320 0 150.0
+$ 1 0.000005 3.046768661252054 41 120 15
+v 32 320 32 80 0 1 60 169.7056274847714 0 0 0.5
+r 496 80 496 320 0 150
 w 32 80 112 80 0
 w 416 80 496 80 0
-S 112 208 192 208 0 true false 0
+S 112 208 192 208 0 1 false 0 2
 w 112 80 112 208 0
 w 416 80 416 208 0
-S 416 208 336 208 0 false false 0
+S 416 208 336 208 0 0 false 0 2
 w 192 192 336 192 0
 w 336 224 192 224 0
 w 32 320 496 320 0
diff -ruN circuit-simulator/circuits/4way.txt circuit-simulator.new/circuits/4way.txt
--- circuit-simulator/circuits/4way.txt	2009-05-21 09:50:22.000000000 +0800
+++ circuit-simulator.new/circuits/4way.txt	2020-04-29 20:36:14.297632302 +0800
@@ -1,22 +1,22 @@
-$ 1 5.0E-6 3 44 120.0 15
-v 32 320 32 80 0 1 60.0 120.0 0.0
-r 480 80 480 320 0 150.0
+$ 1 0.000005 3.046768661252054 42 120 15
+v 32 320 32 80 0 1 60 169.7056274847714 0 0 0.5
+r 480 80 480 320 0 150
 w 32 80 80 80 0
-S 336 176 240 176 0 false false 2
-S 336 240 240 240 0 false false 2
+S 336 176 240 176 0 0 false 2 2
+S 336 240 240 240 0 0 false 2 2
 w 432 80 480 80 0
 w 32 320 80 320 0
 w 80 320 480 320 0
 w 208 256 240 256 0
 w 208 160 240 160 0
 w 240 192 240 224 0
-S 80 208 176 208 0 false false 0
+S 80 208 176 208 0 0 false 0 2
 w 80 80 80 208 0
 w 176 224 240 224 0
 w 208 160 208 192 0
 w 176 192 208 192 0
 w 208 192 208 256 0
-S 432 208 336 208 0 false false 0
+S 432 208 336 208 0 0 false 0 2
 w 336 176 336 192 0
 w 336 224 336 240 0
 w 432 80 432 208 0
diff -ruN circuit-simulator/circuits/555int.txt circuit-simulator.new/circuits/555int.txt
--- circuit-simulator/circuits/555int.txt	2009-05-21 09:50:30.000000000 +0800
+++ circuit-simulator.new/circuits/555int.txt	2020-04-29 20:36:14.297632302 +0800
@@ -1,11 +1,10 @@
-$ 3 5.0E-6 5 64 7.0
-a 288 168 384 168 1 5.0 0.0
-a 288 264 384 264 1 5.0 0.0
-r 240 56 240 104 0 5000.0
-r 240 104 240 152 0 5000.0
+$ 3 0.000005 5.023272298708815 64 7 50
+a 288 168 384 168 1 5 0 1000000 3.7014145749047014 3.333333333333333
+a 288 264 384 264 1 5 0 1000000 6.666666666666666 3.7014145749047014
+r 240 56 240 104 0 5000
+r 240 104 240 152 0 5000
 w 240 152 240 280 0
-r 240 280 240 328 0 5000.0
-g 240 328 240 336 0
+r 240 280 240 328 0 5000
 w 240 152 288 152 0
 w 240 104 272 104 0
 w 272 104 272 280 0
@@ -16,32 +15,35 @@
 w 464 240 464 256 0
 w 384 240 384 248 0
 w 384 240 464 192 0
-R 240 56 240 24 0 0 40.0 10.0 0.0
-R 88 56 88 24 0 0 40.0 10.0 0.0
-r 88 56 88 120 0 10000.0
-r 88 120 88 184 0 10000.0
+R 240 56 240 16 0 0 40 10 0 0 0.5
+R 88 56 88 24 0 0 40 10 0 0 0.5
+r 88 56 88 120 0 10000
+r 88 120 88 184 0 10000
 w 88 120 216 120 0
 w 216 120 216 352 0
 w 88 184 88 248 0
-c 88 248 88 352 0 3.0E-7 0
+c 88 248 88 352 0 3e-7 3.7014145749047014
 g 88 352 88 368 0
-r 384 368 464 368 0 10000.0
+r 384 368 464 368 0 10000
 w 464 176 496 176 0
 w 464 368 496 368 0
-153 384 256 464 256 1 2 5.0
-153 384 176 464 176 1 2 0.0
+153 384 256 464 256 1 2 5 5
+153 384 176 464 176 1 2 0 5
 w 496 176 496 368 0
 O 464 256 544 256 0
 w 88 184 288 184 0
 w 88 248 288 248 0
-t 328 368 296 368 0 1 -7.876671689823544 4.999999997999999E-10
+t 328 368 296 368 0 1 -6.85070728534959 1.0685070724297016e-9 100
 w 216 352 296 352 0
-g 296 384 296 400 0
+g 296 384 296 408 0
 w 328 368 384 368 0
-x 120 115 136 115 0 16 discharge
-x 129 178 145 178 0 16 trigger
-x 120 242 136 242 0 16 threshold
-w 272 104 272 56 0
-x 284 62 300 62 0 16 control
-o 24 16 0 3 10.0 7.8125E-4 0
-o 32 32 0 10 5.0 9.765625E-5 1
+x 120 115 189 118 4 16 discharge
+x 129 178 174 181 4 16 trigger
+x 120 242 185 245 4 16 threshold
+w 272 104 272 32 0
+x 272 22 320 25 4 16 control
+b 514 398 200 40 0
+w 240 328 240 384 0
+w 240 384 296 384 0
+o 23 16 0 4099 10 0.0015625 0 2 23 3
+o 31 32 0 4106 5 0.00009765625 1 1
diff -ruN circuit-simulator/circuits/555lowduty.txt circuit-simulator.new/circuits/555lowduty.txt
--- circuit-simulator/circuits/555lowduty.txt	2009-05-21 09:50:21.000000000 +0800
+++ circuit-simulator.new/circuits/555lowduty.txt	2020-04-29 20:36:14.297632302 +0800
@@ -1,17 +1,20 @@
-$ 1 5.0E-6 10 69 10.0 50
-165 224 144 272 144 0 0.0
+$ 1 0.000005 10.20027730826997 69 10 50
+165 224 144 272 144 4 0
 w 224 176 192 176 0
-r 192 176 192 240 0 150000.0
+r 192 176 192 240 0 150000
 w 192 240 224 240 0
 w 192 240 192 272 0
 w 192 272 224 272 0
-w 192 272 192 336 0
-c 192 336 192 384 0 1.0E-7 4.232783461263634
-g 192 384 192 400 0
-r 192 336 304 336 0 10000.0
-d 352 336 304 336 0
-w 352 208 352 336 0
-R 288 112 288 80 0 0 40.0 10.0 0.0
+w 192 272 192 352 0
+c 192 352 192 400 0 1e-7 0.001
+g 192 400 192 416 0
+r 192 352 304 352 0 10000
+d 352 352 304 352 2 default
+w 352 208 352 352 0
+R 288 112 288 80 0 0 40 10 0 0 0.5
 O 352 208 416 208 0
-o 7 16 0 3 10.0 0.0015625 0
-o 13 64 0 10 10.0 9.765625E-5 1
+g 320 304 320 320 0
+w 288 112 352 112 0
+w 352 112 352 176 0
+o 7 16 0 4099 10 0.0015625 0 2 7 3
+o 13 64 0 4106 10 0.00009765625 1 1
diff -ruN circuit-simulator/circuits/555missing.txt circuit-simulator.new/circuits/555missing.txt
--- circuit-simulator/circuits/555missing.txt	2009-05-21 09:50:35.000000000 +0800
+++ circuit-simulator.new/circuits/555missing.txt	2020-04-29 20:36:14.297632302 +0800
@@ -1,23 +1,26 @@
-$ 1 5.0E-6 10.391409633455755 56 5.0 50
-165 336 176 448 176 0 5.0
+$ 1 0.000005 10.20027730826997 56 5 50
+165 336 176 448 176 4 4.999999950000001
 w 336 208 336 304 0
 w 336 208 304 208 0
 w 304 208 304 304 0
-c 304 304 304 368 0 9.999999999999999E-6 -0.21686387276521343
+c 304 304 304 368 0 0.000009999999999999999 1.0290164598808074
 g 304 368 304 384 0
-r 304 208 304 144 0 1000.0
+r 304 208 304 144 0 1000
 w 304 144 400 144 0
 O 464 240 528 240 0
-82 304 144 304 96 0 0 40.0 5.0 0.0 0.0 0.5
-t 208 336 256 336 0 -1 0.0 0.21686387276521343
+R 304 144 304 96 0 0 40 5 0 0 0.5
+t 208 336 256 336 0 -1 0 -0.631032106406004 100
 w 256 320 256 304 0
 r 256 304 304 304 0 100
 w 256 352 256 368 0
 w 256 368 304 368 0
 w 208 272 208 336 0
-152 96 272 208 272 0 2 0.0
-82 96 288 96 336 0 2 60.0 2.5 2.5 0.0 0.5
-L 96 256 96 208 0 true false 5.0 0.0
+152 96 272 208 272 0 2 0 5
+R 96 288 96 336 0 2 60 2.5 2.5 0 0.5
+L 96 256 96 208 0 0 false 5 0
 w 208 272 336 272 0
-o 19 64 0 6 5.0 9.765625E-5 0 input
-o 8 64 0 6 5.0 9.765625E-5 0 output
+w 400 144 464 144 0
+w 464 144 464 208 0
+g 432 336 432 352 0
+o 19 64 0 4102 5 0.00009765625 0 2 19 3 input
+o 8 64 0 4102 5 0.00009765625 0 1 output
diff -ruN circuit-simulator/circuits/555monostable.txt circuit-simulator.new/circuits/555monostable.txt
--- circuit-simulator/circuits/555monostable.txt	2009-05-21 09:50:29.000000000 +0800
+++ circuit-simulator.new/circuits/555monostable.txt	2020-04-29 20:36:14.297632302 +0800
@@ -1,19 +1,22 @@
-$ 1 5.0E-6 10 56 5.0 50
-165 208 144 320 144 0 0.0
+$ 1 0.000005 10.20027730826997 56 5 50
+165 208 144 320 144 4 0
 w 208 176 208 272 0
 w 208 176 176 176 0
 w 208 240 128 240 0
 w 176 176 176 272 0
-c 176 272 176 320 0 9.999999999999999E-6 0.04950495049504963
+c 176 272 176 320 0 0.000009999999999999999 0.001
 g 176 320 176 336 0
-r 176 176 176 112 0 1000.0
+r 176 176 176 112 0 1000
 w 176 112 272 112 0
-R 128 112 48 112 0 0 40.0 5.0 0.0
+R 128 112 48 112 0 0 40 5 0 0 0.5
 O 336 208 400 208 0
-r 128 112 128 240 0 100.0
+r 128 112 128 240 0 100
 w 128 112 176 112 0
-c 128 240 80 240 0 1.0E-5 0.7835212122555424
-L 80 240 48 240 0 false true 5.0 0.0
-o 14 64 0 6 5.0 9.765625E-5 0
-o 10 64 0 6 5.0 9.765625E-5 0
+c 128 240 80 240 0 0.00001 0.001
+L 80 240 48 240 0 1 true 5 0
+g 304 304 304 320 0
+w 272 112 336 112 0
+w 336 112 336 176 0
+o 14 64 0 4102 5 0.00009765625 0 2 14 3
+o 10 64 0 4102 5 0.00009765625 0 1
 h 2 7 5
diff -ruN circuit-simulator/circuits/555pulsemod.txt circuit-simulator.new/circuits/555pulsemod.txt
--- circuit-simulator/circuits/555pulsemod.txt	2009-05-21 09:50:33.000000000 +0800
+++ circuit-simulator.new/circuits/555pulsemod.txt	2020-04-29 20:36:14.297632302 +0800
@@ -1,16 +1,19 @@
-$ 1 5.0E-6 4.8 56 5.0 50
-165 240 128 256 128 0 5.0
-R 304 96 304 80 0 0 40.0 5.0 0.0
-R 304 288 304 336 0 3 20.0 2.0 3.0
+$ 1 0.000005 4.818269829109882 56 5 50
+165 240 128 256 128 4 0
+R 304 96 304 80 0 0 40 5 0 0 0.5
+R 304 288 304 336 0 3 20 2 3 0 0.5
 O 368 192 416 192 0
 w 240 160 208 160 0
-r 208 160 208 96 0 300.0
+r 208 160 208 96 0 300
 w 208 96 304 96 0
 w 208 256 240 256 0
-c 208 256 208 304 0 3.0E-6 2.1430988725222426
+c 208 256 208 304 0 0.000003 0.001
 g 208 304 208 320 0
 w 208 224 208 256 0
 w 208 224 240 224 0
-r 208 160 208 224 0 300.0
-o 2 32 0 6 5.0 3.90625E-4 0 ctl
-o 3 32 0 6 5.0 9.765625E-5 0 output
+r 208 160 208 224 0 300
+w 304 96 368 96 0
+w 368 96 368 160 0
+g 336 288 336 304 0
+o 2 32 0 4102 5 0.000390625 0 2 2 3 ctl
+o 3 32 0 4102 5 0.00009765625 0 1 output
diff -ruN circuit-simulator/circuits/555saw.txt circuit-simulator.new/circuits/555saw.txt
--- circuit-simulator/circuits/555saw.txt	2009-05-21 09:50:21.000000000 +0800
+++ circuit-simulator.new/circuits/555saw.txt	2020-04-29 20:36:14.297632302 +0800
@@ -1,24 +1,25 @@
-$ 1 5.0E-6 16.817414165184545 66 15.0 50
-r 240 112 240 48 0 39000.0
-r 192 128 192 48 0 27000.0
-r 192 128 192 208 0 120000.0
+$ 1 0.000005 16.817414165184545 66 15 50
+r 240 112 240 48 0 39000
+r 192 128 192 48 0 27000
+r 192 128 192 208 0 120000
 w 192 48 240 48 0
-R 192 48 144 48 0 0 40.0 15.0 0.0 0.0 0.5
+R 192 48 144 48 0 0 40 15 0 0 0.5
 w 240 144 240 208 1
 g 192 208 192 224 0
 w 240 208 240 272 0
 w 240 272 240 304 0
-w 240 304 240 368 0
-c 240 368 240 400 0 2.0E-7 5.858523256602457
-g 240 400 240 416 0
-r 240 208 288 208 0 10000.0
+w 240 304 240 384 0
+c 240 384 240 416 0 2e-7 0.001
+g 240 416 240 432 0
+r 240 208 288 208 0 10000
 w 288 272 240 272 0
 w 240 304 288 304 0
 w 240 48 352 48 0
 w 352 48 352 144 0
-O 240 368 468 368 0
-t 192 128 240 128 0 -1 6.398899615692838 -0.5042009986318234 100.0
-165 288 176 304 176 2 15.0
+O 240 384 468 384 0
+t 192 128 240 128 0 -1 0 0 100
+165 288 176 304 176 6 0
 w 352 48 416 48 0
 w 416 48 416 208 0
-o 17 64 0 42 11.0 9.765625E-5 0 -1
+g 384 336 384 352 0
+o 17 64 0 4106 22 0.00009765625 0 1
diff -ruN circuit-simulator/circuits/555schmitt.txt circuit-simulator.new/circuits/555schmitt.txt
--- circuit-simulator/circuits/555schmitt.txt	2009-05-21 09:50:25.000000000 +0800
+++ circuit-simulator.new/circuits/555schmitt.txt	2020-04-29 20:36:14.297632302 +0800
@@ -1,14 +1,17 @@
-$ 1 5.0E-6 10.391409633455755 56 5.0 50
-165 304 160 416 160 0 0.0
+$ 1 0.000005 10.20027730826997 56 5 50
+165 304 160 416 160 4 0
 w 256 128 368 128 0
-R 256 128 144 128 0 0 40.0 5.0 0.0
+R 256 128 144 128 0 0 40 5 0 0 0.5
 O 432 224 496 224 0
 w 256 288 256 256 0
 w 256 256 304 256 0
 w 256 288 304 288 0
-v 256 256 192 256 0 1 400.0 1 0.0
-R 192 256 144 256 0 1 40.0 2.5 2.5
-p 256 288 256 336 0
+v 256 256 192 256 0 1 400 1 0 0 0.5
+R 192 256 144 256 0 1 40 2.5 2.5 0 0.5
+p 256 288 256 336 0 0
 g 256 336 256 352 0
-o 9 64 0 6 6.1 9.765625E-5 0
-o 3 64 0 6 5.0 9.765625E-5 0
+g 400 320 400 336 0
+w 368 128 432 128 0
+w 432 128 432 192 0
+o 9 64 0 4102 6.1 0.00009765625 0 1
+o 3 64 0 4102 5 0.00009765625 0 1
diff -ruN circuit-simulator/circuits/555sequencer.txt circuit-simulator.new/circuits/555sequencer.txt
--- circuit-simulator/circuits/555sequencer.txt	2009-05-21 09:50:32.000000000 +0800
+++ circuit-simulator.new/circuits/555sequencer.txt	2020-04-29 20:36:14.297632302 +0800
@@ -1,29 +1,29 @@
-$ 3 5.0E-6 2.800975890892825 50 5.0 50
-165 160 208 168 208 1 -0.0
+$ 3 0.000005 2.803162489452614 50 5 50
+165 160 208 168 208 5 0.000004810180428194144
 w 160 224 152 224 0
 w 152 224 152 272 0
 w 152 272 160 272 0
-c 152 272 152 336 0 2.0E-6 0.04950495049504953
+c 152 272 152 336 0 0.000002 0.04950495049504952
 w 152 224 152 192 0
-r 152 192 152 136 0 1000.0
-r 112 192 112 136 0 100.0
+r 152 192 152 136 0 1000
+r 112 192 112 136 0 100
 w 112 192 112 256 0
 w 112 256 160 256 0
-c 112 256 72 256 0 1.0E-5 4.534530440025719E-8
-L 72 256 48 256 0 false true 5.0 0.0
+c 112 256 72 256 0 0.00001 0.00001822381251326277
+L 72 256 48 256 0 1 true 5 0
 w 112 136 152 136 0
 w 152 136 192 136 0
 w 192 136 192 192 0
-82 112 136 48 136 0 0 40.0 5.0 0.0 0.0 0.5
+R 112 136 48 136 0 0 40 5 0 0 0.5
 g 152 336 152 352 0
 w 224 240 224 256 0
-c 224 256 272 256 0 1.0E-5 -4.9999993594834615
+c 224 256 272 256 0 0.00001 -4.999514171776962
 w 272 256 272 192 0
-r 272 136 272 192 0 100.0
-r 312 136 312 192 0 1000.0
+r 272 136 272 192 0 100
+r 312 136 312 192 0 1000
 w 192 136 272 136 0
 w 272 136 312 136 0
-165 320 208 352 208 1 -0.0
+165 320 208 352 208 5 0.000041850567181001
 w 352 192 352 136 0
 w 352 136 312 136 0
 w 312 224 320 224 0
@@ -31,16 +31,16 @@
 w 312 224 312 272 0
 w 312 272 320 272 0
 w 272 256 320 256 0
-c 312 272 312 336 0 2.0E-6 0.04950495049504953
+c 312 272 312 336 0 0.000002 0.04950495049504952
 g 312 336 312 352 0
 w 384 240 384 256 0
-c 384 256 432 256 0 1.0E-5 -4.9999935925136505
+c 384 256 432 256 0 0.00001 -4.995773092714949
 w 432 256 432 192 0
-r 432 192 432 136 0 100.0
-r 472 136 472 192 0 1000.0
+r 432 192 432 136 0 100
+r 472 136 472 192 0 1000
 w 352 136 432 136 0
 w 432 136 472 136 0
-165 480 208 488 208 1 0.0
+165 480 208 488 208 5 0
 w 472 192 472 224 0
 w 472 224 480 224 0
 w 472 224 472 272 0
@@ -48,12 +48,21 @@
 w 512 192 512 136 0
 w 512 136 472 136 0
 w 432 256 480 256 0
-c 472 272 472 336 0 2.0E-6 0.04950495049504953
+c 472 272 472 336 0 0.000002 0.04950495049504952
 g 472 336 472 352 0
 M 224 256 224 328 0 2.5
 M 384 256 384 328 0 2.5
 M 544 240 584 240 0 2.5
-o 11 16 0 38 5.1 0.0015625 0 -1
-o 51 16 0 38 7.781982421875E-5 4.8828125E-5 0 -1
-o 52 16 0 38 5.1 9.765625E-5 0 -1
-o 53 16 0 38 5.1 9.765625E-5 0 -1
+w 192 192 224 192 0
+w 224 192 224 224 0
+w 352 192 384 192 0
+w 384 192 384 224 0
+w 512 192 544 192 0
+w 544 192 544 224 0
+g 208 288 208 296 0
+g 368 288 368 296 0
+g 528 288 528 296 0
+o 11 16 0 4102 5.1 0.0015625 0 2 11 3
+o 51 16 0 4102 5.1 0.000048828125 0 1
+o 52 16 0 4102 5.1 0.00009765625 0 1
+o 53 16 0 4102 5.1 0.00009765625 0 1
diff -ruN circuit-simulator/circuits/555square.txt circuit-simulator.new/circuits/555square.txt
--- circuit-simulator/circuits/555square.txt	2009-05-21 09:50:35.000000000 +0800
+++ circuit-simulator.new/circuits/555square.txt	2020-04-29 20:36:14.297632302 +0800
@@ -1,17 +1,21 @@
-$ 1 5.0E-6 5.023272298708815 64 7.0 50
-w 272 176 240 176 0
-r 240 176 240 240 0 10000.0
-w 240 240 272 240 0
-w 240 240 240 272 0
-w 240 272 272 272 0
-c 240 272 240 336 0 3.0E-7 6.6394202099608295
-g 240 336 240 352 0
-r 240 176 240 112 0 10000.0
-w 240 112 336 112 0
-R 240 112 176 112 0 0 40.0 10.0 0.0 0.0 0.5
-O 400 208 464 208 0
-165 272 144 288 144 2 10.0
-w 336 112 400 112 0
-w 400 112 400 176 0
-o 5 32 0 35 10.0 0.0015625 0 -1
-o 10 32 0 42 10.0 9.765625E-5 1 -1
+$ 1 0.000005 5.023272298708815 64 7 50
+w 112 192 112 224 0
+w 112 224 176 224 0
+c 112 224 112 288 0 3e-7 0.001
+g 112 288 112 304 0
+r 112 192 112 64 0 1000000
+w 112 64 240 64 0
+R 112 64 80 64 0 0 40 10 0 0 0.5
+O 352 160 416 160 0
+165 176 96 192 96 6 0
+w 240 64 304 64 0
+w 304 64 304 128 0
+w 352 160 304 160 0
+w 352 160 352 32 0
+r 352 32 160 32 0 10000
+w 160 32 160 192 0
+w 112 192 160 192 0
+w 160 192 176 192 0
+g 272 256 272 272 0
+o 2 32 0 4099 10 0.0015625 0 2 2 3
+o 7 16 0 4106 10 0.00009765625 1 1
diff -ruN circuit-simulator/circuits/7segdecoder.txt circuit-simulator.new/circuits/7segdecoder.txt
--- circuit-simulator/circuits/7segdecoder.txt	2009-05-21 09:50:30.000000000 +0800
+++ circuit-simulator.new/circuits/7segdecoder.txt	2020-04-29 20:36:14.298632288 +0800
@@ -1,178 +1,178 @@
-$ 3 5.0E-6 10.20027730826997 50 5.0 50
-L 240 40 240 16 2 0 false 5.0 0.0
-L 288 40 288 16 2 1 false 5.0 0.0
-L 336 40 336 16 2 0 false 5.0 0.0
-L 384 40 384 16 2 1 false 5.0 0.0
-I 240 40 240 88 0 0.5
-I 288 40 288 88 0 0.5
-I 336 40 336 88 0 0.5
-I 384 40 384 88 0 0.5
-w 288 40 312 40 0
-w 312 40 312 104 0
-151 40 176 40 224 1 4 0.0
-151 96 176 96 224 1 3 5.0
-151 152 176 152 224 1 2 5.0
-151 208 176 208 224 1 4 5.0
-151 568 176 568 224 1 3 5.0
-151 520 176 520 224 1 3 5.0
-151 472 176 472 224 1 3 5.0
-151 424 176 424 224 1 3 5.0
-151 368 176 368 224 1 3 5.0
-150 272 176 272 224 1 2 5.0
-152 320 176 320 224 1 2 5.0
-w 312 104 88 104 0
-w 88 104 88 176 0
-w 312 104 480 104 0
-w 480 104 528 104 0
-w 528 104 576 104 0
-w 576 104 576 176 0
-w 528 176 528 104 0
-w 480 176 480 104 0
-w 336 40 360 40 0
-w 360 40 360 112 0
-w 160 176 160 112 0
-w 96 176 96 112 0
-w 96 112 160 112 0
-w 160 112 360 112 0
-w 360 112 424 112 0
-w 424 112 424 176 0
-w 424 112 568 112 0
-w 568 112 568 176 0
-w 384 40 408 40 0
-w 408 40 408 120 0
-w 408 120 520 120 0
-w 520 120 520 176 0
-w 408 120 376 120 0
-w 376 176 376 120 0
-w 376 120 224 120 0
-w 224 120 224 176 0
-w 224 120 104 120 0
-w 104 120 104 176 0
-w 240 88 240 128 0
-w 240 128 216 128 0
-w 216 128 216 176 0
-w 216 128 24 128 0
-w 24 128 24 176 0
-w 240 128 328 128 0
-w 328 128 328 176 0
-w 288 88 288 136 0
-w 280 176 280 136 0
-w 280 136 288 136 0
-w 200 176 200 136 0
-w 280 136 200 136 0
-w 200 136 144 136 0
-w 144 136 144 176 0
-w 144 136 32 136 0
-w 32 136 32 176 0
-w 288 136 360 136 0
-w 360 136 360 176 0
-w 360 136 432 136 0
-w 432 136 432 176 0
-w 336 88 336 144 0
-w 336 144 368 144 0
-w 368 144 368 176 0
-w 368 144 472 144 0
-w 472 144 472 176 0
-w 336 144 264 144 0
-w 264 144 264 176 0
-w 264 144 192 144 0
-w 192 144 192 176 0
-w 192 144 48 144 0
-w 48 144 48 176 0
-w 384 88 384 152 0
-w 472 144 512 144 0
-w 512 144 512 176 0
-w 384 152 416 152 0
-w 416 152 416 176 0
-w 416 152 464 152 0
-w 464 152 464 176 0
-w 464 152 560 152 0
-w 560 152 560 176 0
-w 384 152 240 152 0
-w 240 152 56 152 0
-w 56 152 56 176 0
-w 272 224 296 224 0
-w 296 224 296 176 0
-w 296 176 312 176 0
-150 56 288 56 336 1 4 0.0
-150 232 288 232 336 1 4 5.0
-150 384 288 384 336 1 4 5.0
-150 336 288 336 336 1 3 5.0
-150 288 288 288 336 1 2 5.0
-150 176 288 176 336 1 3 5.0
-150 120 288 120 336 1 4 5.0
-w 40 224 40 288 0
-w 240 152 240 232 0
-w 240 232 168 232 0
-w 168 232 168 288 0
-w 176 288 176 240 0
-w 176 240 240 240 0
-w 240 240 240 288 0
-w 240 240 400 240 0
-w 400 240 400 288 0
-w 400 240 472 240 0
-w 472 240 472 224 0
-w 184 288 184 256 0
-w 184 256 128 256 0
-w 128 256 128 288 0
-w 128 256 64 256 0
-w 64 256 64 288 0
-w 48 288 48 248 0
-w 72 288 72 264 0
-w 72 264 136 264 0
-w 136 264 136 288 0
-w 48 248 96 248 0
-w 96 248 96 224 0
-w 96 248 112 248 0
-w 112 248 112 288 0
-w 152 224 152 232 0
-w 152 232 104 232 0
-w 104 232 104 288 0
-w 392 288 392 248 0
-w 392 248 344 248 0
-w 344 248 344 288 0
-w 392 248 568 248 0
-w 568 248 568 224 0
-w 112 248 224 248 0
-w 224 248 224 288 0
-w 184 256 216 256 0
-w 216 256 216 288 0
-w 208 224 208 264 0
-w 136 264 208 264 0
-w 208 264 368 264 0
-w 368 264 368 288 0
-w 376 288 376 256 0
-w 376 256 328 256 0
-w 328 256 328 288 0
-w 328 256 280 256 0
-w 280 256 280 288 0
-w 320 224 328 224 0
-w 328 224 328 256 0
-w 280 256 216 256 0
-w 248 288 248 232 0
-w 248 232 368 232 0
-w 368 232 368 224 0
-w 296 288 296 272 0
-w 296 272 424 272 0
-w 424 272 424 224 0
-w 336 288 336 280 0
-w 336 280 520 280 0
-w 520 280 520 224 0
-157 432 320 552 320 0
-w 432 320 416 320 0
-w 416 320 416 336 0
-w 416 336 384 336 0
-w 432 352 336 352 0
-w 336 352 336 336 0
-w 432 384 288 384 0
-w 288 384 288 336 0
-w 432 416 232 416 0
-w 232 416 232 336 0
-w 496 448 176 448 0
-w 176 448 176 336 0
-w 528 448 528 456 0
-w 528 456 120 456 0
-w 120 456 120 336 0
-w 560 448 560 464 0
-w 560 464 56 464 0
-w 56 464 56 336 0
+$ 3 5.0E-6 10.20027730826997 50 5.0 50
+L 240 40 240 16 2 0 false 5.0 0.0
+L 288 40 288 16 2 1 false 5.0 0.0
+L 336 40 336 16 2 0 false 5.0 0.0
+L 384 40 384 16 2 1 false 5.0 0.0
+I 240 40 240 88 0 0.5
+I 288 40 288 88 0 0.5
+I 336 40 336 88 0 0.5
+I 384 40 384 88 0 0.5
+w 288 40 312 40 0
+w 312 40 312 104 0
+151 40 176 40 224 1 4 0.0
+151 96 176 96 224 1 3 5.0
+151 152 176 152 224 1 2 5.0
+151 208 176 208 224 1 4 5.0
+151 568 176 568 224 1 3 5.0
+151 520 176 520 224 1 3 5.0
+151 472 176 472 224 1 3 5.0
+151 424 176 424 224 1 3 5.0
+151 368 176 368 224 1 3 5.0
+150 272 176 272 224 1 2 5.0
+152 320 176 320 224 1 2 5.0
+w 312 104 88 104 0
+w 88 104 88 176 0
+w 312 104 480 104 0
+w 480 104 528 104 0
+w 528 104 576 104 0
+w 576 104 576 176 0
+w 528 176 528 104 0
+w 480 176 480 104 0
+w 336 40 360 40 0
+w 360 40 360 112 0
+w 160 176 160 112 0
+w 96 176 96 112 0
+w 96 112 160 112 0
+w 160 112 360 112 0
+w 360 112 424 112 0
+w 424 112 424 176 0
+w 424 112 568 112 0
+w 568 112 568 176 0
+w 384 40 408 40 0
+w 408 40 408 120 0
+w 408 120 520 120 0
+w 520 120 520 176 0
+w 408 120 376 120 0
+w 376 176 376 120 0
+w 376 120 224 120 0
+w 224 120 224 176 0
+w 224 120 104 120 0
+w 104 120 104 176 0
+w 240 88 240 128 0
+w 240 128 216 128 0
+w 216 128 216 176 0
+w 216 128 24 128 0
+w 24 128 24 176 0
+w 240 128 328 128 0
+w 328 128 328 176 0
+w 288 88 288 136 0
+w 280 176 280 136 0
+w 280 136 288 136 0
+w 200 176 200 136 0
+w 280 136 200 136 0
+w 200 136 144 136 0
+w 144 136 144 176 0
+w 144 136 32 136 0
+w 32 136 32 176 0
+w 288 136 360 136 0
+w 360 136 360 176 0
+w 360 136 432 136 0
+w 432 136 432 176 0
+w 336 88 336 144 0
+w 336 144 368 144 0
+w 368 144 368 176 0
+w 368 144 472 144 0
+w 472 144 472 176 0
+w 336 144 264 144 0
+w 264 144 264 176 0
+w 264 144 192 144 0
+w 192 144 192 176 0
+w 192 144 48 144 0
+w 48 144 48 176 0
+w 384 88 384 152 0
+w 472 144 512 144 0
+w 512 144 512 176 0
+w 384 152 416 152 0
+w 416 152 416 176 0
+w 416 152 464 152 0
+w 464 152 464 176 0
+w 464 152 560 152 0
+w 560 152 560 176 0
+w 384 152 240 152 0
+w 240 152 56 152 0
+w 56 152 56 176 0
+w 272 224 296 224 0
+w 296 224 296 176 0
+w 296 176 312 176 0
+150 56 288 56 336 1 4 0.0
+150 232 288 232 336 1 4 5.0
+150 384 288 384 336 1 4 5.0
+150 336 288 336 336 1 3 5.0
+150 288 288 288 336 1 2 5.0
+150 176 288 176 336 1 3 5.0
+150 120 288 120 336 1 4 5.0
+w 40 224 40 288 0
+w 240 152 240 232 0
+w 240 232 168 232 0
+w 168 232 168 288 0
+w 176 288 176 240 0
+w 176 240 240 240 0
+w 240 240 240 288 0
+w 240 240 400 240 0
+w 400 240 400 288 0
+w 400 240 472 240 0
+w 472 240 472 224 0
+w 184 288 184 256 0
+w 184 256 128 256 0
+w 128 256 128 288 0
+w 128 256 64 256 0
+w 64 256 64 288 0
+w 48 288 48 248 0
+w 72 288 72 264 0
+w 72 264 136 264 0
+w 136 264 136 288 0
+w 48 248 96 248 0
+w 96 248 96 224 0
+w 96 248 112 248 0
+w 112 248 112 288 0
+w 152 224 152 232 0
+w 152 232 104 232 0
+w 104 232 104 288 0
+w 392 288 392 248 0
+w 392 248 344 248 0
+w 344 248 344 288 0
+w 392 248 568 248 0
+w 568 248 568 224 0
+w 112 248 224 248 0
+w 224 248 224 288 0
+w 184 256 216 256 0
+w 216 256 216 288 0
+w 208 224 208 264 0
+w 136 264 208 264 0
+w 208 264 368 264 0
+w 368 264 368 288 0
+w 376 288 376 256 0
+w 376 256 328 256 0
+w 328 256 328 288 0
+w 328 256 280 256 0
+w 280 256 280 288 0
+w 320 224 328 224 0
+w 328 224 328 256 0
+w 280 256 216 256 0
+w 248 288 248 232 0
+w 248 232 368 232 0
+w 368 232 368 224 0
+w 296 288 296 272 0
+w 296 272 424 272 0
+w 424 272 424 224 0
+w 336 288 336 280 0
+w 336 280 520 280 0
+w 520 280 520 224 0
+157 432 320 552 320 0
+w 432 320 416 320 0
+w 416 320 416 336 0
+w 416 336 384 336 0
+w 432 352 336 352 0
+w 336 352 336 336 0
+w 432 384 288 384 0
+w 288 384 288 336 0
+w 432 416 232 416 0
+w 232 416 232 336 0
+w 496 448 176 448 0
+w 176 448 176 336 0
+w 528 448 528 456 0
+w 528 456 120 456 0
+w 120 456 120 336 0
+w 560 448 560 464 0
+w 560 464 56 464 0
+w 56 464 56 336 0
diff -ruN circuit-simulator/circuits/actbutterband.txt circuit-simulator.new/circuits/actbutterband.txt
--- circuit-simulator/circuits/actbutterband.txt	1970-01-01 08:00:00.000000000 +0800
+++ circuit-simulator.new/circuits/actbutterband.txt	2020-04-29 20:36:14.298632288 +0800
@@ -0,0 +1,56 @@
+$ 3 0.000015625 19.867427341514983 50 5 50
+w 360 352 344 352 0
+w 296 288 296 352 0
+w 400 360 400 352 0
+w 400 352 400 288 0
+c 296 352 344 352 0 8.225799562600603e-9 0.653372544901047
+c 296 288 344 288 0 1.0000000000000002e-8 -0.9034042058884145
+r 344 288 344 352 0 74085.95032247386
+w 344 288 400 288 0
+r 248 352 296 352 0 3886.711252972604
+r 296 352 296 440 0 915.334604781065
+g 296 440 296 456 0
+a 360 360 400 360 2 15 -15 1000000 -0.000015567611831776298 0
+g 360 368 360 456 0
+w 512 352 496 352 0
+w 448 288 448 352 0
+w 552 360 552 352 0
+w 552 352 552 288 0
+c 448 352 496 352 0 6.375888247802887e-8 -0.9273135784806995
+c 448 288 496 288 0 1.0000000000000002e-7 -2.386628916664559
+r 496 288 496 352 0 3999.2025003549047
+w 496 288 552 288 0
+r 400 352 448 352 0 1557.0739026029823
+r 448 352 448 440 0 277.11445523587577
+g 448 440 448 456 0
+a 512 360 552 360 2 15 -15 1000000 -0.000014593007451764077 0
+g 512 368 512 456 0
+w 664 352 648 352 0
+w 600 288 600 352 0
+w 704 360 704 352 0
+w 704 352 704 288 0
+c 600 352 648 352 0 6.375888247802931e-8 0.137688158832169
+c 600 288 648 288 0 1.0000000000000002e-7 1.7908094467281948
+r 648 288 648 352 0 4951.140311626695
+w 648 288 704 288 0
+r 552 352 600 352 0 1927.7071782875219
+r 600 352 600 440 0 343.0765384176109
+g 600 440 600 456 0
+a 664 360 704 360 2 15 -15 1000000 0.00001653104756848457 0
+g 664 368 664 456 0
+w 816 352 800 352 0
+w 752 288 752 352 0
+w 856 360 856 352 0
+w 856 352 856 288 0
+c 752 352 800 352 0 8.225799562599964e-8 0.01974398408200153
+c 752 288 800 288 0 1.0000000000000002e-7 -0.1628979426610194
+r 800 288 800 352 0 12185.866765930688
+w 800 288 856 288 0
+r 704 352 752 352 0 5499.813446801384
+r 752 352 752 440 0 124.61985392686236
+g 752 440 752 456 0
+a 816 360 856 360 2 15 -15 1000000 -0.000001826401003420175 0
+g 816 368 816 456 0
+n 248 352 208 352 0 1 40 5 0 0 0.5
+211 856 352 920 352 0 1 8000 1
+o 53 1 0 3106 5 0.00009765625 0 -1 0
diff -ruN circuit-simulator/circuits/actbutterhi.txt circuit-simulator.new/circuits/actbutterhi.txt
--- circuit-simulator/circuits/actbutterhi.txt	1970-01-01 08:00:00.000000000 +0800
+++ circuit-simulator.new/circuits/actbutterhi.txt	2020-04-29 20:36:14.297632302 +0800
@@ -0,0 +1,46 @@
+$ 3 0.000015625 27.727228452313398 50 5 50
+a 440 336 480 336 3 15 -15 1000000 -2.0203979561848686 -2.0204181601644304
+w 440 344 440 392 0
+w 440 392 480 392 0
+w 440 328 424 328 0
+w 424 328 424 392 0
+g 424 448 424 464 0
+w 376 280 376 328 0
+w 480 336 480 328 0
+w 480 328 480 280 0
+w 480 392 480 336 0
+c 328 328 376 328 0 1.0000000000000002e-8 1.025437423995774
+c 376 328 424 328 0 8.705850965062109e-9 0.3126515711893314
+r 376 280 480 280 0 902.1709251080201
+r 424 392 424 448 0 13532.563876620301
+a 592 336 632 336 3 15 -15 1000000 -2.619441958857047 -2.6194681532766353
+w 592 344 592 392 0
+w 592 392 632 392 0
+w 592 328 576 328 0
+w 576 328 576 392 0
+g 576 448 576 464 0
+w 528 280 528 328 0
+w 632 336 632 328 0
+w 632 328 632 280 0
+w 632 392 632 336 0
+c 480 328 528 328 0 1.0000000000000002e-7 0.29713143272336895
+c 528 328 576 328 0 2.679491924311228e-8 0.3019387643683977
+r 528 280 632 280 0 363.6245666818837
+r 576 392 576 448 0 1090.8737000456513
+a 744 336 784 336 3 15 -15 1000000 -2.886668162244686 -2.8866970289263083
+w 744 344 744 392 0
+w 744 392 784 392 0
+w 744 328 728 328 0
+w 728 328 728 392 0
+g 728 448 728 464 0
+w 680 280 680 328 0
+w 784 336 784 328 0
+w 784 328 784 280 0
+w 784 392 784 336 0
+c 632 328 680 328 0 1.0000000000000002e-7 0.1446617846550522
+c 680 328 728 328 0 1.895910507314648e-8 0.12259328541420933
+r 680 280 784 280 0 529.439275779667
+r 728 392 728 448 0 1058.878551559334
+211 784 336 864 336 0 1 8000 1
+n 328 328 280 328 0 1 40 5 0 0 0.5
+o 42 1 0 3104 5 0.00009765625 0 -1 0
diff -ruN circuit-simulator/circuits/actbutterlo.txt circuit-simulator.new/circuits/actbutterlo.txt
--- circuit-simulator/circuits/actbutterlo.txt	1970-01-01 08:00:00.000000000 +0800
+++ circuit-simulator.new/circuits/actbutterlo.txt	2020-04-29 20:36:14.298632288 +0800
@@ -0,0 +1,46 @@
+$ 3 0.000015625 5.023272298708815 47 5 50
+a 440 336 480 336 3 15 -15 1000000 0.6084879231347138 0.6084940080139452
+w 440 344 440 392 0
+w 440 392 480 392 0
+w 440 328 424 328 0
+c 424 392 424 448 0 1.0000000000000002e-7 0.6084940080139452
+w 424 328 424 392 0
+r 424 328 376 328 0 411.92330394390353
+r 376 328 328 328 0 411.92330394390353
+g 424 448 424 464 0
+c 376 280 480 280 0 0.000001492820323027553 -0.09066911891265983
+w 376 280 376 328 0
+w 480 336 480 328 0
+w 480 328 480 280 0
+w 480 392 480 336 0
+a 592 336 632 336 3 15 -15 1000000 0.2011928889225762 0.20119490085146544
+w 592 344 592 392 0
+w 592 392 632 392 0
+w 592 328 576 328 0
+c 576 392 576 448 0 0.0000010000000000000002 0.20119490085146544
+w 576 328 576 392 0
+r 576 328 528 328 0 112.53953951963823
+r 528 328 480 328 0 112.53953951963823
+g 576 448 576 464 0
+c 528 280 632 280 0 0.0000020000000000000008 0.2266803321290919
+w 528 280 528 328 0
+w 632 336 632 328 0
+w 632 328 632 280 0
+w 632 392 632 336 0
+a 744 336 784 336 3 15 -15 1000000 -0.18847472669841367 -0.18847661144568065
+w 744 344 744 392 0
+w 744 392 784 392 0
+w 744 328 728 328 0
+c 728 392 728 448 0 0.0000010000000000000002 -0.18847661144568065
+w 728 328 728 392 0
+r 728 328 680 328 0 153.73186991402866
+r 680 328 632 328 0 153.73186991402866
+g 728 448 728 464 0
+c 680 280 784 280 0 0.0000010717967697244907 0.1317208305472644
+w 680 280 680 328 0
+w 784 336 784 328 0
+w 784 328 784 280 0
+w 784 392 784 336 0
+n 328 328 288 328 0 1 40 5 0 0 0.5
+211 784 336 864 336 0 1 8000 1
+o 43 2 0 3106 5 0.00009765625 0 -1 0
diff -ruN circuit-simulator/circuits/analogrecip.txt circuit-simulator.new/circuits/analogrecip.txt
--- circuit-simulator/circuits/analogrecip.txt	1970-01-01 08:00:00.000000000 +0800
+++ circuit-simulator.new/circuits/analogrecip.txt	2020-04-29 20:36:14.298632288 +0800
@@ -0,0 +1,51 @@
+$ 3 0.000005 9.384708165144016 55 5 50
+f 272 288 320 288 0 1.5 0.02
+f 368 288 416 288 0 1.5 0.02
+f 368 224 416 224 0 1.5 0.02
+f 368 224 320 224 0 1.5 0.02
+f 368 144 320 144 1 1.5 0.02
+f 368 144 416 144 1 1.5 0.02
+w 368 144 368 176 0
+w 368 176 416 176 0
+w 416 176 416 160 0
+w 368 224 368 192 0
+w 368 192 320 192 0
+w 320 192 320 208 0
+w 320 192 320 160 1
+w 416 176 416 208 1
+w 320 128 320 112 0
+w 320 112 416 112 0
+w 416 112 416 128 0
+w 416 240 416 272 0
+g 368 288 368 304 0
+w 320 240 320 272 0
+w 320 304 320 320 0
+w 320 320 416 320 0
+w 416 320 416 304 0
+w 320 112 272 112 0
+w 272 240 320 240 0
+R 416 112 416 80 0 0 40 15 0 0 0.5
+g 416 320 416 352 0
+w 272 240 272 192 1
+r 272 112 272 160 0 10
+w 240 176 240 112 0
+w 240 112 272 112 0
+j 240 176 272 176 1 -4 0.00125
+O 320 272 352 272 0
+R 88 232 56 232 0 1 40 2 2 0 0.5
+r 136 232 184 232 0 100000
+w 184 232 184 280 0
+r 88 232 136 232 0 100000
+r 136 272 88 272 0 100000
+g 136 288 136 304 0
+w 136 232 136 272 0
+R 88 272 88 296 0 0 40 2.5 0 0 0.5
+a 136 280 184 280 2 15 -15 1000000 0.00005986670487189441 0
+w 224 280 224 256 0
+w 272 288 272 256 0
+r 224 256 272 256 0 100000
+r 224 280 184 280 0 100000
+a 224 288 272 288 2 15 -15 1000000 -0.00005986550756174318 0
+g 224 296 224 312 0
+o 33 64 0 4098 4 0.0001 0 2 33 3
+o 32 64 0 4098 0.7835399375128694 0.0001 0 1
diff -ruN circuit-simulator/circuits/bandnoise.txt circuit-simulator.new/circuits/bandnoise.txt
--- circuit-simulator/circuits/bandnoise.txt	1970-01-01 08:00:00.000000000 +0800
+++ circuit-simulator.new/circuits/bandnoise.txt	2020-04-29 20:36:14.298632288 +0800
@@ -0,0 +1,14 @@
+$ 1 0.000015625 89.03963197220334 50 5 46
+w 592 272 592 336 0
+w 592 416 592 464 0
+w 544 416 592 416 0
+w 592 416 640 416 0
+w 544 336 592 336 0
+w 592 336 640 336 0
+l 544 336 544 416 0 0.0005995841272856994 -0.009980285871804677
+c 640 336 640 416 0 0.00016898576701991088 0.01821746545171494
+r 480 272 592 272 0 200
+g 592 464 592 480 0
+n 480 272 432 272 0 1 40 5 0 0 0.5
+211 592 272 688 272 0 1 8000 1
+o 11 32 0 3106 0.3125 0.00009765625 0 -1 0
diff -ruN circuit-simulator/circuits/brentkung.txt circuit-simulator.new/circuits/brentkung.txt
--- circuit-simulator/circuits/brentkung.txt	1970-01-01 08:00:00.000000000 +0800
+++ circuit-simulator.new/circuits/brentkung.txt	2020-04-29 20:36:14.298632288 +0800
@@ -0,0 +1,298 @@
+$ 1 0.000005 0.34903429574618416 50 5 50
+! black 0 G1,P1,G2,P2 Go,Po Operator 11?1\q11\n1???\q10\n011A\q1A\n?1?1\q01\n????\q00\n
+208 160 496 256 496 0 black 5 0
+w -16 672 -16 736 0
+w -48 640 -16 640 0
+w -48 704 -16 704 0
+w -48 640 -48 704 0
+154 -16 720 112 720 0 2 0 5
+150 -16 656 112 656 0 2 5 5
+L -336 -272 -336 -304 0 0 false 5 0
+L -304 -272 -304 -304 0 1 false 5 0
+L -336 -128 -336 -160 0 1 false 5 0
+L -304 -128 -304 -160 0 1 false 5 0
+207 -336 -272 -336 -240 0 A1
+207 -304 -272 -304 -240 0 A0
+207 -336 -128 -336 -96 0 B1
+207 -304 -128 -304 -96 0 B0
+207 -80 672 -112 672 0 B0
+207 -80 640 -112 640 0 A0
+w -80 640 -48 640 0
+w -80 672 -16 672 0
+w -80 528 -16 528 0
+w -80 496 -48 496 0
+207 -80 496 -112 496 0 A1
+207 -80 528 -112 528 0 B1
+150 -16 512 112 512 0 2 0 5
+154 -16 576 112 576 0 2 5 5
+w -48 496 -48 560 0
+w -48 560 -16 560 0
+w -48 496 -16 496 0
+w -16 528 -16 592 0
+w 112 720 160 720 0
+w 112 656 144 656 0
+w 112 496 160 496 0
+w 128 528 160 528 0
+w 144 656 624 656 0
+w 112 512 112 496 0
+w 112 576 128 576 0
+w 128 576 128 528 0
+w 160 720 160 592 0
+w 144 560 160 560 0
+L -368 -272 -368 -304 0 0 false 5 0
+L -368 -128 -368 -160 0 1 false 5 0
+w 144 560 144 656 0
+207 -368 -272 -368 -240 0 A2
+207 -368 -128 -368 -96 0 B2
+w 112 576 112 624 0
+w 112 624 624 624 0
+w 112 336 320 336 0
+w 112 288 112 336 0
+w 144 272 144 368 0
+w 144 272 160 272 0
+w 160 432 160 304 0
+w 128 288 128 240 0
+w 112 288 128 288 0
+w 112 224 112 208 0
+w 144 368 320 368 0
+w 128 240 160 240 0
+w 112 208 160 208 0
+w 112 368 144 368 0
+w 112 432 160 432 0
+w -16 240 -16 304 0
+w -48 208 -16 208 0
+w -48 272 -16 272 0
+w -48 208 -48 272 0
+154 -16 288 112 288 0 2 5 5
+150 -16 224 112 224 0 2 0 5
+207 -80 240 -112 240 0 B3
+207 -80 208 -112 208 0 A3
+w -80 208 -48 208 0
+w -80 240 -16 240 0
+w -80 384 -16 384 0
+w -80 352 -48 352 0
+207 -80 352 -112 352 0 A2
+207 -80 384 -112 384 0 B2
+150 -16 368 112 368 0 2 0 5
+154 -16 432 112 432 0 2 5 5
+w -48 352 -48 416 0
+w -48 416 -16 416 0
+w -48 352 -16 352 0
+w -16 384 -16 448 0
+208 160 208 256 208 0 black 0 5
+208 272 208 368 208 0 black 5 0
+w 256 496 256 272 0
+w 256 528 272 528 0
+w 272 528 272 304 0
+w 256 272 272 272 0
+w 256 208 272 208 0
+w 256 240 272 240 0
+w 256 -336 272 -336 0
+w 256 -368 272 -368 0
+w 256 -304 272 -304 0
+w 272 -48 272 -272 0
+w 256 -48 272 -48 0
+w 256 -80 256 -304 0
+208 272 -368 368 -368 0 black 0 0
+208 160 -368 256 -368 0 black 0 0
+w -16 -192 -16 -128 0
+w -48 -224 -16 -224 0
+w -48 -160 -16 -160 0
+w -48 -224 -48 -160 0
+154 -16 -144 112 -144 0 2 0 5
+150 -16 -208 112 -208 0 2 0 5
+207 -80 -192 -112 -192 0 B6
+207 -80 -224 -112 -224 0 A6
+w -80 -224 -48 -224 0
+w -80 -192 -16 -192 0
+w -80 -336 -16 -336 0
+w -80 -368 -48 -368 0
+207 -80 -368 -112 -368 0 A7
+207 -80 -336 -112 -336 0 B7
+150 -16 -352 112 -352 0 2 0 5
+154 -16 -288 112 -288 0 2 0 5
+w -48 -368 -48 -304 0
+w -48 -304 -16 -304 0
+w -48 -368 -16 -368 0
+w -16 -336 -16 -272 0
+w 112 -144 160 -144 0
+w 112 -208 144 -208 0
+w 112 -368 160 -368 0
+w 128 -336 160 -336 0
+w 144 -208 320 -208 0
+w 112 -352 112 -368 0
+w 112 -288 128 -288 0
+w 128 -288 128 -336 0
+w 160 -144 160 -272 0
+w 144 -304 160 -304 0
+w 144 -304 144 -208 0
+w 112 48 544 48 0
+w 112 0 112 48 0
+w 144 -16 144 80 0
+w 144 -16 160 -16 0
+w 160 144 160 16 0
+w 128 0 128 -48 0
+w 112 0 128 0 0
+w 112 -64 112 -80 0
+w 128 -48 160 -48 0
+w 112 -80 160 -80 0
+w 112 80 144 80 0
+w 112 144 160 144 0
+w -16 -48 -16 16 0
+w -48 -80 -16 -80 0
+w -48 -16 -16 -16 0
+w -48 -80 -48 -16 0
+154 -16 0 112 0 0 2 5 5
+150 -16 -64 112 -64 0 2 0 5
+207 -80 -48 -112 -48 0 B5
+207 -80 -80 -112 -80 0 A5
+w -80 -80 -48 -80 0
+w -80 -48 -16 -48 0
+w -80 96 -16 96 0
+w -80 64 -48 64 0
+207 -80 64 -112 64 0 A4
+207 -80 96 -112 96 0 B4
+150 -16 80 112 80 0 2 0 5
+154 -16 144 112 144 0 2 5 5
+w -48 64 -48 128 0
+w -48 128 -16 128 0
+w -48 64 -16 64 0
+w -16 96 -16 160 0
+208 160 -80 256 -80 0 black 0 5
+208 384 -368 496 -368 0 black 0 0
+w 368 240 384 240 0
+w 368 -368 384 -368 0
+w 368 -336 384 -336 0
+w 368 -304 384 -304 0
+208 432 -80 528 -80 0 black 5 0
+w 368 -16 432 -16 0
+w 384 16 432 16 0
+w 256 -80 432 -80 0
+w 272 -48 432 -48 0
+w 368 -304 368 -16 0
+w 368 -16 368 208 0
+w 384 -272 384 16 0
+w 384 16 384 240 0
+208 544 -224 640 -224 0 black 0 0
+w 496 -224 544 -224 0
+w 528 -48 544 -48 0
+w 512 -192 544 -192 0
+w 528 -160 528 -80 0
+w 544 -128 544 -48 0
+w 528 -160 544 -160 0
+w 320 -208 496 -208 0
+w 496 -208 496 -224 0
+w 160 -144 512 -144 0
+w 512 -144 512 -192 0
+w 512 144 512 96 0
+w 160 144 512 144 0
+w 496 80 496 64 0
+w 144 80 496 80 0
+w 528 128 544 128 0
+w 544 160 544 240 0
+w 528 128 528 208 0
+w 512 96 544 96 0
+w 496 64 544 64 0
+208 544 64 640 64 0 black 5 0
+208 544 352 640 352 0 black 5 0
+w 496 352 544 352 0
+w 512 384 544 384 0
+w 528 416 528 496 0
+w 544 448 544 528 0
+w 528 416 544 416 0
+w 320 368 496 368 0
+w 496 368 496 352 0
+w 160 432 512 432 0
+w 512 432 512 384 0
+w 256 496 528 496 0
+w 368 208 528 208 0
+w 384 240 544 240 0
+w 272 528 544 528 0
+M 160 720 896 720 0 2.5
+154 624 640 832 640 0 2 0 5
+M 832 640 896 640 0 2.5
+154 640 336 768 336 0 2 0 5
+w 448 320 640 320 0
+M 768 336 896 336 0 2.5
+w 320 336 448 336 0
+w 512 272 672 272 0
+M 800 256 896 256 0 2.5
+154 672 256 800 256 0 2 0 5
+w 640 64 672 64 0
+207 -400 -272 -400 -240 0 A3
+L -400 -272 -400 -304 0 0 false 5 0
+207 -400 -128 -400 -96 0 B3
+L -400 -128 -400 -160 0 1 false 5 0
+M 768 512 896 512 0 2.5
+154 640 512 768 512 0 2 0 5
+w 528 496 640 496 0
+w 512 432 512 560 0
+w 512 560 640 560 0
+w 640 560 640 528 0
+w 448 320 448 336 0
+L -528 -128 -528 -160 0 0 false 5 0
+207 -528 -128 -528 -96 0 B7
+207 -496 -128 -496 -96 0 B6
+L -496 -128 -496 -160 0 0 false 5 0
+207 -432 -128 -432 -96 0 B4
+207 -464 -128 -464 -96 0 B5
+L -432 -128 -432 -160 0 1 false 5 0
+L -464 -128 -464 -160 0 1 false 5 0
+L -528 -272 -528 -304 0 0 false 5 0
+207 -528 -272 -528 -240 0 A7
+207 -496 -272 -496 -240 0 A6
+L -496 -272 -496 -304 0 0 false 5 0
+207 -432 -272 -432 -240 0 A4
+207 -464 -272 -464 -240 0 A5
+L -432 -272 -432 -304 0 0 false 5 0
+L -464 -272 -464 -304 0 0 false 5 0
+w 512 144 512 272 0
+154 672 48 800 48 0 2 0 5
+M 800 48 896 48 0 2.5
+w 544 48 544 32 0
+w 544 32 672 32 0
+w 528 -80 672 -80 0
+M 800 -96 896 -96 0 2.5
+154 672 -96 800 -96 0 2 5 5
+w 512 -192 512 -256 0
+w 512 -256 640 -256 0
+154 720 -240 848 -240 0 2 0 5
+M 848 -240 896 -240 0 2.5
+w 128 -336 128 -400 0
+w 128 -400 640 -400 0
+208 -432 32 -336 32 0 black 0 0
+150 -512 224 -400 224 0 2 0 5
+152 -400 208 -288 208 0 2 0 5
+L -576 176 -624 176 0 0 false 5 0
+L -560 208 -624 208 0 0 false 5 0
+w -576 176 -400 176 0
+w -400 176 -400 192 0
+w -560 208 -528 208 0
+L -544 240 -624 240 0 0 false 5 0
+L -512 272 -624 272 0 0 false 5 0
+w -528 208 -528 304 0
+w -528 304 -400 304 0
+150 -400 288 -288 288 0 2 0 5
+w -576 176 -576 32 0
+w -576 32 -432 32 0
+w -560 208 -560 64 0
+w -560 64 -432 64 0
+w -544 240 -544 96 0
+w -544 96 -432 96 0
+w -512 272 -512 128 0
+w -512 128 -432 128 0
+w -512 272 -400 272 0
+w -544 240 -512 240 0
+w -528 208 -512 208 0
+M -336 32 -240 32 0 2.5
+M -336 64 -240 64 0 2.5
+M -288 208 -240 208 0 2.5
+M -288 288 -240 288 0 2.5
+w 528 208 672 208 0
+w 672 208 672 240 0
+w 640 -256 672 -256 0
+w 672 -256 672 -112 0
+w 640 -224 720 -224 0
+w 640 -400 720 -400 0
+w 720 -400 720 -256 0
+M 480 -368 896 -368 0 2.5
diff -ruN circuit-simulator/circuits/butter10hiaud.txt circuit-simulator.new/circuits/butter10hiaud.txt
--- circuit-simulator/circuits/butter10hiaud.txt	1970-01-01 08:00:00.000000000 +0800
+++ circuit-simulator.new/circuits/butter10hiaud.txt	2020-04-29 20:36:14.298632288 +0800
@@ -0,0 +1,22 @@
+$ 1 0.000015625 5.023272298708815 50 5 50
+w 672 304 736 304 0
+r 736 304 736 416 0 50
+g 416 416 416 432 0
+g 736 416 736 432 0
+c 352 304 416 304 0 4.159913506439094e-7 -3.0194342754091927
+l 416 304 416 416 0 0.0008769500732292581 -0.06994517404539914
+g 480 416 480 432 0
+c 416 304 480 304 0 3.5911337908455064e-7 0.043161927581063075
+l 480 304 480 416 0 0.0009644274234190516 0.03831916694082661
+g 544 416 544 432 0
+c 480 304 544 304 0 4.3096351174208214e-7 2.0651302421118185
+l 544 304 544 416 0 0.0012591084593561147 0.031652803515386393
+g 608 416 608 432 0
+c 544 304 608 304 0 6.253524119987933e-7 1.0651406597463962
+l 608 304 608 416 0 0.0021332637109752546 0.013219513153891858
+g 672 416 672 432 0
+c 608 304 672 304 0 0.0000013983305031227552 0.3575951712743466
+l 672 304 672 416 0 0.010399783766097742 0.0022591211608848317
+n 352 304 304 304 0 1 40 5 0 0 0.5
+211 736 304 816 304 0 1 8000 1
+o 19 1 0 3104 5 0.00009765625 0 -1 0
diff -ruN circuit-simulator/circuits/butter10hi.txt circuit-simulator.new/circuits/butter10hi.txt
--- circuit-simulator/circuits/butter10hi.txt	1970-01-01 08:00:00.000000000 +0800
+++ circuit-simulator.new/circuits/butter10hi.txt	2020-04-29 20:36:14.298632288 +0800
@@ -0,0 +1,22 @@
+$ 1 0.000005 5.023272298708815 50 5 50
+w 672 304 736 304 0
+r 736 304 736 416 0 50
+g 416 416 416 432 0
+g 736 416 736 432 0
+O 736 304 784 304 0
+170 352 304 320 304 3 500 8000 5 0.1
+c 352 304 416 304 0 0.0000010200273254547969 1.4185000146000166
+l 416 304 416 416 0 0.002150316434148972 0.03327430850495401
+g 480 416 480 432 0
+c 416 304 480 304 0 8.805602785626355e-7 -0.1160765141298541
+l 480 304 480 416 0 0.0023648143736226105 -0.002554336952365594
+g 544 416 544 432 0
+c 480 304 544 304 0 0.0000010567396595396527 0.007995853455447252
+l 544 304 544 416 0 0.0030873839859086767 0.0003144496252625746
+g 608 416 608 432 0
+c 544 304 608 304 0 0.0000015333889690025298 0.0014195996159137784
+l 608 304 608 416 0 0.005230847406388789 -0.00005795890531173525
+g 672 416 672 432 0
+c 608 304 672 304 0 0.000003428761970637979 -0.002080734296731226
+l 672 304 672 416 0 0.025500683136369943 -0.000012819429310813814
+o 4 2 0 2082 0.00244140625 0.00009765625 0 -1 0
diff -ruN circuit-simulator/circuits/butter10loaud.txt circuit-simulator.new/circuits/butter10loaud.txt
--- circuit-simulator/circuits/butter10loaud.txt	1970-01-01 08:00:00.000000000 +0800
+++ circuit-simulator.new/circuits/butter10loaud.txt	2020-04-29 20:36:14.298632288 +0800
@@ -0,0 +1,22 @@
+$ 1 0.000015625 5.023272298708815 49 5 50
+c 416 304 416 416 0 0.0000059051646250635805 0.2739059005450538
+l 352 304 416 304 0 0.012448659190544548 0.002897289939662071
+w 672 304 736 304 0
+r 736 304 736 416 0 50
+g 416 416 416 432 0
+g 736 416 736 432 0
+c 480 304 480 416 0 0.000005369543031057315 1.1843498765474625
+l 416 304 480 304 0 0.01442033310922977 0.013804934466231093
+g 480 416 480 432 0
+c 544 304 544 416 0 0.000004112858198910477 1.0558136996597227
+l 480 304 544 304 0 0.012016178653842758 0.025913994720653866
+g 544 416 544 432 0
+c 608 304 608 416 0 0.000002427517293683718 0.3308741323540037
+l 544 304 608 304 0 0.0082809859705 0.01356827498216165
+g 608 416 608 432 0
+c 672 304 672 416 0 4.979463676217806e-7 -0.030257758352955397
+l 608 304 672 304 0 0.0037033695101520102 0.0017828565849138801
+g 672 416 672 432 0
+n 352 304 304 304 0 1 40 5 0 0 0.5
+211 736 304 816 304 0 1 8000 1
+o 19 4 0 3106 2.5 0.00009765625 0 -1 0
diff -ruN circuit-simulator/circuits/butterbandstop.txt circuit-simulator.new/circuits/butterbandstop.txt
--- circuit-simulator/circuits/butterbandstop.txt	1970-01-01 08:00:00.000000000 +0800
+++ circuit-simulator.new/circuits/butterbandstop.txt	2020-04-29 20:36:14.298632288 +0800
@@ -0,0 +1,32 @@
+$ 1 0.000005 5.023272298708815 50 5 50
+r 736 304 736 480 0 50
+170 352 304 320 304 3 20 4000 5 0.1
+O 736 304 800 304 0
+w 352 256 352 304 0
+w 432 256 432 304 0
+g 432 480 432 496 0
+g 736 480 736 496 0
+c 352 304 432 304 0 0.000001088218489574285 -1.0346674445763004
+c 432 400 432 480 0 0.000006655252267974708 -0.023962692297138006
+l 352 256 432 256 0 0.014231566711267074 -0.041507933926888646
+l 432 304 432 400 0 0.002327042373034444 0.002688353677977118
+w 672 304 736 304 0
+w 512 256 512 304 0
+g 512 480 512 496 0
+c 432 304 512 304 0 9.82456464189743e-7 -0.01949540985112455
+c 512 400 512 480 0 0.000005574435271319324 -0.0006287696109470163
+l 432 256 512 256 0 0.015763603371049425 0.00004386001001261065
+l 512 304 512 400 0 0.0027782283365083093 -0.000011943717913265374
+w 592 256 592 304 0
+g 592 480 592 496 0
+c 512 304 592 304 0 0.0000013492046336904116 0.00008937997895035075
+c 592 400 592 480 0 0.0000034178308085741965 0.000005551722096025813
+l 512 256 592 256 0 0.011478654641475527 0.000002087663682316725
+l 592 304 592 400 0 0.00453125239317256 -9.771987995038335e-7
+w 672 256 672 304 0
+g 672 480 672 496 0
+c 592 304 672 304 0 0.0000029407000117486647 0.000025350804305585156
+c 672 400 672 480 0 7.115783355633545e-7 -0.00000711463444207224
+l 592 256 672 256 0 0.0052664515145839285 -4.85720078692354e-7
+l 672 304 672 400 0 0.021764369791485678 3.0168359010399853e-7
+o 2 8 0 2082 9.353610478917778 9.765625e-55 0 -1 0
diff -ruN circuit-simulator/circuits/capac.txt circuit-simulator.new/circuits/capac.txt
--- circuit-simulator/circuits/capac.txt	2009-05-21 09:50:27.000000000 +0800
+++ circuit-simulator.new/circuits/capac.txt	2020-04-29 20:36:14.298632288 +0800
@@ -1,6 +1,7 @@
-$ 1 5.0E-6 14.3 55 5.0
-v 176 256 176 80 0 1 40.0 5.0 0.0
-r 176 80 336 80 0 180.0
-c 336 80 336 256 0 3.3E-5 0.20495321439656933
+$ 1 0.000005 14.235633750745258 55 5 50
+v 176 256 176 80 0 1 40 5 0 0 0.5
+r 176 80 336 80 0 180
+c 336 80 336 256 0 0.000032999999999999996 -0.3187640177720373
 w 176 256 336 256 0
-o 2 64 0 3 5.0 0.05
+o 2 64 0 4099 5 0.05 0 2 2 3
+& 2 0 0.000001 0.000101 Capacitance
diff -ruN circuit-simulator/circuits/capmult.txt circuit-simulator.new/circuits/capmult.txt
--- circuit-simulator/circuits/capmult.txt	2010-01-08 06:24:15.000000000 +0800
+++ circuit-simulator.new/circuits/capmult.txt	2020-04-29 20:36:14.298632288 +0800
@@ -21,4 +21,4 @@
 x 258 408 290 414 0 24 C2
 x 319 408 349 414 0 24 R3
 o 13 64 0 34 5.0 0.003125 0 -1
-o 8 64 0 34 5.0 9.765625E-5 1 -1
+o 8 64 0 34 5.0 9.765625E-5 0 -1
diff -ruN circuit-simulator/circuits/cap.txt circuit-simulator.new/circuits/cap.txt
--- circuit-simulator/circuits/cap.txt	2009-05-21 09:50:27.000000000 +0800
+++ circuit-simulator.new/circuits/cap.txt	2020-04-29 20:36:14.298632288 +0800
@@ -1,12 +1,13 @@
-$ 1 5.0E-6 16 50 5.0
-v 96 336 96 64 0 0 40.0 5.0 0.0
-S 256 144 256 64 0 false false 0
+$ 1 0.000005 16.13108636308289 50 5 50
+v 96 336 96 64 0 0 40 5 0 0 0.5
+S 256 144 256 64 0 0 false 0 2
 w 96 64 240 64 0
 w 272 64 400 64 0
 w 400 64 400 336 0
-c 256 144 256 256 0 1.9999999999999996E-4 0
-r 256 256 256 336 0 100.0
+c 256 144 256 256 0 0.00019999999999999998 0
+r 256 256 256 336 0 100
 w 96 336 256 336 0
 w 256 336 400 336 0
-o 5 128 0 3 5.0 0.05
+o 5 128 0 4099 5 0.05 0 2 5 3
+& 5 0 0.000009999999999999999 0.00101 Capacitance
 h 2 6 5
diff -ruN circuit-simulator/circuits/chaos1.txt circuit-simulator.new/circuits/chaos1.txt
--- circuit-simulator/circuits/chaos1.txt	1970-01-01 08:00:00.000000000 +0800
+++ circuit-simulator.new/circuits/chaos1.txt	2020-04-29 20:36:14.298632288 +0800
@@ -0,0 +1,40 @@
+$ 1 0.000005 5.023272298708815 50 5 50
+w 208 96 240 96 0
+w 240 96 240 128 0
+w 240 96 240 64 0
+r 240 64 352 64 0 8333
+a 352 128 288 128 0 15 -15 1000000 -2.778358581696736 0
+r 240 128 288 128 0 45000
+g 352 144 352 176 0
+a 432 112 352 112 0 15 -15 1000000 0.000027783585816967362 0
+w 432 96 432 64 0
+r 352 64 432 64 0 1000
+r 432 96 480 96 0 1000
+w 352 112 352 64 0
+g 432 128 432 176 0
+a 112 320 208 320 0 15 -15 1000000 4.27072281188641e-7 0
+w 208 320 240 320 0
+w 240 320 240 256 0
+c 240 256 112 256 0 2e-8 -0.042707655191145284
+w 112 304 112 256 0
+w 112 256 112 192 0
+r 112 192 304 192 0 1000
+r 240 320 304 320 0 1000
+w 304 320 304 192 0
+c 304 320 304 368 0 5e-7 -0.04932181628873002
+g 112 336 112 384 0
+g 304 368 304 384 0
+r 304 320 416 320 0 1000
+a 416 336 512 336 0 15 -15 1000000 -0.0000277841414886837 0
+w 512 336 512 272 0
+w 416 320 416 272 0
+c 416 272 512 272 0 1e-8 -2.778441933009859
+g 416 352 416 384 0
+w 512 272 512 96 0
+w 512 96 480 96 0
+w 208 96 112 96 0
+w 112 96 112 192 0
+O 304 192 336 192 0
+O 512 272 544 272 0
+o 36 8 0 4298 10 0.8 0 2 35 0
+o 16 8 0 4290 5 0.8 1 2 35 0
diff -ruN circuit-simulator/circuits/chaos2.txt circuit-simulator.new/circuits/chaos2.txt
--- circuit-simulator/circuits/chaos2.txt	1970-01-01 08:00:00.000000000 +0800
+++ circuit-simulator.new/circuits/chaos2.txt	2020-04-29 20:36:14.298632288 +0800
@@ -0,0 +1,68 @@
+$ 1 0.000014999999999999999 32.755850052045055 50 5 50
+a 192 336 288 336 0 15 -15 1000000 0.000023012778728522217 0
+a 336 352 432 352 0 15 -15 1000000 0.000032601615432920936 0
+a 480 368 576 368 0 15 -15 1000000 -0.00004822089577138956 0
+r 288 336 336 336 0 47000
+r 432 352 480 352 0 47000
+w 480 384 336 384 0
+w 336 384 336 368 0
+w 336 384 192 384 0
+w 192 384 192 352 0
+w 288 336 288 288 0
+w 192 320 192 288 0
+w 336 336 336 304 0
+w 432 352 432 304 0
+w 480 352 480 320 0
+w 576 368 576 320 0
+c 192 288 288 288 0 1.0000000000000001e-7 2.3013008856309503
+c 336 304 432 304 0 1.0000000000000001e-7 3.2601941449075267
+c 480 320 576 320 0 1.0000000000000001e-7 -4.822137798034728
+w 288 256 288 288 0
+w 192 288 192 256 0
+r 608 80 560 80 0 1000
+r 560 80 480 80 0 6000
+a 560 160 480 160 0 15 -15 1000000 0.000006725343830148347 0
+d 560 112 480 112 1 0.805904783
+d 480 112 480 80 1 0.805904783
+w 560 112 560 144 0
+w 560 112 560 80 0
+w 480 160 480 112 0
+v 112 384 112 240 0 0 40 0.25 0 0 0.5
+r 112 240 112 176 0 157000
+w 192 256 192 176 0
+w 192 176 112 176 0
+a 384 176 304 176 0 15 -15 1000000 -0.0000393257794896846 0
+r 192 176 304 176 0 47000
+r 304 128 384 128 0 47000
+w 384 160 384 128 0
+w 304 128 304 176 0
+w 112 384 192 384 0
+r 432 304 432 160 0 47000
+w 432 160 384 160 0
+r 432 160 480 160 0 47000
+g 192 384 192 400 0
+g 384 192 384 208 0
+g 560 176 560 192 0
+w 576 320 608 320 0
+w 608 320 608 80 0
+O 608 320 608 352 0
+O 432 304 464 304 0
+O 288 288 320 288 0
+r 192 256 288 256 0 100000
+x 44 45 147 48 4 15 Set\sR1\sto\sthese
+x 47 58 146 61 4 15 or\sother\svalues
+x 256 252 281 255 4 20 R1
+x 50 72 140 75 4 15 for\sinteresting
+x 67 87 124 90 4 15 behavior
+x 69 114 105 117 4 15 72.1k
+x 70 128 106 131 4 15 93.9k
+x 71 142 103 145 4 15 100k
+x 188 47 307 50 4 15 Bifurcation\spoints:
+x 231 67 267 70 4 15 53.2k
+x 232 83 268 86 4 15 65.0k
+x 232 97 268 100 4 15 78.8k
+x 224 110 269 113 4 15 101.7k
+x 224 124 269 127 4 15 125.2k
+o 47 64 0 4290 7.15972597961874 9.16444925391199 0 2 46 0
+o 48 64 0 4290 8.749002899132048 5.599361855444511 1 2 47 0
+o 46 64 0 4290 8.749002899132048 5.599361855444511 2 2 48 0
diff -ruN circuit-simulator/circuits/chua.txt circuit-simulator.new/circuits/chua.txt
--- circuit-simulator/circuits/chua.txt	1970-01-01 08:00:00.000000000 +0800
+++ circuit-simulator.new/circuits/chua.txt	2020-04-29 20:36:14.298632288 +0800
@@ -0,0 +1,78 @@
+$ 1 0.000005 4.252108200006279 50 5 50
+a 624 272 560 272 1 15 -15 1000000 1.9874330283653532 1.987454890128665
+a 640 272 720 272 1 15 -15 1000000 1.9565221406445585 1.987454890128665
+r 624 208 560 208 0 220
+r 640 208 720 208 0 22000
+r 640 336 720 336 0 22000
+r 624 336 560 336 0 220
+w 624 288 624 336 0
+w 640 336 640 288 0
+w 640 256 640 208 0
+w 624 256 624 208 0
+w 560 272 560 336 0
+w 560 272 560 208 0
+w 720 208 720 272 0
+w 720 272 720 336 0
+w 624 208 624 96 0
+w 624 96 640 96 0
+w 640 96 640 208 0
+r 640 336 640 416 0 3300
+w 640 416 640 496 0
+w 640 496 624 496 0
+w 624 496 624 416 0
+w 624 336 624 352 0
+w 624 352 608 352 0
+w 624 416 608 416 0
+r 608 416 608 352 0 2200
+c 544 96 544 192 0 1e-8 1.987454890128665
+c 432 96 432 496 0 1.0000000000000001e-7 -0.48934135680906443
+w 432 496 544 496 0
+w 544 496 624 496 0
+w 624 96 544 96 0
+w 432 96 256 96 0
+w 256 96 256 128 0
+r 256 128 256 192 0 100
+r 256 192 256 256 0 1000
+a 224 192 160 192 1 15 -15 1000000 -0.4893377597151297 -0.48934135680906443
+w 224 176 224 128 0
+w 224 128 256 128 0
+w 224 208 224 256 0
+w 224 256 256 256 0
+a 304 384 384 384 0 15 -15 1000000 -0.4893377597151297 -0.4893439493763893
+w 256 192 384 192 0
+w 384 192 384 384 0
+w 256 256 256 320 0
+r 256 320 256 384 0 1000
+w 304 368 304 320 0
+w 304 320 256 320 0
+c 256 384 256 432 0 1.0000000000000001e-7 0.12963455590186862
+w 304 400 304 432 0
+w 304 432 256 432 0
+w 256 496 432 496 0
+w 256 384 160 384 0
+w 160 384 160 192 0
+w 256 496 208 496 0
+w 208 496 208 432 0
+w 208 432 160 432 0
+g 160 432 160 464 0
+w 256 192 240 192 0
+O 240 80 304 80 0
+O 384 64 304 64 0
+O 384 48 304 48 0
+w 432 96 432 64 0
+w 432 64 384 64 0
+w 384 48 544 48 0
+w 544 48 544 96 0
+w 240 80 240 192 0
+174 544 96 448 96 0 2500 0.6188 R
+174 256 432 224 432 0 2500 0.5495000000000001 R10
+w 240 448 224 448 0
+w 224 448 224 432 0
+w 224 432 208 432 0
+w 496 112 448 112 0
+w 448 112 448 96 0
+w 448 96 432 96 0
+w 544 192 544 496 0
+o 59 64 0 4290 8.749002899132048 1.3998404638611277 0 2 58 0
+o 58 64 0 4290 1.093625362391506 1.3998404638611277 1 2 57 0
+o 57 64 0 4290 1.093625362391506 5.599361855444511 2 2 59 0
diff -ruN circuit-simulator/circuits/classd.txt circuit-simulator.new/circuits/classd.txt
--- circuit-simulator/circuits/classd.txt	2009-06-22 23:55:50.000000000 +0800
+++ circuit-simulator.new/circuits/classd.txt	2020-04-29 20:36:14.298632288 +0800
@@ -1,24 +1,24 @@
-$ 1 5.0E-6 8.531194996067258 50 5.0 50
-a 160 224 256 224 0 15.0 -15.0
-f 256 256 304 256 1 1.5
-f 256 192 304 192 0 1.5
+$ 1 0.000005 8.63434833026695 50 5 50
+a 160 224 256 224 8 15 -15 1000000 -0.31888084448337395 0.12011997362524945 100000
+f 256 256 304 256 33 1.5 0.02
+f 256 192 304 192 32 1.5 0.02
 w 256 192 256 224 0
 w 256 224 256 256 0
 w 304 208 304 224 0
 w 304 224 304 240 0
-R 304 176 304 128 0 0 40.0 15.0 0.0 0.0 0.5
-l 304 224 400 224 0 0.08 0.062136746137611415
-c 400 224 400 304 0 1.0E-5 -6.657326718051054
+R 304 176 304 128 0 0 40 15 0 0 0.5
+l 304 224 400 224 0 0.08 0.050800798090137586
+c 400 224 400 304 0 0.00001 3.1202832302210446
 g 400 304 400 336 0
 w 304 272 304 288 0
 O 400 224 464 224 0
 w 160 240 160 256 0
 w 160 208 160 192 0
-R 160 256 112 256 0 3 1000.0 1.001 0.0 0.0 0.5
-R 160 192 112 192 0 1 30.0 1.001 0.0 0.0 0.5
-R 304 288 304 336 0 0 40.0 -15.0 0.0 0.0 0.5
+R 160 256 112 256 0 3 1000 1.001 0 0 0.5
+R 160 192 112 192 0 1 30 1.001 0 0 0.5
+R 304 288 304 336 0 0 40 -15 0 0 0.5
 g 256 320 256 336 0
-p 256 256 256 320 0
-o 16 64 0 34 1.2 9.765625E-5 0 -1 input
-o 19 16 0 34 20.0 9.765625E-5 1 -1
-o 12 64 0 34 15.0 4.8828125E-5 2 -1 output
+p 256 256 256 320 0 0
+o 16 64 0 4098 1.2 0.00009765625 0 2 16 3 input
+o 19 16 0 4098 20 0.00009765625 1 1
+o 12 64 0 4098 15 0.000048828125 2 1 output
diff -ruN circuit-simulator/circuits/cmostransgate.txt circuit-simulator.new/circuits/cmostransgate.txt
--- circuit-simulator/circuits/cmostransgate.txt	2009-05-21 09:50:23.000000000 +0800
+++ circuit-simulator.new/circuits/cmostransgate.txt	2020-04-29 20:36:14.299632274 +0800
@@ -1,12 +1,22 @@
-$ 1 5.0E-6 16.13108636308289 50 5.0 50
-w 320 192 400 192 0
-r 400 192 400 272 0 100.0
-g 400 272 400 304 0
-w 208 240 208 144 0
-w 288 192 144 192 0
-L 208 240 96 240 0 false false
-R 144 192 96 192 0 1 40.0 2.5 2.5
-f 304 144 304 192 1
-f 304 240 304 192 0
-I 208 144 304 144 0
-w 208 240 304 240 0
+$ 1 0.000005 19.867427341514983 58 5 50
+w 256 320 192 320 0
+R 240 224 64 224 0 1 40 2.5 2.5 0 0.5
+r 368 224 368 320 0 1000
+g 368 320 368 336 0
+O 368 224 432 224 0
+w 192 320 192 176 0
+I 192 176 256 176 0 0.5 5
+L 192 320 64 320 0 1 false 5 0
+w 272 224 272 272 0
+w 240 224 240 272 0
+R 304 192 304 160 0 0 40 5 0 0 0.5
+w 304 240 304 192 0
+g 304 256 304 288 0
+w 256 256 304 256 0
+w 256 272 256 256 0
+w 256 240 304 240 0
+w 256 224 256 240 0
+w 272 224 368 224 0
+f 256 176 256 224 97 1.5 0.02
+f 256 320 256 272 96 1.5 0.02
+o 4 64 0 4098 5 0.00009765625 0 1
diff -ruN circuit-simulator/circuits/comb.txt circuit-simulator.new/circuits/comb.txt
--- circuit-simulator/circuits/comb.txt	1970-01-01 08:00:00.000000000 +0800
+++ circuit-simulator.new/circuits/comb.txt	2020-04-29 20:36:14.299632274 +0800
@@ -0,0 +1,28 @@
+$ 17 0.000015625 14.235633750745258 44 5 35
+l 368 320 416 320 0 0.0005694204697892322 2.688387788423412
+l 416 320 464 320 0 0.0005694204697892322 0.12158061296276665
+l 464 320 512 320 0 0.0005694204697892322 -0.6864013723161193
+l 512 320 560 320 0 0.0005694204697892322 1.3711696220224574
+l 560 320 608 320 0 0.0005694204697892322 0.8423991374330994
+l 608 320 656 320 0 0.0005694204697892322 0.19250022644102613
+l 656 320 704 320 0 0.0005694204697892322 1.3913705855276095
+c 416 320 416 400 0 0.000005694204697892323 21.28909627192119
+c 464 320 464 400 0 0.000005694204697892323 -0.0408452939923051
+c 512 320 512 400 0 0.000005694204697892323 1.86921947776965
+c 560 320 560 400 0 0.000005694204697892323 -0.4113423867136387
+c 608 320 608 400 0 0.000005694204697892323 -18.9699313235905
+c 656 320 656 400 0 0.000005694204697892323 -12.696146256255664
+c 704 320 704 400 0 0.000005694204697892323 0.41689191818105736
+w 416 400 464 400 0
+w 464 400 512 400 0
+w 512 400 560 400 0
+w 560 400 608 400 0
+w 608 400 656 400 0
+w 656 400 704 400 0
+l 704 320 752 320 0 0.0005694204697892322 0.0002764831294581292
+r 752 320 752 400 0 1000
+w 704 400 752 400 0
+g 752 400 752 432 0
+n 368 320 320 320 0 1 40 5 0 0 0.5
+211 752 320 832 320 0 1 8000 1
+o 25 4 0 3104 20 0.00009765625 0 -1 0
diff -ruN circuit-simulator/circuits/crystalosc2.txt circuit-simulator.new/circuits/crystalosc2.txt
--- circuit-simulator/circuits/crystalosc2.txt	1970-01-01 08:00:00.000000000 +0800
+++ circuit-simulator.new/circuits/crystalosc2.txt	2020-04-29 20:36:14.299632274 +0800
@@ -0,0 +1,29 @@
+$ 1 5e-11 3.7524723159601 55 5 50
+c 128 192 176 192 0 9.972e-14 1079.2491905788368
+l 176 192 224 192 0 0.0025 -0.010898803118336036
+c 128 160 272 160 0 2.8679999999999998e-11 -0.18676188538046434
+r 224 192 272 192 0 6.4
+w 272 160 272 192 0
+w 128 160 128 192 0
+r 352 48 352 128 0 11000
+r 304 128 304 224 0 68000
+w 128 160 128 128 0
+w 272 224 304 224 0
+r 416 176 416 224 0 1000
+w 352 48 416 48 0
+w 352 224 416 224 0
+O 416 144 464 144 0
+R 416 48 416 16 0 0 40 5 0 0 0.5
+g 416 224 416 240 0
+t 352 128 416 128 0 1 -4.222766305791158 -0.7316149555753328 1000
+r 416 48 416 112 0 100
+w 304 128 352 128 0
+w 352 224 304 224 0
+c 352 128 352 176 0 1e-10 -0.7316149555753328
+c 352 176 352 224 0 1e-10 1.508848649772916
+w 416 176 352 176 0
+w 416 176 416 144 0
+r 128 128 304 128 0 10
+c 272 192 272 224 0 1e-10 1.0233761701498882
+o 13 32 0 12298 4.161588980179196 0.0001 0 1
+o 1 32 0 4099 2560 0.025 1 2 1 3
diff -ruN circuit-simulator/circuits/crystalosc.txt circuit-simulator.new/circuits/crystalosc.txt
--- circuit-simulator/circuits/crystalosc.txt	1970-01-01 08:00:00.000000000 +0800
+++ circuit-simulator.new/circuits/crystalosc.txt	2020-04-29 20:36:14.299632274 +0800
@@ -0,0 +1,31 @@
+$ 1 5e-11 12.050203812241895 55 5 50
+c 240 256 288 256 0 9.972e-14 -0.31822572305406016
+l 288 256 336 256 0 0.0025 -0.000007600872063764828
+c 240 224 384 224 0 2.8679999999999998e-11 -0.004091373886688121
+r 336 256 384 256 0 6.4
+w 384 224 384 256 0
+w 240 224 240 256 0
+c 240 256 240 304 0 2.1999999999999998e-11 2.5001480233068016
+c 384 256 384 304 0 2.1999999999999998e-11 2.5042393971934898
+g 240 304 240 320 0
+g 384 304 384 320 0
+f 288 160 336 160 0 1.5 0.02
+f 288 96 336 96 1 1.5 0.02
+w 336 112 336 128 0
+w 336 128 336 144 0
+w 288 160 288 128 0
+w 288 128 288 96 0
+g 336 176 336 192 0
+R 336 80 336 48 0 0 40 5 0 0 0.5
+r 240 32 384 32 0 1000000
+w 384 32 384 128 0
+w 336 128 384 128 0
+w 288 128 240 128 0
+w 240 128 240 32 0
+r 384 128 384 224 0 1000
+w 240 128 240 224 0
+O 384 128 448 128 0
+I 384 32 464 32 0 1 5
+O 464 32 512 32 0
+o 25 32 0 12554 2.512602707448287 0.0001 0 1
+o 27 32 0 4098 5 0.1 1 1
diff -ruN circuit-simulator/circuits/currentsrcelm.txt circuit-simulator.new/circuits/currentsrcelm.txt
--- circuit-simulator/circuits/currentsrcelm.txt	2009-05-21 09:50:36.000000000 +0800
+++ circuit-simulator.new/circuits/currentsrcelm.txt	2020-04-29 20:36:14.299632274 +0800
@@ -1,5 +1,5 @@
 $ 1 5.0E-6 10 50 5.0
-w 112 32 208 32 0
+w 112 32 208 32 2
 w 208 32 304 32 0
 w 304 32 400 32 0
 s 208 32 208 112 0 false false
diff -ruN circuit-simulator/circuits/delta-pwm.txt circuit-simulator.new/circuits/delta-pwm.txt
--- circuit-simulator/circuits/delta-pwm.txt	1970-01-01 08:00:00.000000000 +0800
+++ circuit-simulator.new/circuits/delta-pwm.txt	2020-04-29 20:36:14.299632274 +0800
@@ -0,0 +1,31 @@
+$ 3 0.000005 3.046768661252054 48 5 50
+w 520 168 520 216 0
+w 440 168 440 200 0
+a 440 216 520 216 0 15 -15 1000000 0.000033177019031387954 0
+c 440 168 520 168 0 0.0000057999999999999995 3.3177350801578274
+r 400 200 440 200 0 1000
+a 208 200 280 200 0 15 -15 1000000 -1.6588515874906469 -1.658850951569398
+r 208 152 280 152 0 100
+r 208 184 160 184 0 100
+r 208 216 160 216 0 100
+r 208 216 208 264 0 100
+w 208 184 208 152 0
+w 280 152 280 200 0
+g 208 264 208 280 0
+w 160 296 160 216 0
+g 440 232 440 256 0
+w 520 216 520 296 0
+w 520 296 160 296 0
+R 160 184 128 184 0 1 40 5 0 0 0.5
+a 344 200 400 200 2 15 -15 1000000 5 2.5
+R 344 208 344 240 0 0 40 2.5 0 0 0.5
+183 280 200 328 200 0 0.5 -0.1 0.1
+w 328 200 328 192 0
+w 328 192 344 192 0
+207 280 152 280 112 0 difference
+207 520 296 520 328 0 decoded
+207 344 192 344 152 0 encoded
+o 17 16 0 4098 5 0.05 0 2 17 3
+o 24 16 0 4098 10.200869587341785 0.0001 1 2 24 3
+o 23 2 0 4098 0.2269145894737822 0.0001 2 2 23 3
+o 25 2 0 4098 5 0.00009765625 3 2 25 3
diff -ruN circuit-simulator/circuits/diodecurve.txt circuit-simulator.new/circuits/diodecurve.txt
--- circuit-simulator/circuits/diodecurve.txt	2009-05-21 09:50:32.000000000 +0800
+++ circuit-simulator.new/circuits/diodecurve.txt	2020-04-29 20:36:14.299632274 +0800
@@ -2,6 +2,6 @@
 R 288 208 288 160 0 3 50.0 0.65 0.25 0.0 0.5
 d 288 208 288 288 0
 g 288 288 288 320 0
-o 1 64 0 34 1.25 25.6 0 -1
-o 1 64 0 33 0.625 51.2 0 -1
-o 1 64 0 99 1.25 51.2 1 -1 I vs V
+o 1 64 0 4098 1.25 25.6 0 2 1 3
+o 1 64 0 4097 0.625 6.4 0 2 1 3
+o 1 64 0 4163 1.25e-8 5.12e-7 1 2 1 3 I vs V
diff -ruN circuit-simulator/circuits/eclosc.txt circuit-simulator.new/circuits/eclosc.txt
--- circuit-simulator/circuits/eclosc.txt	2009-05-21 09:50:28.000000000 +0800
+++ circuit-simulator.new/circuits/eclosc.txt	2020-04-29 20:36:14.299632274 +0800
@@ -1,28 +1,40 @@
-$ 1 5.0E-6 8.63434833026695 49 1.0 50
-l 128 192 128 256 0 0.1 0.009389546443369765
-c 192 192 192 256 0 4.9999999999999996E-5 0.39860877318423565
-t 160 144 208 144 0 1 0.39860877318423565 0.6730719429761438 100.0
-t 352 144 304 144 0 1 -0.39860877318423565 0.2744631697919081 100.0
-w 208 128 208 96 0
-w 208 96 240 96 0
-g 240 96 240 112 0
-w 208 160 208 176 0
-w 208 176 256 176 0
-w 256 176 304 176 0
-w 304 176 304 160 0
-r 256 176 256 240 0 100.0
-R 256 240 256 272 0 0 40.0 -5.2 0.0 0.0 0.5
-w 304 128 304 64 0
-w 304 64 160 64 0
-w 160 64 160 144 0
-w 160 144 160 192 0
-w 160 192 128 192 0
-w 160 192 192 192 0
-w 128 256 160 256 0
-w 160 256 192 256 0
-g 160 256 160 272 0
-g 352 144 352 160 0
-O 304 64 368 64 0
-x 213 150 235 154 0 16 Q1
-x 279 150 301 154 0 16 Q2
-o 23 32 0 42 1.25 2.44140625E-5 0 -1
+$ 1 0.00009999999999999999 0.32112705431535615 49 1 50
+l 432 240 432 304 0 0.1 0.004198949591694825
+c 512 240 512 304 0 0.000049999999999999996 0.5491422454991525
+t 480 192 528 192 0 1 0.5491422454991525 0.5814511719124205 100
+t 672 192 624 192 0 1 -0.5491422454991525 0.03230892641326799 100
+w 528 176 528 144 0
+w 528 144 560 144 0
+g 560 144 560 160 0
+w 528 208 528 224 0
+w 528 224 576 224 0
+w 576 224 624 224 0
+w 624 224 624 208 0
+r 576 224 576 288 0 4700
+R 576 288 576 320 0 0 40 -5.2 0 0 0.5
+w 624 176 624 112 0
+w 624 112 480 112 0
+w 480 112 480 192 0
+w 480 192 480 240 0
+w 480 240 432 240 0
+w 480 240 512 240 0
+w 432 304 480 304 0
+w 480 304 512 304 0
+g 432 304 432 320 0
+g 672 192 672 208 0
+O 720 112 784 112 0
+x 533 198 554 201 0 16 Q1
+x 599 198 620 201 0 16 Q2
+r 720 112 720 192 0 4474
+g 720 192 720 208 0
+w 720 112 624 112 0
+x 682 159 705 162 0 18 RL
+r 384 240 384 304 0 4474
+x 389 352 513 355 0 18 Qu=100 QL=50
+x 618 264 825 267 0 18 Uout=0.85*Uoutsaturation
+w 384 240 432 240 0
+w 432 304 384 304 0
+x 347 279 370 282 0 18 Rp
+x 533 352 728 355 0 18 If Rp=RL, then QL=Qu/2
+x 385 226 467 229 0 18 fo=71.2Hz
+o 23 2 0 42 0.625 0.0000244140625 0 -1
diff -ruN circuit-simulator/circuits/fanout.txt circuit-simulator.new/circuits/fanout.txt
--- circuit-simulator/circuits/fanout.txt	1970-01-01 08:00:00.000000000 +0800
+++ circuit-simulator.new/circuits/fanout.txt	2020-04-29 20:36:14.299632274 +0800
@@ -0,0 +1,89 @@
+$ 1 0.000005 1.1208435524800693 54 5 50
+t 224 192 224 272 0 1 0.5932794688939791 0.6112077207192264 100
+t 240 272 320 272 0 1 -4.98207174786977 0.017928251825247318 100
+g 320 288 320 336 0
+r 224 192 224 112 0 4700
+r 320 112 320 192 0 1000
+w 320 192 320 256 0
+R 224 112 144 112 0 0 40 5 0 0 0.5
+w 224 112 320 112 0
+O 320 192 400 192 1
+L 208 272 128 272 0 0 false 5 0
+L 544 272 464 272 0 1 false 5 0
+w 560 112 656 112 0
+R 560 112 480 112 0 0 40 5 0 0 0.5
+w 656 192 656 256 0
+r 656 112 656 192 0 1000
+r 560 192 560 112 0 4700
+g 656 288 656 336 0
+t 576 272 656 272 0 1 0.6053658344412197 0.6626787786766478 100
+t 560 192 560 272 0 1 0.5897066862374193 -3.747614535085933 100
+w 656 192 768 192 2
+t 832 192 832 272 0 1 0.592941492860246 0.6108697446852587 100
+t 848 272 928 272 0 1 -4.924758802000795 0.07524119606044077 100
+g 928 288 928 336 0
+r 832 192 832 112 0 4700
+r 928 112 928 192 0 1000
+w 928 192 928 256 0
+w 832 112 928 112 0
+O 928 192 1008 192 1
+w 768 272 816 272 0
+R 832 112 832 80 0 0 40 5 0 0 0.5
+R 832 368 832 336 0 0 40 5 0 0 0.5
+w 768 528 816 528 0
+O 928 448 1008 448 1
+w 832 368 928 368 0
+w 928 448 928 512 0
+r 928 368 928 448 0 1000
+r 832 448 832 368 0 4700
+g 928 544 928 592 0
+t 848 528 928 528 0 1 -4.924758802000795 0.07524119606044061 100
+t 832 448 832 528 0 1 0.5929414928602463 0.6108697446852589 100
+R 832 -144 832 -176 0 0 40 5 0 0 0.5
+w 768 16 816 16 0
+O 928 -64 1008 -64 1
+w 832 -144 928 -144 0
+w 928 -64 928 0 0
+r 928 -144 928 -64 0 1000
+r 832 -64 832 -144 0 4700
+g 928 32 928 80 0
+t 848 16 928 16 0 1 -4.924758802000795 0.07524119606044077 100
+t 832 -64 832 16 0 1 0.5929414928602459 0.6108697446852586 100
+w 768 16 768 192 0
+w 768 272 768 528 0
+w 1120 288 1120 544 0
+w 1120 32 1120 240 0
+t 1184 -48 1184 32 0 1 0.5929414928602462 0.6108697446852588 100
+t 1200 32 1280 32 0 1 -4.924758802000795 0.07524119606044069 100
+g 1280 48 1280 96 0
+r 1184 -48 1184 -128 0 4700
+r 1280 -128 1280 -48 0 1000
+w 1280 -48 1280 16 0
+w 1184 -128 1280 -128 0
+O 1280 -48 1360 -48 1
+w 1120 32 1168 32 0
+R 1184 -128 1184 -160 0 0 40 5 0 0 0.5
+t 1184 464 1184 544 0 1 0.5929414928602463 0.6108697446852588 100
+t 1200 544 1280 544 0 1 -4.924758802000795 0.07524119606044054 100
+g 1280 560 1280 608 0
+r 1184 464 1184 384 0 4700
+r 1280 384 1280 464 0 1000
+w 1280 464 1280 528 0
+w 1184 384 1280 384 0
+O 1280 464 1360 464 1
+w 1120 544 1168 544 0
+R 1184 384 1184 352 0 0 40 5 0 0 0.5
+R 1184 128 1184 96 0 0 40 5 0 0 0.5
+w 1120 288 1168 288 0
+w 1120 240 1120 288 0
+O 1280 208 1360 208 1
+w 1184 128 1280 128 0
+w 1280 208 1280 272 0
+r 1280 128 1280 208 0 1000
+r 1184 208 1184 128 0 4700
+g 1280 304 1280 352 0
+t 1200 288 1280 288 0 1 -4.924758802000795 0.07524119606044073 100
+t 1184 208 1184 288 0 1 0.592941492860246 0.6108697446852587 100
+w 768 192 768 240 0
+w 768 240 1120 240 0
+w 768 240 768 272 0
diff -ruN circuit-simulator/circuits/fullrectf.txt circuit-simulator.new/circuits/fullrectf.txt
--- circuit-simulator/circuits/fullrectf.txt	2009-05-21 09:50:29.000000000 +0800
+++ circuit-simulator.new/circuits/fullrectf.txt	2020-04-29 20:36:14.299632274 +0800
@@ -1,20 +1,20 @@
-$ 1 5.0E-6 10 50 5.0 48
-v 96 336 96 48 0 1 40.0 5.0 0.0
+$ 1 0.000019999999999999998 3.1763992386181834 50 5 48
+v 96 336 96 48 0 1 40 5 0 0 0.5
 w 96 48 224 48 0
 w 224 48 224 112 0
-d 224 112 288 176 0
-d 224 240 288 176 0
-d 160 176 224 112 0
-d 160 176 224 240 0
+d 224 112 288 176 1 0.805904783
+d 224 240 288 176 1 0.805904783
+d 160 176 224 112 1 0.805904783
+d 160 176 224 240 1 0.805904783
 w 224 240 224 336 0
 w 224 336 96 336 0
 w 160 176 160 272 0
 w 288 176 336 176 0
 w 160 272 336 272 0
-c 336 176 336 272 0 1.02E-4 3.2105610440835166
+c 336 176 336 272 0 0.000102 3.5256269570800893
 w 336 176 416 176 0
 w 336 272 416 272 0
-r 416 176 416 272 0 430.0
-x 451 232 457 232 0 16 load
-o 0 32 0 2 5.0 9.765625E-5
-o 15 32 0 3 5.0 0.0125
+r 416 176 416 272 0 430
+x 451 232 481 235 4 16 load
+o 0 8 0 4098 5 0.00009765625 0 2 0 3
+o 15 8 0 4099 5 0.0125 1 2 15 3
diff -ruN circuit-simulator/circuits/gilbertcell.txt circuit-simulator.new/circuits/gilbertcell.txt
--- circuit-simulator/circuits/gilbertcell.txt	1970-01-01 08:00:00.000000000 +0800
+++ circuit-simulator.new/circuits/gilbertcell.txt	2020-04-29 20:36:14.299632274 +0800
@@ -0,0 +1,102 @@
+$ 1 0.000005 10.20027730826997 50 5 50
+t 272 416 320 416 0 1 -7.9586511063293175 0.6041811059115092 100
+t 432 416 384 416 0 1 -8.743537811425677 0.587802296170039 100
+w 320 432 320 448 0
+r 320 448 384 448 0 1000
+w 384 432 384 448 0
+w 320 448 320 464 0
+w 384 448 384 464 0
+t 272 480 320 480 0 1 -12.164667336302934 0.5975584119633979 100
+t 432 480 384 480 0 1 -11.41219770382996 0.5975584119633979 100
+r 320 496 320 576 0 1000
+r 384 496 384 576 0 1000
+w 320 576 384 576 0
+R 320 576 224 576 0 0 40 -15 0 0 0.5
+R 272 416 224 416 0 1 80 2 0 0 0.5
+w 272 480 272 512 0
+w 272 512 432 512 0
+w 432 512 432 480 0
+g 432 416 432 448 0
+R 528 416 480 416 0 3 10 2 0 0 0.5
+t 528 416 576 416 0 1 -9.616538799021242 0.575021931996023 100
+t 528 480 576 480 0 1 -9.987778067612625 0.5975584119633979 100
+w 576 432 576 448 0
+w 576 448 576 464 0
+r 576 448 688 448 0 1000
+t 720 416 688 416 0 1 -8.145458301308762 0.6089024293432088 100
+t 720 480 688 480 0 1 -11.391097570656791 0.5975584119633979 100
+w 688 448 688 464 0
+w 688 432 688 448 0
+r 576 496 576 576 0 1000
+r 688 496 688 576 0 1000
+w 384 576 576 576 0
+w 576 576 688 576 0
+w 720 480 752 480 0
+R 752 480 800 480 0 0 40 -12 0 0 0.5
+w 432 480 528 480 0
+w 528 480 528 512 0
+w 528 512 720 512 0
+w 720 512 720 480 0
+g 720 416 720 448 0
+t 528 320 560 320 0 1 -1.065685166022 0.548160749913869 100
+t 624 320 592 320 0 1 -1.0496810400708583 0.5641990127957861 100
+w 560 336 576 336 0
+w 592 336 576 336 0
+w 576 368 576 400 0
+t 640 320 672 320 0 1 -1.0657193029527754 0.5820412472349972 100
+t 736 320 704 320 0 1 -1.0496469031400828 0.5980795101169143 100
+w 672 336 688 336 0
+w 688 336 704 336 0
+w 688 336 688 400 0
+w 576 368 576 336 0
+w 528 320 528 352 0
+w 528 352 640 352 0
+w 640 352 640 320 0
+w 736 320 736 368 0
+w 736 368 624 368 0
+w 624 368 624 320 0
+w 624 368 384 368 0
+w 384 368 384 400 0
+t 432 256 384 256 0 1 0 0.5880234585137369 100
+t 272 256 320 256 0 1 0 0.6040617213956541 100
+w 320 272 320 320 0
+w 320 320 528 320 0
+w 384 272 384 368 0
+w 320 320 320 400 0
+w 272 256 272 208 0
+w 272 208 320 208 0
+w 320 208 320 240 0
+w 320 208 352 208 0
+w 352 208 384 208 0
+w 384 208 384 240 0
+w 384 208 432 208 0
+w 432 208 432 256 0
+r 352 208 352 272 0 1000
+g 352 272 352 288 0
+w 560 304 560 256 0
+w 592 304 592 272 0
+w 704 304 704 256 0
+w 592 272 672 272 0
+w 672 272 672 304 0
+w 560 256 704 256 0
+a 752 240 848 240 0 15 -15 1000000 9.793218851496535 9.79318471456576
+w 752 192 752 224 0
+r 752 192 848 192 0 4000
+w 848 192 848 240 0
+w 752 256 752 304 0
+r 752 304 816 304 0 4000
+g 816 304 816 336 0
+w 704 256 752 256 0
+r 672 192 672 128 0 1000
+w 672 192 752 192 0
+r 704 256 704 192 0 1000
+w 704 192 704 128 0
+w 704 128 672 128 0
+w 672 128 352 128 0
+z 352 208 352 128 1 0.805904783 5.6
+R 352 128 240 128 0 0 40 15 0 0 0.5
+O 848 240 912 240 0
+w 672 192 672 304 0
+o 13 64 0 2082 2.3384026197294445 0.000045671926166590717 0 -1 0
+o 18 64 0 2082 2.3384026197294445 0.000045671926166590717 1 -1 0
+o 96 64 0 2082 17.498005798264096 9.765625e-105 2 -1 0
diff -ruN circuit-simulator/circuits/hfadc.txt circuit-simulator.new/circuits/hfadc.txt
--- circuit-simulator/circuits/hfadc.txt	2009-05-21 09:50:27.000000000 +0800
+++ circuit-simulator.new/circuits/hfadc.txt	2020-04-29 20:36:14.299632274 +0800
@@ -1,50 +1,52 @@
-$ 3 5.0E-6 11.251013186076355 50 5.0 50
-166 360 112 384 112 1 4
-R 408 160 448 160 0 0 40.0 25.5 0.0
-w 408 112 488 112 0
-w 488 112 488 184 0
-a 160 272 224 272 2 15.0 -15.0
-r 160 240 224 240 0 100000.0
-w 224 240 224 272 0
-w 488 184 160 184 0
-r 160 184 160 240 0 100000.0
-w 160 240 160 264 0
-w 120 112 120 280 0
-R 120 112 80 112 0 4 5.0 12.8 12.8
-r 120 280 160 280 0 100000.0
-g 160 352 160 368 0
-r 160 280 160 352 0 100000.0
-167 272 112 280 112 1 4
-w 120 112 272 112 0
-R 272 160 232 160 0 0 40.0 25.5 0.0
-167 272 272 296 272 1 4
-w 224 272 272 272 0
-R 272 320 232 320 0 0 40.0 1.5 0.0
-w 320 112 352 112 0
-w 320 128 344 128 0
-w 320 144 336 144 0
-w 320 160 328 160 0
-w 328 160 360 160 0
-w 336 144 360 144 0
-w 344 128 360 128 0
-w 328 160 328 256 0
-w 336 144 336 240 0
-w 344 128 344 224 0
-w 352 112 352 208 0
-w 352 112 360 112 0
-M 352 208 440 208 0 2.5
-M 344 224 456 224 0 2.5
-M 336 240 472 240 0 2.5
-M 328 256 488 256 0 2.5
-M 320 272 504 272 0 2.5
-M 320 288 520 288 0 2.5
-M 320 304 536 304 0 2.5
-M 320 320 552 320 0 2.5
-o 33 64 0 6 5.0 9.765625E-5 0
-o 34 64 0 6 5.0 9.765625E-5 0
-o 35 64 0 6 5.0 9.765625E-5 0
-o 36 64 0 6 5.0 9.765625E-5 0
-o 37 64 0 6 5.0 9.765625E-5 0
-o 38 64 0 6 5.0 9.765625E-5 0
-o 39 64 0 6 5.0 9.765625E-5 0
-o 40 64 0 6 5.0 9.765625E-5 0
+$ 3 0.000005 11.086722712598126 50 5 50
+166 376 96 400 96 1 4
+R 424 144 464 144 0 0 40 24 0 0 0.5
+w 424 96 504 96 0
+w 504 96 504 168 0
+a 176 256 240 256 2 15 -15 1000000 0 0
+r 176 224 240 224 0 100000
+w 240 224 240 256 0
+w 504 168 176 168 0
+r 176 168 176 224 0 100000
+w 176 224 176 248 0
+w 136 96 136 264 0
+R 136 96 96 96 0 4 5 12.8 12.8 0 0.5
+r 136 264 176 264 0 100000
+g 176 336 176 352 0
+r 176 264 176 336 0 100000
+167 288 96 296 96 1 4
+w 136 96 288 96 0
+R 288 144 248 144 0 0 40 24 0 0 0.5
+167 288 256 312 256 1 4
+w 240 256 288 256 0
+R 288 304 248 304 0 0 40 1.5 0 0 0.5
+w 336 96 368 96 0
+w 336 112 360 112 0
+w 336 128 352 128 0
+w 336 144 344 144 0
+w 344 144 376 144 0
+w 352 128 376 128 0
+w 360 112 376 112 0
+w 344 144 344 240 0
+w 352 128 352 224 0
+w 360 112 360 208 0
+w 368 96 368 192 0
+w 368 96 376 96 0
+M 368 192 456 192 0 2.5
+M 360 208 472 208 0 2.5
+M 352 224 488 224 0 2.5
+M 344 240 504 240 0 2.5
+M 336 256 520 256 0 2.5
+M 336 272 536 272 0 2.5
+M 336 288 552 288 0 2.5
+M 336 304 568 304 0 2.5
+o 19 64 0 4098 2.5 0.00009765625 0 2 19 3
+o 7 64 0 4098 40 0.00009765625 1 2 7 3
+o 33 64 0 4102 5 0.00009765625 2 1
+o 34 64 0 4102 5 0.00009765625 2 1
+o 35 64 0 4102 5 0.00009765625 2 1
+o 36 64 0 4102 5 0.00009765625 2 1
+o 37 64 0 4102 5 0.00009765625 2 1
+o 38 64 0 4102 5 0.00009765625 2 1
+o 39 64 0 4102 5 0.00009765625 2 1
+o 40 64 0 4102 5 0.00009765625 2 1
diff -ruN circuit-simulator/circuits/impedance.txt circuit-simulator.new/circuits/impedance.txt
--- circuit-simulator/circuits/impedance.txt	2009-05-21 09:50:30.000000000 +0800
+++ circuit-simulator.new/circuits/impedance.txt	2020-04-29 20:36:14.299632274 +0800
@@ -11,6 +11,4 @@
 v 240 272 240 208 0 1 80.0 5.0 0.0 1.5707963267948966 0.5
 w 240 208 400 208 0
 r 400 208 400 272 0 200.0
-o 6 32 0 49 5.0 0.051 0 -1
-o 11 32 0 49 5.0 0.051 0 -1
-o 7 32 0 49 5.0 0.051 0 -1
+o 6 32 3 4113 5 0.051 0 3 11 3 7 3
diff -ruN circuit-simulator/circuits/inductac.txt circuit-simulator.new/circuits/inductac.txt
--- circuit-simulator/circuits/inductac.txt	2009-05-21 09:50:30.000000000 +0800
+++ circuit-simulator.new/circuits/inductac.txt	2020-04-29 20:36:14.300632260 +0800
@@ -1,6 +1,7 @@
-$ 1 5.0E-6 14.3 55 5.0
-v 176 256 176 80 0 1 40.0 5.0 0.0
-r 176 80 336 80 0 180.0
+$ 1 0.000005 14.235633750745258 55 5 50
+v 176 256 176 80 0 1 40 5 0 0 0.5
+r 176 80 336 80 0 180
 w 176 256 336 256 0
-l 336 80 336 256 0 1.0 -0.01522759374043248
-o 3 64 0 3 10.0 0.025
+l 336 80 336 256 0 1 -0.002900944105638545
+o 3 64 0 4099 10 0.05 0 2 3 3
+& 3 0 0.1 5.1 Inductance
diff -ruN circuit-simulator/circuits/induct.txt circuit-simulator.new/circuits/induct.txt
--- circuit-simulator/circuits/induct.txt	2009-05-21 09:50:25.000000000 +0800
+++ circuit-simulator.new/circuits/induct.txt	2020-04-29 20:36:14.300632260 +0800
@@ -1,10 +1,11 @@
-$ 1 5.0E-6 16 50 5.0
-v 96 336 96 64 0 0 40.0 5.0 0.0
-S 256 144 256 64 0 false false 0
+$ 1 0.000005 16.13108636308289 50 5 50
+v 96 336 96 64 0 0 40 5 0 0 0.5
+S 256 144 256 64 0 0 false 0 2
 w 96 64 240 64 0
-r 96 336 256 336 0 140.0
-r 256 336 400 336 0 140.0
+r 96 336 256 336 0 140
+r 256 336 400 336 0 140
 w 272 64 400 64 0
 w 400 64 400 336 0
-l 256 144 256 336 0 3.0 0
-o 7 128 0 3 5.0 0.05
+l 256 144 256 336 0 3 0
+o 7 128 0 4099 5 0.05 0 2 7 3
+& 7 0 1 11 Inductance
diff -ruN circuit-simulator/circuits/jerk.txt circuit-simulator.new/circuits/jerk.txt
--- circuit-simulator/circuits/jerk.txt	1970-01-01 08:00:00.000000000 +0800
+++ circuit-simulator.new/circuits/jerk.txt	2020-04-29 20:36:14.300632260 +0800
@@ -0,0 +1,39 @@
+$ 1 5.0E-6 10.20027730826997 50 5.0 50
+a 144 288 224 288 0 15.0 -15.0 1000000.0
+a 288 304 368 304 0 15.0 -15.0 1000000.0
+a 432 320 512 320 0 15.0 -15.0 1000000.0
+a 320 176 240 176 0 15.0 -15.0 1000000.0
+r 224 288 288 288 0 100.0
+r 144 208 224 208 0 100.0
+c 144 240 224 240 0 1.0E-5 0.30810690390392026
+w 224 240 224 288 0
+w 224 240 224 208 0
+w 144 208 144 240 0
+w 144 240 144 272 0
+g 144 304 144 320 0
+g 288 320 288 336 0
+g 432 336 432 352 0
+g 320 192 320 208 0
+c 288 256 368 256 0 1.0E-5 -0.7471958311744904
+w 368 256 368 304 0
+w 288 256 288 288 0
+r 320 160 368 160 0 100.0
+r 320 128 240 128 0 100.0
+w 368 160 368 256 0
+w 320 128 320 160 0
+w 240 128 240 176 0
+d 240 128 144 128 1 0.805904783
+w 144 128 144 208 0
+r 368 304 432 304 0 100.0
+c 432 272 512 272 0 1.0E-5 0.061149048274266225
+w 432 272 432 304 0
+w 512 272 512 320 0
+r 144 96 512 96 0 100.0
+w 512 96 512 272 0
+w 144 96 144 128 0
+O 224 288 224 320 0
+O 368 304 368 336 0
+O 512 320 512 352 0
+o 32 64 0 226 5.0 3.2 0 34
+o 33 64 0 226 2.3384026197294445 2.993155353253689 1 32
+o 34 64 0 226 5.0 1.6 2 33
diff -ruN circuit-simulator/circuits/joule-thief.txt circuit-simulator.new/circuits/joule-thief.txt
--- circuit-simulator/circuits/joule-thief.txt	1970-01-01 08:00:00.000000000 +0800
+++ circuit-simulator.new/circuits/joule-thief.txt	2020-04-29 20:36:14.300632260 +0800
@@ -0,0 +1,26 @@
+$ 1 5e-9 6.450009306485578 52 1 66
+T 288 192 336 224 6 4.0000000000000003e-7 6 0.0008897636271907768 -0.08891607989108269 0.999
+t 336 256 368 256 0 1 0.40715470517629976 0.6880879736516619 100
+w 368 224 368 240 0
+r 288 192 288 160 0 1000
+w 288 224 288 256 0
+w 368 272 368 288 0
+w 368 288 224 288 0
+w 288 160 192 160 0
+w 416 288 368 288 0
+v 192 288 192 160 0 0 40 1.5 0 0 0.5
+c 224 288 224 192 0 1e-7 -0.4940116811755582
+w 192 288 224 288 0
+w 224 192 288 192 0
+r 288 256 336 256 0 10
+c 416 224 416 288 0 0.00001 1.8817953335129698
+d 368 224 416 224 1 0.805904783
+w 416 224 480 224 0
+w 480 288 416 288 0
+w 288 160 336 160 0
+w 336 160 336 192 0
+w 336 224 368 224 0
+162 480 224 480 288 1 2.1024259 1 0 0 0.01
+o 9 8 0 4355 2.5 0.4 0 2 9 3
+o 14 8 0 4355 5 0.4 1 2 14 3
+o 21 8 0 4099 5 0.1 2 2 21 3
diff -ruN circuit-simulator/circuits/lambda-diode-osc.txt circuit-simulator.new/circuits/lambda-diode-osc.txt
--- circuit-simulator/circuits/lambda-diode-osc.txt	1970-01-01 08:00:00.000000000 +0800
+++ circuit-simulator.new/circuits/lambda-diode-osc.txt	2020-04-29 20:36:14.300632260 +0800
@@ -0,0 +1,20 @@
+$ 1 0.000005 0.5999443210467817 50 5 50
+j 240 224 272 224 0 -4 0.00125
+w 272 272 240 272 0
+w 272 208 304 208 0
+g 272 272 272 288 0
+r 304 176 304 128 0 158
+l 304 128 304 80 0 0.2 -0.00042713443362244537
+c 240 176 240 80 0 5.6000000000000005e-8 -3.25140615286176
+w 240 176 272 176 0
+w 272 176 304 176 0
+w 304 80 272 80 0
+w 272 80 240 80 0
+w 272 176 272 208 0
+172 272 80 272 48 0 6 3.2800000000000002 4 2 0 0.5 Voltage
+j 304 256 272 256 1 -4 0.00125
+w 304 256 304 208 0
+w 240 272 240 224 0
+o 6 8 0 4107 5 0.00625 0 2 6 3
+o 11 8 0 4163 9.999999999999999e-16 1.25e-18 1 2 11 3
+o 5 8 0 4107 5 0.0125 2 2 5 3
diff -ruN circuit-simulator/circuits/lambda-diode.txt circuit-simulator.new/circuits/lambda-diode.txt
--- circuit-simulator/circuits/lambda-diode.txt	1970-01-01 08:00:00.000000000 +0800
+++ circuit-simulator.new/circuits/lambda-diode.txt	2020-04-29 20:36:14.300632260 +0800
@@ -0,0 +1,11 @@
+$ 1 0.000005 10.634267539816555 56 2 50
+R 320 208 320 160 0 3 50 5 5 0 0.5
+g 320 272 320 304 0
+j 288 224 320 224 0 -4 0.00125
+j 352 256 320 256 1 -4 0.00125
+w 320 272 288 272 0
+w 288 272 288 224 0
+w 320 208 352 208 0
+w 352 208 352 256 0
+o 0 64 0 4163 5e-24 6.25e-27 0 2 0 3
+o 0 64 0 4099 10 0.0125 1 2 0 3
diff -ruN circuit-simulator/circuits/ledarray.txt circuit-simulator.new/circuits/ledarray.txt
--- circuit-simulator/circuits/ledarray.txt	1970-01-01 08:00:00.000000000 +0800
+++ circuit-simulator.new/circuits/ledarray.txt	2020-04-29 20:36:14.300632260 +0800
@@ -0,0 +1,62 @@
+$ 1 0.00000625 0.529449005047003 50 5 50
+r 816 592 816 640 0 300
+r 848 592 848 640 0 300
+r 880 592 880 640 0 300
+r 976 592 976 640 0 300
+r 944 592 944 640 0 300
+r 912 592 912 640 0 300
+r 752 592 752 640 0 300
+r 784 592 784 640 0 300
+t 720 656 752 656 0 1 -4.933101106309588 1.0493310110214767e-10 100
+t 720 688 784 688 0 1 -4.933101107200232 1.0493310110303833e-10 100
+t 720 720 816 720 0 1 -4.933101106898025 1.0493310110273612e-10 100
+t 720 752 848 752 0 1 -4.933101106045909 1.0493310110188401e-10 100
+t 720 784 880 784 0 1 -4.933101106139725 1.0493310110197784e-10 100
+t 720 816 912 816 0 1 -4.933101106257256 1.0493310110209533e-10 100
+t 720 848 944 848 0 1 -4.933101106375779 1.0493310110221389e-10 100
+w 784 640 784 672 0
+w 816 640 816 704 0
+w 848 640 848 736 0
+w 880 640 880 768 0
+w 912 640 912 800 0
+w 944 640 944 832 0
+t 720 880 976 880 0 1 0.6322798038637886 0.6720904048771863 100
+w 976 640 976 864 0
+g 752 672 752 928 0
+g 784 704 784 928 0
+g 816 736 816 928 0
+g 848 768 848 928 0
+g 880 800 880 928 0
+g 912 832 912 928 0
+g 944 864 944 928 0
+g 976 896 976 928 0
+r 720 656 640 656 0 1000
+r 720 688 640 688 0 1000
+r 720 720 640 720 0 1000
+r 720 752 640 752 0 1000
+r 720 784 640 784 0 1000
+r 720 816 640 816 0 1000
+r 720 848 640 848 0 1000
+r 720 880 640 880 0 1000
+185 480 656 656 656 0 3
+R 480 656 448 656 0 0 40 5 0 0 0.5
+164 176 336 240 336 0 3 5 5 5 false 0
+w 576 1008 576 944 0
+w 544 976 544 944 0
+R 176 336 144 336 1 2 5000 2.5 2.5 0 0.5
+g 176 400 176 432 0
+! smiley 0 S2,S1,S0 A,B,C,D,E,F,G,H smiley\sgenerator 000\q00111100\n001\q01000010\n010\q10101001\n011\q10000101\n100\q10000101\n101\q10101001\n110\q01000010\n111\q00111100\n
+208 624 336 672 336 0 smiley 0 0 5 5 5 5 0 0
+w 272 336 304 336 0
+w 304 336 304 1008 0
+w 272 368 336 368 0
+w 336 368 336 976 0
+w 272 400 368 400 0
+w 368 400 368 944 0
+w 304 336 624 336 0
+w 336 368 624 368 0
+w 368 400 624 400 0
+w 304 1008 576 1008 0
+w 336 976 544 976 0
+w 368 944 512 944 0
+405 720 336 784 336 0 8 8
diff -ruN circuit-simulator/circuits/lightbulb.txt circuit-simulator.new/circuits/lightbulb.txt
--- circuit-simulator/circuits/lightbulb.txt	1970-01-01 08:00:00.000000000 +0800
+++ circuit-simulator.new/circuits/lightbulb.txt	2020-04-29 20:36:14.300632260 +0800
@@ -0,0 +1,8 @@
+$ 1 0.000009999999999999999 21.593987231061412 50 5 50
+181 688 208 688 496 0 293 100 120 0.4 0.4
+R 576 208 512 208 0 1 60 169.7056274847714 0 0 0.5
+g 688 496 688 512 0
+s 576 208 688 208 0 1 false
+o 0 64 0 20483 0.0000762939453125 0.00009765625 0 2 0 3
+o 0 64 2 4099 160 1.6 1 1 160
+o 0 64 7 20483 160 1.6 2 1 0.0000762939453125
diff -ruN circuit-simulator/circuits/longdist.txt circuit-simulator.new/circuits/longdist.txt
--- circuit-simulator/circuits/longdist.txt	2009-05-21 09:50:22.000000000 +0800
+++ circuit-simulator.new/circuits/longdist.txt	2020-04-29 20:36:14.300632260 +0800
@@ -1,31 +1,31 @@
-$ 1 5.0E-6 9.001713130052181 39 120.0 42
-v 64 208 64 80 0 1 60.0 120.0 0.0 0.0 0.5
+$ 1 0.000005 7.619785657297057 39 120 42
+v 64 208 64 80 0 1 60 169.7056274847714 0 0 0.5
 w 240 160 240 208 1
-T 160 128 240 128 0 0.5 1000.0 -1.0023486497286795 6.35743697744416E-4
+T 160 128 240 128 0 0.5 1000 0.6495256928389387 0.0000704491673906723 0.999
 w 160 128 160 80 2
 w 160 160 160 208 1
-r 160 80 64 80 0 10.0
+r 160 80 64 80 0 10
 w 64 208 160 208 0
 w 240 128 240 80 2
-r 240 80 432 80 0 500.0
-r 240 208 432 208 0 500.0
+r 240 80 432 80 0 500
+r 240 208 432 208 0 500
 w 432 80 432 128 0
 w 432 208 432 160 0
-T 432 128 496 128 0 1000000.0 0.0010 -6.357436977444156E-4 0.45338545557553267
+T 432 128 496 128 0 1000000 0.001 -0.0000704491673735269 0.4305031013469448 0.999
 w 496 128 496 80 2
 w 496 80 560 80 0
 w 496 160 496 208 1
 w 496 208 560 208 0
-r 560 80 560 208 0 200.0
-v 64 384 64 256 0 1 60.0 120.0 0.0 0.0 0.5
-r 64 256 160 256 0 10.0
-r 160 256 512 256 0 500.0
-r 160 384 512 384 0 500.0
+r 560 80 560 208 0 200
+v 64 384 64 256 0 1 60 169.7056274847714 0 0 0.5
+r 64 256 160 256 0 10
+r 160 256 512 256 0 500
+r 160 384 512 384 0 500
 w 64 384 160 384 0
 w 512 256 560 256 0
 w 512 384 560 384 0
-r 560 256 560 384 0 200.0
+r 560 256 560 384 0 200
 g 432 208 432 224 0
 g 560 208 560 224 0
-o 17 64 1 35 80.0 9.765625E-5 0 -1
-o 25 64 1 35 5.0 9.765625E-5 1 -1
+o 17 64 1 4099 80 0.00009765625 0 1 160
+o 25 64 1 4099 5 0.00009765625 1 1 5
diff -ruN circuit-simulator/circuits/multivib-a.txt circuit-simulator.new/circuits/multivib-a.txt
--- circuit-simulator/circuits/multivib-a.txt	2009-05-21 09:50:29.000000000 +0800
+++ circuit-simulator.new/circuits/multivib-a.txt	2020-04-29 20:36:14.300632260 +0800
@@ -1,25 +1,28 @@
-$ 1 5.0E-6 8.203437568215378 50 5.0 50
-w 128 48 208 48 0
+$ 1 0.000005 8.281975887399955 50 5 50
+w 112 48 208 48 0
 w 208 48 288 48 0
-w 288 48 368 48 0
-r 128 48 128 176 0 330.0
-r 208 48 208 176 0 1020.0
-r 288 48 288 176 0 1020.0
-r 368 48 368 176 0 320.0
-c 128 176 208 176 0 1.8E-5 -0.1960622475177095
-c 288 176 368 176 0 1.8E-5 -3.536074488299442
-w 368 176 368 240 0
-t 288 256 368 256 0 1 0.6643052625017931 0.6776743289781562 100.0
+w 288 48 384 48 0
+r 112 48 112 176 0 330
+r 208 48 208 176 0 1020
+r 288 48 288 176 0 1020
+r 384 48 384 176 0 320
+c 112 176 208 176 0 0.000018 3.7024016598584764
+c 384 176 288 176 0 0.000018 -0.5571050333713464
+w 384 176 384 240 0
+t 288 256 384 256 0 1 0.6334943517995971 0.6821481504454086 100
 w 208 176 288 256 0
 w 288 176 208 256 0
-t 208 256 128 256 0 1 -4.004317503283525 -3.522705421823079 100.0
-w 128 176 128 240 0
-R 128 48 80 48 0 0 40.0 5.0 0.0 0.0 0.5
-g 128 272 128 304 0
-g 368 272 368 304 0
-x 159 212 180 216 0 16 C1
-x 317 213 338 217 0 16 C2
-x 96 260 118 264 0 16 Q1
-x 382 262 404 266 0 16 Q2
-o 13 64 6 35 5.0 9.765625E-5 0 -1
-o 10 64 6 35 5.0 9.765625E-5 1 -1
+t 208 256 112 256 0 1 -3.778790978286727 0.6057588320171579 100
+w 112 176 112 240 0
+R 112 48 64 48 0 0 40 5 0 0 0.5
+g 112 272 112 304 0
+g 384 272 384 304 0
+x 159 212 179 215 4 16 C1
+x 317 213 337 216 4 16 C2
+x 85 260 106 263 4 16 Q1
+x 390 259 411 262 4 16 Q2
+403 192 208 224 240 0 12_256_0_4102_5_0.1_0_2_12_3
+403 272 208 304 240 0 11_256_0_4102_5_0.4_0_2_11_3
+403 320 128 352 160 0 8_128_0_4102_5_0.4_0_2_8_3
+403 144 128 176 160 0 7_128_0_4102_5_0.1_0_2_7_3
+o 13 64 6 4099 8.840953122049878 0.0001 0 2 10 6
diff -ruN circuit-simulator/circuits/mux.txt circuit-simulator.new/circuits/mux.txt
--- circuit-simulator/circuits/mux.txt	2009-05-21 09:50:29.000000000 +0800
+++ circuit-simulator.new/circuits/mux.txt	2020-04-29 20:36:14.300632260 +0800
@@ -1,22 +1,40 @@
-$ 1 5.0E-6 19.765835257097933 58 5.0 50
-f 256 112 256 64 0 1.5
-f 256 288 256 224 0 1.5
-f 256 176 256 224 1 1.5
-f 256 16 256 64 1 1.5
-w 256 288 192 288 0
+$ 1 0.000005 19.867427341514983 58 5 50
+f 256 160 256 112 96 1.5 .02
+f 256 16 256 64 97 1.5 .02
+w 256 320 192 320 0
 w 256 16 192 16 0
-R 240 64 64 64 0 1 80.0 2.5 2.5 0.0 0.5
-R 240 224 64 224 0 3 40.0 2.5 2.5 0.0 0.5
+R 240 64 64 64 0 1 80 2.5 2.5 0 0.5
+R 240 224 64 224 0 1 40 2.5 2.5 0 0.5
 w 272 64 368 64 0
-w 272 224 368 224 0
 w 368 64 368 224 0
-r 368 224 368 304 0 1000.0
-g 368 304 368 336 0
+r 368 224 368 320 0 1000
+g 368 320 368 336 0
 O 368 224 432 224 0
-w 256 112 256 176 0
-w 192 288 192 176 0
+w 256 160 256 176 0
+w 192 320 192 176 0
 w 192 176 192 16 0
-I 192 176 256 176 0 0.5
-L 192 288 64 288 0 1 false 5.0 0.0
-x 43 319 88 323 0 16 select
-o 13 64 0 34 5.0 9.765625E-5 0 -1
+I 192 176 256 176 0 0.5 5
+L 192 320 64 320 0 1 false 5 0
+x 42 298 83 301 4 16 select
+w 256 64 256 80 0
+w 256 80 304 80 0
+w 256 112 256 96 0
+w 256 96 304 96 0
+g 304 96 304 128 0
+w 304 80 304 32 0
+R 304 32 304 0 0 0 40 5 0 0 0.5
+w 240 64 240 112 0
+w 272 64 272 112 0
+w 272 224 272 272 0
+w 240 224 240 272 0
+R 304 192 304 160 0 0 40 5 0 0 0.5
+w 304 240 304 192 0
+g 304 256 304 288 0
+w 256 256 304 256 0
+w 256 272 256 256 0
+w 256 240 304 240 0
+w 256 224 256 240 0
+w 272 224 368 224 0
+f 256 176 256 224 97 1.5 .02
+f 256 320 256 272 96 1.5 .02
+o 10 64 0 4098 5 0.00009765625 0 1
diff -ruN circuit-simulator/circuits/nmosfet.txt circuit-simulator.new/circuits/nmosfet.txt
--- circuit-simulator/circuits/nmosfet.txt	2009-05-21 09:50:30.000000000 +0800
+++ circuit-simulator.new/circuits/nmosfet.txt	2020-04-29 20:36:14.300632260 +0800
@@ -1,5 +1,5 @@
 $ 1 5.0E-6 10.391409633455755 50 5.0 50
-f 304 240 352 240 0 1.5
+f 304 240 352 240 32 1.5 0.02
 172 304 240 272 240 0 6 3.5 5.0 0.0 0.0 0.5 Gate Voltage
 w 352 256 352 304 0
 w 352 224 352 176 1
diff -ruN circuit-simulator/circuits/opampfeedback.txt circuit-simulator.new/circuits/opampfeedback.txt
--- circuit-simulator/circuits/opampfeedback.txt	2009-05-21 09:50:28.000000000 +0800
+++ circuit-simulator.new/circuits/opampfeedback.txt	2020-04-29 20:36:14.300632260 +0800
@@ -1,6 +1,6 @@
 $ 1 5.0E-6 11.251013186076355 50 5.0 50
 a 192 176 320 176 0 15.0 -15.0
-172 192 192 144 192 0 6 3.3 5.0 0.0 0.0 0.5 + Voltage
+172 192 192 144 192 0 6 3.3 5.0 0.0 0.0 0.5 %2b Voltage
 O 320 176 368 176 1
 w 320 176 320 112 0
 w 192 112 192 160 0
diff -ruN circuit-simulator/circuits/opamp-regulator.txt circuit-simulator.new/circuits/opamp-regulator.txt
--- circuit-simulator/circuits/opamp-regulator.txt	2010-05-17 09:26:17.000000000 +0800
+++ circuit-simulator.new/circuits/opamp-regulator.txt	2020-04-29 20:36:14.300632260 +0800
@@ -1,29 +1,29 @@
-$ 1 5.0E-6 10.20027730826997 50 5.0 50
-r 192 160 192 208 0 10000.0
-g 192 272 192 288 0
-a 240 224 336 224 1 15.0 -15.0 1000000.0
-w 240 208 192 208 0
-w 192 160 320 160 0
-w 336 192 336 224 0
-w 352 160 416 160 1
-w 240 240 240 272 0
-w 240 272 416 272 0
-r 416 160 416 272 0 470.0
-r 416 272 416 336 0 470.0
-g 416 336 416 352 0
-w 416 160 544 160 2
-t 336 192 336 160 1 1 0.47225771069311584 0.6621194688210963 100.0
-v 560 240 560 176 0 5 60.0 6.0 2.5 0.0 0.5
-w 560 240 560 272 1
-g 560 272 560 288 0
-z 192 272 192 208 1 0.805904783 6.14
-x 502 319 631 323 0 18 Simulated load
-x 519 332 614 335 0 12 Variable Current
-x 436 142 518 145 0 12 Stable Voltage
-R 80 160 80 256 0 3 120.0 2.0 16.0 0.0 0.5
-x 40 294 142 298 0 18 Variable V/I
-174 544 160 576 176 0 1000.0 0.5 Load Current
-r 80 160 192 160 0 100.0
-o 21 64 0 35 20.0 0.05 0 -1 input
-o 12 64 0 35 20.0 0.025 1 -1 regulated
-o 14 64 0 35 10.0 0.025 2 -1 load
+$ 1 5.0E-6 10.20027730826997 50 5.0 50
+r 192 160 192 208 0 10000.0
+g 192 272 192 288 0
+a 240 224 336 224 1 15.0 -15.0 1000000.0
+w 240 208 192 208 0
+w 192 160 320 160 0
+w 336 192 336 224 0
+w 352 160 416 160 1
+w 240 240 240 272 0
+w 240 272 416 272 0
+r 416 160 416 272 0 470.0
+r 416 272 416 336 0 470.0
+g 416 336 416 352 0
+w 416 160 544 160 2
+t 336 192 336 160 1 1 0.47225771069311584 0.6621194688210963 100.0
+v 560 240 560 176 0 5 60.0 6.0 2.5 0.0 0.5
+w 560 240 560 272 1
+g 560 272 560 288 0
+z 192 272 192 208 1 0.805904783 6.14
+x 502 319 631 323 0 18 Simulated load
+x 519 332 614 335 0 12 Variable Current
+x 436 142 518 145 0 12 Stable Voltage
+R 80 160 80 256 0 3 120.0 2.0 16.0 0.0 0.5
+x 40 294 142 298 0 18 Variable V/I
+174 544 160 576 176 0 1000.0 0.5 Load Current
+r 80 160 192 160 0 100.0
+o 21 64 0 35 20.0 0.05 0 -1 input
+o 12 64 0 35 20.0 0.025 1 -1 regulated
+o 14 64 0 35 10.0 0.025 2 -1 load
diff -ruN circuit-simulator/circuits/opamp.txt circuit-simulator.new/circuits/opamp.txt
--- circuit-simulator/circuits/opamp.txt	2009-05-21 09:50:27.000000000 +0800
+++ circuit-simulator.new/circuits/opamp.txt	2020-04-29 20:36:14.300632260 +0800
@@ -1,5 +1,5 @@
 $ 1 5.0E-6 10.812258501325767 50 5.0 50
 a 256 240 384 240 0 15.0 -15.0
 172 256 224 208 224 0 6 3.0 5.0 0.0 0.0 0.5 - Voltage
-172 256 256 208 256 0 6 4.0 5.0 0.0 0.0 0.5 + Voltage
+172 256 256 208 256 0 6 4.0 5.0 0.0 0.0 0.5 %2b Voltage
 O 384 240 432 240 1
diff -ruN circuit-simulator/circuits/opint-current.txt circuit-simulator.new/circuits/opint-current.txt
--- circuit-simulator/circuits/opint-current.txt	2010-01-08 02:56:00.000000000 +0800
+++ circuit-simulator.new/circuits/opint-current.txt	2020-04-29 20:36:14.300632260 +0800
@@ -104,6 +104,6 @@
 w 624 256 592 256 0
 r 240 32 144 32 0 150.0
 R 144 32 96 32 0 1 40.0 5.0 0.0 0.0 0.5
-x 29 167 48 173 0 24 +
+x 29 167 48 173 0 24 %2b
 x 241 195 255 201 0 24 -
 o 97 16 0 34 20.0 9.765625E-5 0 -1
diff -ruN circuit-simulator/circuits/opint-invert-amp.txt circuit-simulator.new/circuits/opint-invert-amp.txt
--- circuit-simulator/circuits/opint-invert-amp.txt	2010-01-07 13:43:08.000000000 +0800
+++ circuit-simulator.new/circuits/opint-invert-amp.txt	2020-04-29 20:36:14.301632246 +0800
@@ -104,6 +104,6 @@
 w 608 272 576 272 0
 r 224 48 128 48 0 1000.0
 R 128 48 80 48 0 1 40.0 5.0 0.0 0.0 0.5
-x 13 183 32 189 0 24 +
+x 13 183 32 189 0 24 %2b
 x 225 211 239 217 0 24 -
 o 97 16 0 34 20.0 9.765625E-5 0 -1
diff -ruN circuit-simulator/circuits/opint-slew.txt circuit-simulator.new/circuits/opint-slew.txt
--- circuit-simulator/circuits/opint-slew.txt	2010-01-07 13:41:29.000000000 +0800
+++ circuit-simulator.new/circuits/opint-slew.txt	2020-04-29 20:36:14.301632246 +0800
@@ -104,7 +104,7 @@
 w 624 256 592 256 0
 r 240 32 144 32 0 1000.0
 R 144 32 96 32 0 2 12000.0 5.0 0.0 0.0 0.5
-x 29 167 48 173 0 24 +
+x 29 167 48 173 0 24 %2b
 x 241 195 255 201 0 24 -
 o 104 4 0 34 5.0 0.003125 0 -1 in
 o 97 2 0 290 20.0 9.765625E-5 1 -1 out
diff -ruN circuit-simulator/circuits/opint.txt circuit-simulator.new/circuits/opint.txt
--- circuit-simulator/circuits/opint.txt	2010-01-07 13:25:26.000000000 +0800
+++ circuit-simulator.new/circuits/opint.txt	2020-04-29 20:36:14.301632246 +0800
@@ -100,6 +100,6 @@
 R 64 128 64 176 0 1 120.0 0.1 0.0 0.0 0.5
 g 240 128 240 176 0
 x 245 105 259 111 0 24 -
-x 41 105 60 111 0 24 +
+x 41 105 60 111 0 24 %2b
 o 98 64 0 34 0.625 9.765625E-5 0 -1
 o 97 16 0 34 20.0 9.765625E-5 1 -1
diff -ruN circuit-simulator/circuits/ota-gain.txt circuit-simulator.new/circuits/ota-gain.txt
--- circuit-simulator/circuits/ota-gain.txt	1970-01-01 08:00:00.000000000 +0800
+++ circuit-simulator.new/circuits/ota-gain.txt	2020-04-29 20:36:14.301632246 +0800
@@ -0,0 +1,36 @@
+$ 1 0.000019999999999999998 7.010541234668786 64 5 50
+402 512 528 624 528 0 0_0_40_-9_0_0_0.5 0_0_40_9_0_0_0.5 0_1_-7.706770717572512_0.5136506772730565_100 0_1_-0.5136506772730565_0.5134043698921236_100 0_1_0_0.5134043698921236_100 0_1_-7.77671430671658_0.49657201297165443_100 0_1_-7.779737407777473_0.49556431261798917_100 0_-1_0.49656711146272414_-0.49632080411134893_100 0_-1_0_-0.49632080411134893_100 0_-1_16.014233971869707_-0.49656711146272414_100 0_-1_0.4955594111078838_-0.49531310375896176_100 0_-1_0_-0.49531310375896176_100 0_-1_8.063446815812046_-0.4955594111078838_100 0_1_0_0.49631590260242753_100 0_1_-0.49656220995379385_0.49631590260242753_100 0_1_-7.952802556764888_0.49656220995379385_100 0_1_0_0.5578444879154357_100 0_1_0_0.558852188269101_100
+w 192 512 192 640 1
+g 192 640 192 656 0
+R 384 384 384 352 0 1 40 1 0 0 0.5
+w 512 528 464 528 0
+r 464 432 464 384 0 8200
+R 464 384 464 352 0 0 40 9 0 0 0.5
+r 608 448 608 384 0 1000
+172 608 384 608 352 0 6 -7.89 -6 -9 0 0.5 Voltage for Iabc
+r 656 528 656 608 0 33000
+g 656 608 656 656 0
+r 384 496 384 432 0 27000
+w 656 528 624 528 0
+w 512 496 384 496 0
+w 512 560 384 560 0
+w 608 448 608 496 1
+i 304 512 192 512 0 0.0005
+c 384 384 384 432 0 0.00001 -0.20785846335140767
+S 384 496 304 496 0 1 false 1 2
+S 384 560 304 560 0 1 false 1 2
+r 304 544 256 544 0 470
+w 304 576 304 640 0
+w 256 544 256 640 0
+r 304 480 192 480 0 470
+w 256 640 192 640 1
+w 256 640 304 640 0
+w 464 432 464 480 1
+w 464 480 464 528 0
+w 192 480 192 512 0
+x 199 699 524 702 0 12 Switch in upper position - normal configuration for LM13700
+x 201 721 574 724 0 12 Switch in lower position - configuration used on LM13700 data sheet
+x 201 743 626 746 0 12 Note the difference in gain by a factor of approx. 2 between the switch settings.
+o 9 16 0 4866 0.6037878580135719 0.0001 0 2 9 3
+o 1 16 0 4097 0.0001 0.001039028731101719 1 2 1 3
+o 24 16 0 4097 0.0001 0.0010320264263969903 1 2 24 3
diff -ruN circuit-simulator/circuits/ota-ringmod.txt circuit-simulator.new/circuits/ota-ringmod.txt
--- circuit-simulator/circuits/ota-ringmod.txt	1970-01-01 08:00:00.000000000 +0800
+++ circuit-simulator.new/circuits/ota-ringmod.txt	2020-04-29 20:36:14.301632246 +0800
@@ -0,0 +1,25 @@
+$ 1 0.000005 10.20027730826997 50 5 50
+402 400 496 560 496 0 0_0_40_-9_0_0_0.5 0_0_40_9_0_0_0.5 0_1_-7.591821040735536_0.537175070024106_100 0_1_-0.537175070024106_0.5369287626247967_100 0_1_0_0.5369287626247967_100 0_1_-7.778368241883954_0.5186543317007427_100 0_1_-7.772811345334752_0.5205066305504984_100 0_-1_0.5186494302086286_-0.5184031228222352_100 0_-1_0_-0.5184031228222352_100 0_-1_15.925904696922487_-0.5186494302086286_100 0_-1_0.5205017290592329_-0.5202554216710773_100 0_-1_0_-0.5202554216710773_100 0_-1_8.145250108438379_-0.5205017290592329_100 0_1_0_0.5183982213301288_100 0_1_-0.5186445287165213_0.5183982213301288_100 0_1_-7.776949990784661_0.5186445287165213_100 0_1_0_0.5544505159112044_100 0_1_0_0.5525982170614487_100
+400 592 496 656 496 0 0_1_-9.186007259168688_0.47278136193663833_100 0_1_-9.658788621105327_0.5881593748591852_100 1
+w 560 496 576 496 0
+w 576 496 592 496 0
+r 576 496 576 640 0 33000
+r 400 528 400 640 0 18000
+w 400 640 576 640 0
+c 400 640 320 640 0 0.00001 0.18802533380813358
+R 320 640 272 640 0 4 40 1 0 0 0.5
+r 400 528 256 528 0 470
+r 400 464 256 464 0 470
+w 256 464 256 528 0
+g 256 528 256 544 0
+w 400 496 384 496 0
+r 384 496 384 352 0 10000
+R 384 352 384 320 0 0 40 9 0 0 0.5
+r 656 512 656 640 0 4700
+R 656 640 656 672 0 0 40 -9 0 0 0.5
+R 544 368 544 320 0 3 5 10 2.8 0 0.5
+r 544 368 544 432 0 20000
+R 656 352 656 320 0 0 40 9 0 0 0.5
+w 656 352 656 480 0
+w 544 432 544 464 1
+o 16 64 0 4098 10 0.0125 0 2 16 3
diff -ruN circuit-simulator/circuits/ota-vca.txt circuit-simulator.new/circuits/ota-vca.txt
--- circuit-simulator/circuits/ota-vca.txt	1970-01-01 08:00:00.000000000 +0800
+++ circuit-simulator.new/circuits/ota-vca.txt	2020-04-29 20:36:14.301632246 +0800
@@ -0,0 +1,24 @@
+$ 1 0.000005 10.20027730826997 50 5 50
+402 512 528 624 528 0 0_0_40_-9_0_0_0.5 0_0_40_9_0_0_0.5 0_1_-7.6888947638572915_0.5189199702402991_100 0_1_-0.5189199702402991_0.5186736628536401_100 0_1_0_0.5186736628536401_100 0_1_-7.7676580273939955_0.5020365620081565_100 0_1_-7.7718816602774075_0.5006286843803154_100 0_-1_0.5020316605048567_-0.5017853531417611_100 0_-1_0_-0.5017853531417611_100 0_-1_15.992375775713349_-0.5020316605048567_100 0_-1_0.5006237828756808_-0.500377475515366_100 0_-1_0_-0.500377475515366_100 0_-1_8.092813632628253_-0.5006237828756808_100 0_1_0_0.5017804516384725_100 0_1_-0.5020267590015601_0.5017804516384725_100 0_1_-7.902377898340667_0.5020267590015601_100 0_1_0_0.5576458722273044_100 0_1_0_0.5590537498551456_100
+r 384 496 288 496 0 470
+r 384 560 288 560 0 470
+w 288 496 288 560 0
+g 288 560 288 672 0
+c 384 384 336 384 0 0.00001 0.2190586410055333
+R 336 384 288 384 0 4 40 1 0 0 0.5
+w 512 528 464 528 0
+r 464 528 464 384 0 8200
+R 464 384 464 352 0 0 40 9 0 0 0.5
+r 608 448 608 384 0 1000
+172 608 384 608 352 0 6 -7.86 -6 -9 0 0.5 Voltage for Iabc
+r 656 528 656 608 0 33000
+g 656 608 656 672 0
+r 384 496 384 384 0 27000
+w 656 528 624 528 0
+w 512 496 384 496 0
+w 512 560 384 560 0
+w 608 448 608 496 1
+o 12 64 0 4614 0.14615016373309028 0.00009134385233318143 0 2 12 3
+o 6 64 0 4614 1.1692013098647223 0.000045671926166590717 0 2 6 3
+
+
diff -ruN circuit-simulator/circuits/ota-vcf-single.txt circuit-simulator.new/circuits/ota-vcf-single.txt
--- circuit-simulator/circuits/ota-vcf-single.txt	1970-01-01 08:00:00.000000000 +0800
+++ circuit-simulator.new/circuits/ota-vcf-single.txt	2020-04-29 20:36:14.301632246 +0800
@@ -0,0 +1,39 @@
+$ 1 0.0000015625 10.20027730826997 50 5 50
+402 192 464 320 464 0 0_0_40_-9_0_0_0.5 0_0_40_9_0_0_0.5 0_1_-7.256385568998182_0.5918155372619429_100 0_1_-0.5918155372619429_0.5915692298521886_100 0_1_0_0.5915692298521886_100 0_1_-7.835260202448538_0.5750751906035444_100 0_1_-7.840369757555514_0.5733720055678915_100 0_-1_0.5750702891220483_-0.574823981713557_100 0_-1_0_-0.574823981713557_100 0_-1_15.700221261291805_-0.5750702891220483_100 0_-1_0.5733671040862962_-0.5731207966779852_100 0_-1_0_-0.5731207966779852_100 0_-1_6.02846667125435_-0.5733671040862962_100 0_1_0_0.5748190802320501_100 0_1_-0.5750653876405405_0.5748190802320501_100 0_1_-9.675160960108778_0.5750653876405405_100 0_1_0_-0.014845527312218302_100 0_1_0_-0.01314234227656534_100
+400 368 464 416 464 0 0_1_-7.174954572018631_0.46162569774035767_100 0_1_-7.636580269758989_0.577003710663759_100 1
+r 416 480 416 560 0 10000
+R 416 560 416 592 0 0 40 -9 0 0 0.5
+w 192 496 160 496 0
+w 160 496 160 368 0
+r 160 368 256 368 0 10000
+w 464 368 464 480 0
+r 160 496 160 576 0 220.00000000000003
+w 192 432 112 432 0
+r 112 496 112 576 0 220.00000000000003
+w 112 496 112 432 0
+g 112 576 112 624 0
+w 112 576 160 576 0
+w 256 368 464 368 0
+w 320 464 336 464 0
+w 336 464 368 464 0
+c 336 464 336 560 0 2.2000000000000003e-9 1.8250454279813693
+w 304 352 304 304 1
+r 304 304 304 224 0 20000
+r 96 432 16 432 0 10000
+c 16 432 -16 432 0 0.00001 0.04356165516177546
+w 304 352 304 432 0
+w 320 176 336 176 0
+w 288 176 272 176 0
+R 272 176 272 128 0 0 40 -6.5 0 0 0.5
+R 336 176 336 128 0 0 40 30 0 0 0.5
+S 304 224 304 176 0 1 false 0 2
+g 336 560 336 576 0
+w 96 432 112 432 0
+v -16 432 -64 432 0 1 20 1 0 0 0.5
+R -64 432 -80 432 0 1 20000 0.25 0 0 0.5
+x 89 213 253 216 0 24 Control Voltage
+O 464 480 512 480 0
+w 416 448 416 416 0
+R 416 416 416 384 0 0 40 9 0 0 0.5
+w 464 480 416 480 0
+o 2 64 0 12546 10.234579511149313 0.0001 0 2 2 3
diff -ruN circuit-simulator/circuits/phaseshiftosc.txt circuit-simulator.new/circuits/phaseshiftosc.txt
--- circuit-simulator/circuits/phaseshiftosc.txt	2010-01-08 06:30:55.000000000 +0800
+++ circuit-simulator.new/circuits/phaseshiftosc.txt	2020-04-29 20:36:14.301632246 +0800
@@ -1,21 +1,21 @@
-$ 1 5.0E-6 13.097415321081861 58 5.0 50
-c 128 224 192 224 0 5.0E-7 11.800776695055955
-c 192 224 256 224 0 5.0E-7 2.013884192737342
-c 256 224 320 224 0 5.0E-7 -0.3404389620445001
-r 320 224 384 224 0 1000.0
-r 192 224 192 304 0 1000.0
-r 256 224 256 304 0 1000.0
-g 192 304 192 320 0
-g 256 304 256 320 0
-a 384 240 480 240 0 15.0 -15.0 1000000.0
-w 384 224 384 176 0
-r 384 176 480 176 0 29000.0
-w 480 176 480 240 0
-w 480 240 496 240 0
-w 496 240 496 144 0
-w 496 144 128 144 0
-w 128 144 128 224 0
-O 496 240 544 240 0
-g 384 256 384 304 0
-o 3 64 0 34 0.625 0.0015625 0 -1
-o 16 64 0 42 20.0 9.765625E-5 0 -1
+$ 1 0.000015625 3.046768661252054 58 5 50
+c 144 368 208 368 0 5e-7 -2.544137674334456
+c 208 368 272 368 0 5e-7 -3.308245117520446
+c 272 368 336 368 0 5e-7 -0.9716832694680744
+r 336 368 400 368 0 1000
+r 208 368 208 448 0 1000
+r 272 368 272 448 0 1000
+g 208 448 208 464 0
+g 272 448 272 464 0
+a 400 384 496 384 0 15 -15 1000000 0.00006596531227299938 0
+w 400 368 400 320 0
+r 400 320 496 320 0 29000
+w 496 320 496 384 0
+w 496 384 512 384 0
+w 512 384 512 288 0
+w 512 288 144 288 0
+w 144 288 144 368 0
+g 400 400 400 448 0
+211 512 384 592 384 0 1 8000 1
+o 3 16 0 2086 0.625 0.000390625 0 -1 0
+o 17 16 0 2094 20 0.00009765625 0 -1 0
diff -ruN circuit-simulator/circuits/piso-sr.txt circuit-simulator.new/circuits/piso-sr.txt
--- circuit-simulator/circuits/piso-sr.txt	1970-01-01 08:00:00.000000000 +0800
+++ circuit-simulator.new/circuits/piso-sr.txt	2020-04-29 20:36:14.301632246 +0800
@@ -0,0 +1,34 @@
+$ 1 0.000005 10.20027730826997 50 5 50
+155 448 208 496 208 0 5
+155 656 208 704 208 0 5
+184 560 208 592 208 0 1
+w 544 208 560 208 0
+w 752 208 768 208 0
+184 768 208 800 208 0 1
+155 864 208 912 208 0 5
+w 960 208 976 208 0
+184 976 208 1008 208 0 1
+155 1072 208 1120 208 0 5
+R 368 336 320 336 1 2 100 2.5 2.5 0 0.5
+w 368 336 448 336 0
+w 448 336 448 240 0
+w 448 336 656 336 0
+w 656 336 656 240 0
+w 656 336 864 336 0
+w 864 336 864 240 0
+w 864 336 1072 336 0
+w 1072 336 1072 240 0
+L 416 208 416 416 0 1 false 5 0
+L 560 240 560 416 0 1 false 5 0
+L 768 240 768 416 0 0 false 5 0
+L 976 240 976 416 0 0 false 5 0
+w 368 304 624 304 0
+w 624 304 832 304 0
+w 832 304 1040 304 0
+L 368 224 320 224 0 1 false 5 0
+M 1168 208 1232 208 0 2.5
+w 416 208 448 208 0
+I 368 224 368 304 0 0.5 5
+x 294 194 390 197 4 24 load/shift
+x 313 419 377 422 4 24 inputs
+x 1201 165 1267 168 4 24 output
diff -ruN circuit-simulator/circuits/pmosfet.txt circuit-simulator.new/circuits/pmosfet.txt
--- circuit-simulator/circuits/pmosfet.txt	2009-05-21 09:50:34.000000000 +0800
+++ circuit-simulator.new/circuits/pmosfet.txt	2020-04-29 20:36:14.301632246 +0800
@@ -2,7 +2,7 @@
 172 304 240 272 240 0 6 2.5 5.0 0.0 0.0 0.5 Gate Voltage
 w 352 256 352 304 0
 w 352 224 352 176 1
-f 304 240 352 240 1 1.5
+f 304 240 352 240 33 1.5 0.02
 172 352 304 352 320 0 6 3.0 5.0 0.0 0.0 0.5 Drain Voltage
 R 352 176 352 160 0 0 40.0 5.0 0.0 0.0 0.5
 o 3 64 0 35 2.5 0.1 0 -1
diff -ruN circuit-simulator/circuits/potdivide.txt circuit-simulator.new/circuits/potdivide.txt
--- circuit-simulator/circuits/potdivide.txt	2009-05-21 09:50:26.000000000 +0800
+++ circuit-simulator.new/circuits/potdivide.txt	2020-04-29 20:36:14.301632246 +0800
@@ -1,5 +1,5 @@
 $ 1 5.0E-6 10.20027730826997 50 5.0 50
-174 320 352 384 96 0 1000.0 0.5 Resistance
+174 320 352 384 96 1 1000.0 0.5 Resistance
 v 240 352 240 96 0 0 40.0 5.0 0.0 0.0 0.5
 w 240 96 320 96 0
 w 240 352 320 352 0
diff -ruN circuit-simulator/circuits/pot.txt circuit-simulator.new/circuits/pot.txt
--- circuit-simulator/circuits/pot.txt	2009-05-21 09:50:33.000000000 +0800
+++ circuit-simulator.new/circuits/pot.txt	2020-04-29 20:36:14.302632233 +0800
@@ -4,4 +4,4 @@
 w 320 224 320 160 0
 w 320 160 208 160 0
 w 320 160 432 160 0
-174 208 320 432 224 0 1000.0 0.5 Resistance
+174 208 320 432 224 1 1000.0 0.5 Resistance
diff -ruN circuit-simulator/circuits/powerfactor1.txt circuit-simulator.new/circuits/powerfactor1.txt
--- circuit-simulator/circuits/powerfactor1.txt	2009-05-21 09:50:34.000000000 +0800
+++ circuit-simulator.new/circuits/powerfactor1.txt	2020-04-29 20:36:14.301632246 +0800
@@ -1,10 +1,10 @@
-$ 13 5.0E-6 10 47 120.0 28
-v 176 304 176 128 2 1 60.0 120.0 0.0
-r 304 128 448 128 0 10.0
+$ 13 0.000005 14.235633750745258 47 120 28
+v 176 304 176 128 0 1 60 169.7056274847714 0 1.5707963267948966 0.5
+r 304 128 448 128 0 10
 w 176 304 304 304 0
-l 448 128 448 304 0 5.0 0
+l 448 128 448 304 0 5 0
 w 304 304 448 304 0
-r 176 128 304 128 0 50.0
-o 5 64 1 3 0.3125 9.765625E-5 0
-o 1 64 1 3 0.078125 2.44140625E-5 1
-o 3 64 1 3 5.0 9.765625E-5 2
+r 176 128 304 128 0 50
+o 5 64 1 4099 0.3125 0.00009765625 0 1 0.625
+o 1 64 1 4099 0.078125 0.0000244140625 1 1 0.15625
+o 3 64 1 4099 5 0.00009765625 2 1 10
diff -ruN circuit-simulator/circuits/powerfactor2.txt circuit-simulator.new/circuits/powerfactor2.txt
--- circuit-simulator/circuits/powerfactor2.txt	2009-05-21 09:50:21.000000000 +0800
+++ circuit-simulator.new/circuits/powerfactor2.txt	2020-04-29 20:36:14.301632246 +0800
@@ -1,11 +1,11 @@
-$ 13 5.0E-6 10 50 120.0 28
-v 176 304 176 128 2 1 60.0 120.0 0.0
-r 304 128 448 128 0 10.0
+$ 13 0.000005 21.593987231061412 50 120 28
+v 176 304 176 128 0 1 60 169.7056274847714 0 1.5707963267948966 0.5
+r 304 128 448 128 0 10
 w 176 304 304 304 0
-l 448 128 448 304 0 5.0 0
+l 448 128 448 304 0 5 0.0843860128549682
 w 304 304 448 304 0
-r 176 128 304 128 0 50.0
-c 304 128 304 304 0 1.4E-6 0
-o 5 64 1 3 0.3125 9.765625E-5 0
-o 1 64 1 3 0.078125 2.44140625E-5 1
-o 3 64 1 3 5.0 9.765625E-5 2
+r 176 128 304 128 0 50
+c 304 128 304 304 0 0.0000014 0
+o 5 64 1 4099 0.3125 0.00009765625 0 1 640
+o 1 64 1 4099 0.078125 0.0000244140625 1 1 0.15625
+o 3 64 1 4099 5 0.00009765625 2 1 10
diff -ruN circuit-simulator/circuits/priencoder.txt circuit-simulator.new/circuits/priencoder.txt
--- circuit-simulator/circuits/priencoder.txt	1970-01-01 08:00:00.000000000 +0800
+++ circuit-simulator.new/circuits/priencoder.txt	2020-04-29 20:36:14.301632246 +0800
@@ -0,0 +1,26 @@
+$ 1 0.000005 10.20027730826997 50 5 50
+152 624 208 720 208 0 2 0 5
+150 528 224 624 224 0 2 0 5
+I 448 208 528 208 0 0.5 5
+w 624 128 416 128 0
+152 416 304 544 304 0 2 0 5
+w 416 128 416 288 0
+w 416 320 368 320 0
+w 368 320 368 208 0
+w 368 208 448 208 0
+L 368 208 288 208 0 0 false 5 0
+L 416 128 288 128 0 0 false 5 0
+w 528 240 336 240 0
+w 336 240 336 272 0
+L 336 272 288 272 0 0 false 5 0
+152 544 368 720 368 0 3 0 5
+L 544 384 288 384 0 0 false 5 0
+w 336 272 336 368 0
+w 336 368 544 368 0
+w 544 304 544 352 0
+M 720 368 784 368 0 2.5
+M 720 208 784 208 2 2.5
+w 544 304 736 304 0
+w 736 304 736 128 0
+M 736 128 784 128 2 2.5
+w 624 128 624 192 0
diff -ruN circuit-simulator/circuits/qam-256.txt circuit-simulator.new/circuits/qam-256.txt
--- circuit-simulator/circuits/qam-256.txt	1970-01-01 08:00:00.000000000 +0800
+++ circuit-simulator.new/circuits/qam-256.txt	2020-04-29 20:36:14.301632246 +0800
@@ -0,0 +1,177 @@
+$ 1 0.000019999999999999998 1.8479586061009856 50 1 50
+166 448 496 464 496 0 4
+166 448 368 464 368 0 4
+164 224 368 256 368 0 8 5 5 0 5 5 5 5 5 false 0
+R 160 208 128 208 0 1 1000 1 0 0 0.5
+R 160 272 128 272 0 1 1000 1 0 1.5707963267948966 0.5
+w 320 368 448 368 0
+w 320 400 448 400 0
+w 320 464 448 464 0
+w 320 432 448 432 0
+g 224 592 224 608 0
+182 160 240 224 240 0 0.5 0 0.000001 5 0
+w 224 240 224 368 0
+w 160 208 160 240 0
+w 160 272 576 272 0
+w 576 272 576 432 0
+w 560 592 560 464 0
+w 624 432 576 432 0
+w 608 400 608 208 0
+w 608 208 160 208 0
+w 544 368 624 368 0
+w 544 496 624 496 0
+g 1072 560 1072 576 0
+213 976 528 1008 528 0 2 a*b*2/1000
+167 1600 528 1616 528 0 4
+168 1696 528 1728 528 0 4
+w 896 272 896 560 0
+w 896 560 976 560 0
+w 976 528 848 528 0
+w 848 528 848 368 0
+w 1584 448 1584 656 0
+w 1696 656 1584 656 0
+160 1104 576 1136 576 0 0.01 10000000000
+160 1168 576 1136 576 0 0.01 10000000000
+c 1104 576 1104 640 2 0.000001 0.5000000233263506
+g 1104 640 1104 656 0
+g 1168 640 1168 656 0
+c 1168 576 1168 640 2 0.000001 0.00019287725423230848
+w 1152 592 1152 496 0
+w 1152 496 1120 496 0
+w 1120 496 1120 560 0
+w 1136 560 1136 528 0
+w 1136 528 1072 528 0
+w 1136 528 1200 528 0
+193 848 112 912 112 0 5
+w 848 240 848 144 0
+w 944 112 960 112 0
+w 960 112 960 288 0
+w 960 496 1120 496 0
+w 848 240 1584 240 0
+R 848 112 816 112 0 0 40 5 0 0 0.5
+212 624 368 672 368 0 5 (a*2-d)*b\p(e*2-d)*c
+w 544 592 560 592 0
+w 608 400 624 400 0
+g 720 400 720 416 0
+w 720 368 848 368 0
+w 560 464 544 464 0
+w 560 464 624 464 0
+R 560 688 560 720 0 0 40 1 0 0 0.5
+w 560 688 560 592 0
+w 1568 688 1568 624 0
+w 1568 624 1600 624 0
+w 1552 528 1600 528 0
+w 1552 320 1600 320 0
+w 1568 416 1600 416 0
+w 1568 624 1568 416 0
+w 960 288 1120 288 0
+w 1136 320 1200 320 0
+w 1136 320 1072 320 0
+w 1136 352 1136 320 0
+w 1120 288 1120 352 0
+w 1152 288 1120 288 0
+w 1152 384 1152 288 0
+r 1136 416 1136 448 0 50
+g 1136 448 1136 464 0
+c 1168 368 1168 432 2 0.000001 0.00016320396758923896
+g 1168 432 1168 448 0
+g 1104 432 1104 448 0
+c 1104 368 1104 432 2 0.000001 0.3666666894431859
+160 1168 368 1136 368 0 0.01 10000000000
+160 1104 368 1136 368 0 0.01 10000000000
+w 1696 448 1584 448 0
+w 976 320 848 320 0
+w 928 352 976 352 0
+168 1696 320 1728 320 0 4
+167 1600 320 1616 320 0 4
+213 976 320 1008 320 0 2 a*b*2/1000
+g 1072 352 1072 368 0
+w 960 288 960 496 0
+w 928 352 928 208 0
+w 848 320 848 368 0
+w 1584 448 1584 240 0
+w 320 560 448 560 0
+w 320 592 448 592 0
+w 320 528 448 528 0
+w 320 496 448 496 0
+w 928 208 784 208 0
+w 784 272 896 272 0
+w 784 208 784 240 0
+182 784 240 848 240 0 0.5 0 0.000001 5 0
+R 784 272 752 272 0 1 1000 1 0 1.5707963267948966 0.5
+R 784 208 752 208 0 1 1000 1 0 0 0.5
+R 1568 688 1568 720 0 0 40 1 0 0 0.5
+w 1136 384 1136 416 0
+w 1136 592 1136 624 0
+g 1136 656 1136 672 0
+r 1136 624 1136 656 0 50
+w 1376 592 1376 624 0
+160 1344 576 1376 576 0 0.01 10000000000
+160 1408 576 1376 576 0 0.01 10000000000
+c 1344 576 1344 640 2 0.000001 0.48019647273664645
+g 1344 640 1344 656 0
+g 1408 640 1408 656 0
+c 1408 576 1408 640 2 0.000001 0.8410446469460054
+r 1344 544 1296 544 0 10
+w 1392 592 1392 496 0
+w 1392 496 1360 496 0
+w 1360 496 1360 560 0
+w 1376 560 1376 544 0
+w 1440 624 1440 528 0
+w 1152 496 1360 496 0
+w 1376 624 1440 624 0
+212 1456 528 1504 528 0 2 a/2\pb/2\pb/32
+w 1344 544 1376 544 0
+g 1552 560 1552 576 0
+w 1568 624 1456 624 0
+w 1456 624 1456 560 0
+w 1440 528 1456 528 0
+w 1440 320 1456 320 0
+w 1456 416 1456 352 0
+w 1568 416 1456 416 0
+g 1552 352 1552 368 0
+w 1344 336 1376 336 0
+212 1456 320 1504 320 0 2 a/2\pb/2\pb/32
+w 1376 416 1440 416 0
+w 1152 288 1360 288 0
+w 1440 416 1440 320 0
+w 1376 352 1376 336 0
+w 1360 288 1360 352 0
+w 1392 288 1360 288 0
+w 1392 384 1392 288 0
+r 1344 336 1296 336 0 10
+c 1408 368 1408 432 2 0.000001 0.7258338713110282
+g 1408 432 1408 448 0
+g 1344 432 1344 448 0
+c 1344 368 1344 432 2 0.000001 0.3664594038131631
+160 1408 368 1376 368 0 0.01 10000000000
+160 1344 368 1376 368 0 0.01 10000000000
+w 1376 384 1376 416 0
+M 1792 320 1824 320 0 2.5
+M 1792 352 1824 352 0 2.5
+M 1792 384 1824 384 0 2.5
+M 1792 416 1824 416 0 2.5
+M 1792 528 1824 528 0 2.5
+M 1792 560 1824 560 0 2.5
+M 1792 592 1824 592 0 2.5
+M 1792 624 1824 624 0 2.5
+O 1440 528 1440 496 0
+O 1440 320 1440 288 0
+a 1200 336 1296 336 9 15 -15 1000000 0.36666433395696657 0.36666800060030613 100000
+a 1200 544 1296 544 9 15 -15 1000000 0.5000158634244022 0.5000208635830364 100000
+w 1296 544 1296 592 0
+w 1296 592 1200 592 0
+w 1200 592 1200 560 0
+w 1200 352 1200 384 0
+w 1200 384 1296 384 0
+w 1296 384 1296 336 0
+r 1376 624 1376 656 0 50000
+g 1376 656 1376 672 0
+g 1376 448 1376 464 0
+r 1376 416 1376 448 0 50000
+403 640 592 800 752 0 157_64_0_4802_4.999999999999999e-16_1e-17_0_2_156_0
+O 848 368 864 368 0
+o 171 2 0 4098 2.5 0.1 0 1
+o 18 2 0 4098 2.5 0.00009765625 0 2 18 3
+o 13 2 0 4098 2.5 0.00009765625 0 2 13 3
+
diff -ruN circuit-simulator/circuits/relaxosc.txt circuit-simulator.new/circuits/relaxosc.txt
--- circuit-simulator/circuits/relaxosc.txt	2010-01-08 02:48:18.000000000 +0800
+++ circuit-simulator.new/circuits/relaxosc.txt	2020-04-29 20:36:14.301632246 +0800
@@ -1,15 +1,15 @@
-$ 1 5.0E-6 10.20027730826997 61 10.0 50
-a 288 224 416 224 0 15.0 -15.0 1000000.0
-w 288 208 288 160 0
-r 288 160 416 160 0 10000.0
-w 416 160 416 224 0
-w 416 224 416 288 0
-r 416 288 288 288 0 100000.0
-w 288 240 288 288 0
-r 288 288 192 288 0 100000.0
-g 192 288 192 320 0
-c 288 160 192 160 0 9.999999999999999E-7 6.154634481752644
-g 192 160 192 192 0
-O 416 224 480 224 0
-o 9 64 0 35 10.0 0.025 0 -1
-o 11 64 0 42 20.0 9.765625E-5 1 -1
+$ 1 0.000015625 0.8031194996067259 61 10 50
+a 304 368 432 368 0 15 -15 1000000 -1.5681323209337186 -7.500296600717604
+w 304 352 304 304 0
+r 304 304 432 304 0 10000
+w 432 304 432 368 0
+w 432 368 432 432 0
+r 432 432 304 432 0 100000
+w 304 384 304 432 0
+r 304 432 208 432 0 100000
+g 208 432 208 464 0
+c 304 304 208 304 0 4e-7 -1.5681323209337186
+g 208 304 208 336 0
+211 432 368 512 368 0 1 8000 1
+o 9 8 0 2083 10 0.0125 0 -1 0
+o 11 16 0 2090 20 0.00009765625 1 -1 0
diff -ruN circuit-simulator/circuits/relayosc.txt circuit-simulator.new/circuits/relayosc.txt
--- circuit-simulator/circuits/relayosc.txt	1970-01-01 08:00:00.000000000 +0800
+++ circuit-simulator.new/circuits/relayosc.txt	2020-04-29 20:36:14.302632233 +0800
@@ -0,0 +1,40 @@
+$ 1 0.000005 1.6308177459886661 50 5 50
+178 224 208 160 208 0 1 0.2 0.019217555445093713 0.05 1000000 0.02 20
+c 304 160 304 224 0 0.0000032999999999999997 3.6427246138376264
+w 304 288 304 224 0
+w 240 288 304 288 0
+w 224 240 240 240 0
+w 240 240 240 160 0
+w 240 160 304 160 0
+w 224 256 240 256 0
+178 400 208 464 208 0 1 0.2 0.03889026464993282 0.05 1000000 0.02 20
+w 336 288 368 288 0
+w 384 288 384 256 0
+w 384 240 400 240 0
+w 368 224 368 160 0
+w 368 160 304 160 0
+w 384 256 400 256 0
+w 384 240 384 224 0
+w 384 224 368 224 0
+w 400 208 400 320 0
+w 400 320 224 320 0
+w 224 320 224 208 0
+w 304 288 304 304 0
+w 304 304 464 304 0
+w 336 288 336 336 0
+w 336 336 144 336 0
+w 144 336 144 192 0
+w 304 128 304 160 0
+w 160 192 144 192 0
+g 160 224 160 240 0
+w 240 256 240 288 0
+O 464 304 464 352 0
+r 464 224 464 304 0 100
+d 368 288 368 256 1 0.805904783
+w 368 288 384 288 0
+z 368 224 368 256 1 0.805904783 12
+g 400 320 400 352 0
+R 304 128 304 96 0 0 40 5 0 0 0.5
+w 464 192 480 192 0
+g 480 192 480 208 0
+o 29 8 0 4354 17.498005798264096 9.765625e-105 0 1
diff -ruN circuit-simulator/circuits/rmsconverter.txt circuit-simulator.new/circuits/rmsconverter.txt
--- circuit-simulator/circuits/rmsconverter.txt	1970-01-01 08:00:00.000000000 +0800
+++ circuit-simulator.new/circuits/rmsconverter.txt	2020-04-29 20:36:14.302632233 +0800
@@ -0,0 +1,93 @@
+$ 1 0.000005 6.450009306485578 50 5 50
+a 96 288 160 288 0 15 -15 1000000 0 0
+a 224 304 288 304 0 15 -15 1000000 0 0
+d 96 240 160 240 1 0.805904783
+d 160 240 160 192 1 0.805904783
+w 160 240 160 288 0
+w 96 272 96 240 0
+w 96 240 96 192 0
+r 96 192 160 192 0 100000
+r 32 192 96 192 0 100000
+r 176 288 224 288 0 50000
+w 160 192 176 192 0
+w 176 192 176 288 0
+a 272 160 336 160 0 15 -15 1000000 0 0
+c 272 112 336 112 0 3e-11 0.001
+w 336 112 336 160 0
+w 272 112 272 144 0
+r 272 144 224 144 0 1000
+r 224 144 176 144 0 50000
+w 176 144 176 192 0
+g 224 320 224 352 0
+g 96 304 96 336 0
+g 272 240 272 256 0
+r 272 240 272 208 0 1000
+w 272 176 272 208 0
+r 272 208 336 208 0 100000
+174 352 192 336 224 0 10000 0.5 trimmer 1
+R 352 192 320 176 0 0 40 1.2 0 0 0.5
+R 352 224 320 240 0 0 40 -1.2 0 0 0.5
+r 32 160 96 160 0 100000
+r 32 96 96 96 0 100000
+w 96 160 224 160 0
+w 224 160 224 256 0
+w 96 96 224 96 0
+w 224 96 224 144 0
+w 32 96 32 160 0
+w 32 160 32 192 0
+c 320 304 320 272 0 1.5e-11 0.001
+w 288 304 320 304 0
+w 224 256 224 288 0
+w 224 256 256 256 0
+w 256 256 256 272 0
+w 256 272 288 272 0
+d 288 304 288 272 1 0.805904783
+w 288 272 320 272 0
+t 368 240 368 272 1 1 0 0 100
+r 384 272 384 304 0 2000
+w 352 272 320 272 0
+w 320 304 384 304 0
+w 336 160 368 160 0
+w 368 160 368 240 0
+t 384 128 384 96 1 1 0 0 100
+t 448 128 448 96 0 1 0 0 100
+w 352 96 224 96 0
+w 384 128 352 128 0
+w 352 128 352 96 0
+w 352 96 368 96 0
+d 384 128 384 160 1 0.805904783
+w 368 160 384 160 0
+w 448 128 448 160 0
+w 448 160 384 160 0
+w 400 96 416 96 0
+w 416 96 432 96 0
+r 416 96 416 144 0 2000
+c 512 144 512 96 0 1.5e-11 0.001
+d 480 144 480 96 1 0.805904783
+w 512 96 480 96 0
+w 480 96 464 96 0
+w 416 144 480 144 0
+w 480 144 512 144 0
+a 480 352 544 352 0 15 -15 1000000 0 0
+a 576 176 512 176 0 15 -15 1000000 0 0
+w 512 144 512 176 0
+w 512 96 576 96 0
+w 576 96 576 160 0
+t 432 304 432 272 0 1 0 0 100
+w 416 272 384 272 0
+w 448 272 480 272 0
+r 480 272 544 272 0 100000
+c 480 304 544 304 0 0.000001 0.001
+w 480 336 480 304 0
+w 480 304 480 272 0
+w 544 272 544 304 0
+w 544 304 544 352 0
+g 432 304 432 320 0
+g 480 368 480 400 0
+g 576 192 576 224 0
+r 544 304 608 304 0 100000
+w 576 160 608 160 0
+w 608 160 608 304 0
+O 544 352 592 352 0
+R 32 96 32 48 0 2 40 5 0 0 0.5
+o 89 64 0 4614 5 0.00009765625 0 1
diff -ruN circuit-simulator/circuits/samplenhold.txt circuit-simulator.new/circuits/samplenhold.txt
--- circuit-simulator/circuits/samplenhold.txt	2009-05-21 09:50:21.000000000 +0800
+++ circuit-simulator.new/circuits/samplenhold.txt	2020-04-29 20:36:14.302632233 +0800
@@ -1,22 +1,32 @@
-$ 1 5.0E-6 10 74 5.0 81
-f 192 112 192 160 1
-f 192 224 192 160 0
-w 192 112 256 112 0
-w 256 112 256 224 0
-I 192 224 256 224 0 0.5
-L 192 224 192 304 0 true true 5.0 0.0
+$ 1 0.000005 10.20027730826997 74 5 81
+f 192 80 192 128 97 1.5 0.02
+f 192 240 192 192 96 1.5 0.02
+w 192 80 256 80 0
+w 256 80 256 240 0
+I 192 240 256 240 0 0.5 5
+L 192 240 192 304 0 0 true 5 0
 w 208 160 304 160 0
-c 304 160 304 256 0 1.0E-7 1.9962454782690886
+c 304 160 304 256 0 1e-7 3.6399868427363087
 g 304 256 304 304 0
-a 352 160 464 160 1 15.0 -15.0
+a 352 160 464 160 9 15 -15 1000000 3.639950443231876 3.6399868427363087 100000
 w 304 160 304 144 0
 w 304 144 352 144 0
-w 352 176 352 224 0
-w 352 224 464 224 0
-w 464 224 464 160 0
+w 352 176 352 240 0
+w 352 240 464 240 0
+w 464 240 464 160 0
 O 464 160 512 160 0
-R 144 160 96 160 0 1 40.0 2.5 2.5
+R 144 160 96 160 0 1 40 2.5 2.5 0 0.5
 w 144 160 176 160 0
-x 157 341 173 341 0 20 sample
-o 16 64 0 2 6.0 9.765625E-5 0
-o 15 64 0 2 6.0 9.765625E-5 1
+x 157 341 221 344 4 20 sample
+w 176 128 176 160 0
+w 176 160 176 192 0
+w 208 128 208 160 0
+w 208 160 208 192 0
+w 192 176 144 176 0
+g 144 176 144 208 0
+w 192 144 144 144 0
+R 144 144 144 80 0 0 40 5 0 0 0.5
+w 192 176 192 192 0
+w 192 144 192 128 0
+o 16 64 0 4098 6 0.00009765625 0 2 16 3
+o 15 64 0 4098 6 0.00009765625 1 1
diff -ruN circuit-simulator/circuits/sawtooth.txt circuit-simulator.new/circuits/sawtooth.txt
--- circuit-simulator/circuits/sawtooth.txt	2010-01-08 06:28:01.000000000 +0800
+++ circuit-simulator.new/circuits/sawtooth.txt	2020-04-29 20:36:14.302632233 +0800
@@ -1,22 +1,22 @@
-$ 1 5.0E-6 10.634267539816555 63 5.0 50
-a 160 224 272 224 0 15.0 -15.0 1000000.0
-w 160 240 160 304 0
-w 160 304 272 304 0
-r 272 224 272 304 0 100000.0
-a 384 240 496 240 0 15.0 -15.0 1000000.0
-r 272 304 352 304 0 40000.0
-w 352 304 496 304 0
-w 496 304 496 240 0
-w 496 240 496 176 0
-c 384 176 496 176 0 5.0E-7 4.758165877822716
-w 384 176 384 224 0
-g 384 256 384 272 0
-O 496 240 560 240 0
-w 160 208 128 208 0
-g 128 208 128 240 0
-r 384 176 320 176 0 5000.0
-r 384 224 320 224 0 40000.0
-d 272 176 320 176 1 0.805904783
-d 320 224 272 224 1 0.805904783
-w 272 176 272 224 0
-o 12 64 0 42 10.0 9.765625E-5 0 -1
+$ 1 0.000015625 0.23988752939670982 63 5 50
+a 176 368 288 368 0 15 -15 1000000 0 -3.3188510599124754
+w 176 384 176 448 0
+w 176 448 288 448 0
+r 288 368 288 448 0 100000
+a 400 384 512 384 0 15 -15 1000000 -0.000013537412641583223 0
+r 288 448 368 448 0 40000
+w 368 448 512 448 0
+w 512 448 512 384 0
+w 512 384 512 320 0
+c 400 320 512 320 0 2.0000000000000002e-7 -1.353754801570964
+w 400 320 400 368 0
+g 400 400 400 416 0
+w 176 352 144 352 0
+g 144 352 144 384 0
+r 400 320 336 320 0 1500
+r 400 368 336 368 0 40000
+d 288 320 336 320 1 0.805904783
+d 336 368 288 368 1 0.805904783
+w 288 320 288 368 0
+211 512 384 576 384 0 1 8000 1
+o 19 2 0 2082 10 0.00009765625 0 -1 0
diff -ruN circuit-simulator/circuits/sine.txt circuit-simulator.new/circuits/sine.txt
--- circuit-simulator/circuits/sine.txt	2009-05-21 09:50:29.000000000 +0800
+++ circuit-simulator.new/circuits/sine.txt	2020-04-29 20:36:14.302632233 +0800
@@ -1,24 +1,24 @@
-$ 1 5.0E-6 10.812258501325767 53 15.0 50
-a 80 128 192 128 0 15.0 -15.0
-w 80 112 32 112 0
-w 80 144 80 208 0
-a 304 144 416 144 0 15.0 -15.0
-w 416 208 416 144 0
-w 416 144 416 80 0
-c 304 80 416 80 0 2.0E-6 -9.423018815839887
-w 304 80 304 128 0
-r 192 128 304 128 0 1000.0
-g 304 160 304 176 0
-O 416 144 480 144 0
-w 80 112 80 48 0
-c 80 48 192 48 0 2.0E-6 10.648649139047
-w 192 48 192 128 0
-r 80 208 192 208 0 1000.0
-w 192 208 416 208 0
-c 80 208 80 272 0 2.0E-6 -1.201945379750099
-g 80 272 80 304 0
-r 32 112 32 192 0 996.0
-g 32 192 32 224 0
-O 192 48 256 48 0
-o 20 64 0 42 20.0 9.765625E-5 0 -1
-o 10 64 0 34 20.0 9.765625E-5 0 -1
+$ 1 0.000015625 3.3115451958692312 53 15 50
+a 176 336 288 336 0 15 -15 1000000 4.625095631819375 4.625238488359337
+w 176 320 128 320 0
+w 176 352 176 416 0
+a 400 352 512 352 0 15 -15 1000000 0.000050067089031542284 0
+w 512 416 512 352 0
+w 512 352 512 288 0
+c 400 288 512 288 0 0.000001 5.0067589702432596
+w 400 288 400 336 0
+r 288 336 400 336 0 1000
+g 400 368 400 384 0
+w 176 320 176 256 0
+c 176 256 288 256 0 0.000001 -9.66055836432534
+w 288 256 288 336 0
+r 176 416 288 416 0 1000
+w 288 416 512 416 0
+c 176 416 176 480 0 0.000001 4.625238488359337
+g 176 480 176 512 0
+r 128 320 128 400 0 996
+g 128 400 128 432 0
+O 288 256 352 256 0
+211 512 352 576 352 0 1 8000 1
+o 19 8 0 2090 20 0.00009765625 0 -1 0
+o 20 8 0 2082 20 0.00009765625 0 -1 0
diff -ruN circuit-simulator/circuits/sipo-sr.txt circuit-simulator.new/circuits/sipo-sr.txt
--- circuit-simulator/circuits/sipo-sr.txt	1970-01-01 08:00:00.000000000 +0800
+++ circuit-simulator.new/circuits/sipo-sr.txt	2020-04-29 20:36:14.302632233 +0800
@@ -0,0 +1,25 @@
+$ 1 0.000005 10.20027730826997 50 5 50
+155 448 208 496 208 0 0
+155 560 208 608 208 0 0
+w 544 208 560 208 0
+155 672 208 720 208 0 0
+155 784 208 832 208 0 0
+R 368 336 320 336 1 2 100 2.5 2.5 0 0.5
+w 368 336 448 336 0
+w 448 336 448 240 0
+w 560 336 560 240 0
+L 416 208 416 416 0 0 false 5 0
+w 416 208 448 208 0
+x 330 422 382 425 4 24 input
+x 681 110 747 113 4 24 output
+w 656 208 672 208 0
+w 448 336 560 336 0
+w 560 336 672 336 0
+w 672 336 672 240 0
+w 768 208 784 208 0
+w 784 240 784 336 0
+w 784 336 672 336 0
+M 544 208 544 144 0 2.5
+M 656 208 656 144 0 2.5
+M 768 208 768 144 0 2.5
+M 880 208 880 144 0 2.5
diff -ruN circuit-simulator/circuits/sram.txt circuit-simulator.new/circuits/sram.txt
--- circuit-simulator/circuits/sram.txt	1970-01-01 08:00:00.000000000 +0800
+++ circuit-simulator.new/circuits/sram.txt	2020-04-29 20:36:14.302632233 +0800
@@ -0,0 +1,89 @@
+$ 1 0.000005 10.20027730826997 50 5 50
+f 1184 336 1136 336 20 1.5 0.001
+w 1184 336 1184 288 0
+f 1184 256 1136 256 21 1.5 0.001
+w 1136 272 1136 304 0
+f 1216 256 1264 256 21 1.5 0.001
+f 1216 336 1264 336 20 1.5 0.001
+w 1136 304 1216 304 0
+w 1216 304 1216 336 0
+w 1184 256 1184 288 0
+w 1184 288 1264 288 0
+w 1264 288 1264 272 0
+w 1264 288 1264 320 0
+w 1216 304 1216 256 0
+w 1264 240 1264 224 0
+w 1136 224 1136 240 0
+w 1136 352 1136 368 0
+w 1136 368 1200 368 0
+w 1200 368 1264 368 0
+w 1264 368 1264 352 0
+g 1200 368 1200 400 0
+w 1136 320 1136 304 0
+R 1200 224 1200 192 0 0 40 5 0 0 0.5
+w 1136 224 1200 224 0
+w 1200 224 1264 224 0
+f 1088 176 1088 304 20 1.5 0.04
+f 1312 176 1312 288 20 1.5 0.04
+w 1104 304 1136 304 0
+w 1264 288 1296 288 0
+w 1264 560 1296 560 0
+w 1104 576 1136 576 0
+f 1312 448 1312 560 20 1.5 0.04
+f 1088 448 1088 576 20 1.5 0.04
+w 1200 496 1264 496 0
+w 1136 496 1200 496 0
+R 1200 496 1200 464 0 0 40 5 0 0 0.5
+w 1136 592 1136 576 0
+g 1200 640 1200 672 0
+w 1264 640 1264 624 0
+w 1200 640 1264 640 0
+w 1136 640 1200 640 0
+w 1136 624 1136 640 0
+w 1136 496 1136 512 0
+w 1264 512 1264 496 0
+w 1216 576 1216 528 0
+w 1264 560 1264 592 0
+w 1264 560 1264 544 0
+w 1184 560 1264 560 0
+w 1184 528 1184 560 0
+w 1216 576 1216 608 0
+w 1136 576 1216 576 0
+f 1216 608 1264 608 20 1.5 0.001
+f 1216 528 1264 528 21 1.5 0.001
+w 1136 544 1136 576 0
+f 1184 528 1136 528 21 1.5 0.001
+w 1184 608 1184 560 0
+f 1184 608 1136 608 20 1.5 0.001
+w 1088 176 1312 176 0
+w 1088 448 1312 448 0
+w 1360 288 1360 432 0
+w 1328 288 1360 288 0
+w 1360 432 1360 560 0
+w 1360 560 1328 560 0
+w 992 304 1072 304 0
+w 992 576 1072 576 0
+w 1088 448 1040 448 0
+w 1088 176 1040 176 0
+L 1040 176 960 176 2 1 false 5 0
+w 1360 432 976 432 0
+w 992 304 992 576 0
+159 896 304 992 304 0 20 10000000000
+159 912 432 976 432 0 20 10000000000
+w 944 320 832 320 0
+w 832 448 944 448 0
+I 864 368 912 368 0 0.5 5
+w 912 368 912 432 0
+w 864 368 864 304 0
+w 864 304 896 304 0
+w 832 320 832 448 0
+L 832 320 800 320 0 0 true 5 0
+w 864 304 864 272 0
+L 864 272 800 272 2 1 false 5 0
+M 992 576 992 624 2 2.5
+I 1040 176 1040 240 0 0.5 5
+w 1040 240 1040 448 0
+x 726 326 776 329 4 24 write
+x 709 278 781 281 4 24 data\sin
+x 877 630 963 633 4 24 data\sout
+x 820 182 928 185 4 24 row\sselect
diff -ruN circuit-simulator/circuits/switchfilter.txt circuit-simulator.new/circuits/switchfilter.txt
--- circuit-simulator/circuits/switchfilter.txt	2009-05-21 09:50:35.000000000 +0800
+++ circuit-simulator.new/circuits/switchfilter.txt	2020-04-29 20:36:14.302632233 +0800
@@ -1,31 +1,45 @@
-$ 1 1.2E-5 14 57 5.0
-f 240 176 176 176 1
-f 128 176 176 176 0
-r 176 96 176 160 0 50.0
-r 304 96 304 160 0 350.0
+$ 1 0.000012 14.235633750745258 57 5 50
+f 240 176 192 176 97 1.5 0.02
+f 128 176 160 176 96 1.5 0.02
+r 176 64 176 128 0 50
+r 304 64 304 128 0 350
 w 176 192 176 224 0
 w 176 224 304 224 0
 w 304 192 304 224 0
-w 304 96 304 64 0
 w 304 64 176 64 0
-w 176 64 176 96 0
 w 304 224 416 224 0
-c 416 224 416 288 0 1.0E-5 0.4780517576155351
+c 416 224 416 288 0 0.00001 2.6650541405655286
 g 416 288 416 320 0
 O 416 224 480 224 0
 w 240 176 240 256 0
-I 240 320 240 256 0
+I 240 320 240 256 0 0.5 5
 w 128 176 128 320 0
 w 128 320 240 320 0
 w 240 320 352 320 0
-L 128 320 80 320 0 true false
-v 176 64 112 64 0 1 500.0 1.0 0.0
+L 128 320 80 320 0 0 false 5 0
+v 176 64 112 64 0 1 500 1 0 0 0.5
 w 304 64 416 64 0
-p 416 64 416 112 0
+p 416 64 416 112 0 0
 g 416 112 416 144 0
-R 112 64 80 64 0 1 40.0 1.0 2.5
-f 240 176 304 176 0
-f 352 176 304 176 1
+R 112 64 80 64 0 1 40 1 2.5 0 0.5
+f 240 176 288 176 96 1.5 0.02
+f 352 176 320 176 97 1.5 0.02
 w 352 176 352 320 0
-o 22 32 0 2 5.0 2.44140625E-5
-o 13 32 0 2 1.25 2.44140625E-5
+w 160 160 176 160 0
+w 176 160 192 160 0
+w 160 192 176 192 0
+w 176 192 192 192 0
+w 288 160 304 160 0
+w 304 160 320 160 0
+w 288 192 304 192 0
+w 304 192 320 192 0
+g 160 176 160 208 0
+g 288 176 288 208 0
+w 176 128 176 160 0
+w 304 128 304 160 0
+w 192 176 192 240 0
+w 192 240 320 240 0
+w 320 240 320 176 0
+R 192 240 160 240 0 0 40 5 0 0 0.5
+o 20 32 0 4098 5 0.0000244140625 0 1
+o 11 32 0 4098 5 0.0000244140625 1 1
diff -ruN circuit-simulator/circuits/tesla.txt circuit-simulator.new/circuits/tesla.txt
--- circuit-simulator/circuits/tesla.txt	2010-01-04 05:37:04.000000000 +0800
+++ circuit-simulator.new/circuits/tesla.txt	2020-04-29 20:36:14.302632233 +0800
@@ -1,7 +1,7 @@
 $ 1 1.0E-8 12.235633750745258 30 120.0 50
 g 240 304 240 336 0
 r 240 256 176 256 0 10.0
-R 176 256 144 256 0 1 60.0 120.0 0.0 0.0 0.5
+R 176 256 144 256 0 1 60.0 169.7056274847714 0.0 0.0 0.5
 T 240 256 320 304 2 10.0 100.0 4.437258653736118 -0.04413717098860063 0.999
 c 384 224 464 224 0 2.0E-8 9788.947578396032
 w 320 304 320 336 0
diff -ruN circuit-simulator/circuits/tllight.txt circuit-simulator.new/circuits/tllight.txt
--- circuit-simulator/circuits/tllight.txt	2009-05-21 09:50:23.000000000 +0800
+++ circuit-simulator.new/circuits/tllight.txt	2020-04-29 20:36:14.302632233 +0800
@@ -1,15 +1,15 @@
-$ 1 1.0E-11 25.237822143832553 37 120.0 50
-171 128 176 384 176 0 6.000000000000001E-8 300.0 64 0.0
-r 128 176 80 176 0 10.0
+$ 1 1e-11 25.510281670702206 37 120 50
+171 128 176 384 176 0 6.000000000000001e-8 300 64 0
+r 128 176 80 176 0 10
 w 80 240 128 240 0
 w 512 176 544 176 0
 w 512 240 544 240 0
-r 544 176 544 240 0 70.0
-v 80 240 80 176 0 1 60.0 120.0 0.0 1.5707963267948966 0.03
+r 544 176 544 240 0 70
+v 80 240 80 176 0 1 60 169.7056274847714 0 1.5707963267948966 0.03
 g 384 240 384 256 0
 g 432 240 432 256 0
 g 512 240 512 256 0
-171 432 176 512 176 0 1.0E-8 300.0 64 0.0
+171 432 176 512 176 0 1e-8 300 64 0
 s 384 176 432 176 0 0 false
-o 6 256 0 35 160.0 1.6 0 -1
-o 5 256 0 35 160.0 1.6 1 -1
+o 6 256 0 4099 320 3.2 0 2 6 3
+o 5 256 0 4099 0.0000762939453125 0.00009765625 1 2 5 3
diff -ruN circuit-simulator/circuits/traffic.txt circuit-simulator.new/circuits/traffic.txt
--- circuit-simulator/circuits/traffic.txt	2009-05-21 09:50:27.000000000 +0800
+++ circuit-simulator.new/circuits/traffic.txt	2020-04-29 20:36:14.302632233 +0800
@@ -1,7 +1,7 @@
-$ 3 0.0012 3.84 50 5.0 50
-163 296 336 320 336 1 10 0.0 0.0 0.0 0.0 0.0 0.0 5.0 0.0 0.0 0.0
-R 456 368 456 392 0 0 40.0 5.0 0.0
-152 336 296 336 232 1 4 0.0
+$ 3 0.0012 3.9121283998153213 50 5 50
+163 296 336 320 336 1 10 0 0 0 0 0 0 0 0 0 0
+R 456 368 456 392 0 0 40 5 0 0 0.5
+152 336 296 336 232 1 4 0 5
 w 320 296 312 296 0
 w 312 296 312 320 0
 w 328 296 328 320 0
@@ -14,14 +14,14 @@
 w 392 296 392 320 0
 w 432 296 440 296 0
 w 440 296 440 320 0
-152 416 296 416 232 1 4 5.0
-162 480 88 528 88 0 1.0 0.0 0.0
-162 480 120 528 120 0 1.0 1.0 0.0
-162 480 152 528 152 0 0.0 1.0 0.0
+152 416 296 416 232 1 4 0 5
+162 480 88 528 88 2 old-default-led 1 0 0 0.01
+162 480 120 528 120 2 old-default-led 1 1 0 0.01
+162 480 152 528 152 2 old-default-led 0 1 0 0.01
 w 376 320 376 216 0
-162 304 88 256 88 0 1.0 0.0 0.0
-162 304 120 256 120 0 1.0 1.0 0.0
-162 304 152 256 152 0 0.0 1.0 0.0
+162 304 88 256 88 2 old-default-led 1 0 0 0.01
+162 304 120 256 120 2 old-default-led 1 1 0 0.01
+162 304 152 256 152 2 old-default-led 0 1 0 0.01
 w 336 232 336 152 0
 w 456 320 456 120 0
 w 456 120 480 120 0
@@ -38,28 +38,31 @@
 w 352 216 352 120 0
 w 352 120 304 120 0
 w 352 120 352 56 0
-152 352 48 480 48 1 2 0.0
+152 352 48 480 48 1 2 0 5
 w 336 40 352 40 0
 w 480 48 480 88 0
 w 528 88 528 120 0
 w 528 120 528 152 0
 w 256 88 256 120 0
 w 256 120 256 152 0
-r 528 152 528 216 0 200.0
-r 256 152 256 216 0 200.0
+r 528 152 528 216 0 200
+r 256 152 256 216 0 200
 g 256 216 256 232 0
 g 528 216 528 232 0
-152 416 88 360 88 1 2 5.0
-R 152 176 152 136 0 0 40.0 5.0 0.0
+152 416 88 360 88 1 2 0 5
+R 152 176 152 136 0 0 40 5 0 0 0.5
 w 152 176 64 176 0
-r 64 240 64 304 0 47000.0
-r 64 176 64 240 0 10000.0
+r 64 240 64 304 0 47000
+r 64 176 64 240 0 10000
 w 216 272 216 352 0
 w 216 352 296 352 0
-165 88 208 152 208 0 0.0
+165 88 208 152 208 4 0
 w 64 304 64 336 0
-c 64 336 64 368 0 9.999999999999999E-6 2.4856719240739658
+c 64 336 64 368 0 0.000009999999999999999 0.001
 g 64 368 64 384 0
 w 64 240 88 240 0
 w 64 304 88 304 0
 w 64 336 88 336 0
+w 152 176 216 176 0
+w 216 176 216 240 0
+g 184 368 184 376 0
diff -ruN circuit-simulator/circuits/trans-diffamp-common.txt circuit-simulator.new/circuits/trans-diffamp-common.txt
--- circuit-simulator/circuits/trans-diffamp-common.txt	2009-05-21 09:50:30.000000000 +0800
+++ circuit-simulator.new/circuits/trans-diffamp-common.txt	2020-04-29 20:36:14.302632233 +0800
@@ -19,6 +19,6 @@
 O 336 144 416 144 0
 x 154 206 170 206 0 14 in 1
 x 377 207 393 207 0 14 in 2
-o 11 32 0 2 0.15625 9.765625E-5 0
-o 13 32 0 2 0.3125 9.765625E-5 0
-o 17 32 0 2 20.0 9.765625E-5 1 output
+o 11 32 0 4098 1.25 0.00009765625 0 2 11 3
+o 13 32 0 4098 1.25 0.00009765625 0 1
+o 17 32 0 12546 8.368592182005797 0.00009765625 1 1 output
diff -ruN circuit-simulator/circuits/transformerdown.txt circuit-simulator.new/circuits/transformerdown.txt
--- circuit-simulator/circuits/transformerdown.txt	2009-05-21 09:50:28.000000000 +0800
+++ circuit-simulator.new/circuits/transformerdown.txt	2020-04-29 20:36:14.299632274 +0800
@@ -1,14 +1,14 @@
-$ 1 5.0E-6 9 47 5.0 30
-v 176 272 176 144 2 1 60.0 120.0 0.0
+$ 1 0.000005 9.001713130052181 47 5 30
+v 176 272 176 144 0 1 60 169.7056274847714 0 1.5707963267948966 0.5
 w 352 224 352 272 0
-T 272 192 352 192 0 1000.0 0.1 0 0
+T 272 192 352 192 0 1000 0.1 -0.005707089042204967 0.056041131695707576 0.999
 w 272 192 272 144 1
 w 272 224 272 272 0
-r 272 144 176 144 0 20.0
+r 272 144 176 144 0 20
 w 176 272 272 272 0
 w 352 272 448 272 0
 w 352 144 448 144 0
-r 448 144 448 272 0 300.0
+r 448 144 448 272 0 300
 w 352 192 352 144 1
-o 0 64 0 3 160.0 0.4 0
-o 9 64 0 3 20.0 0.05 1
+o 0 64 0 20483 320 0.025 0 2 0 3
+o 9 64 0 20483 20 0.1 1 2 9 3
diff -ruN circuit-simulator/circuits/triacdimmer.txt circuit-simulator.new/circuits/triacdimmer.txt
--- circuit-simulator/circuits/triacdimmer.txt	1970-01-01 08:00:00.000000000 +0800
+++ circuit-simulator.new/circuits/triacdimmer.txt	2020-04-29 20:36:14.301632246 +0800
@@ -0,0 +1,12 @@
+$ 1 0.000005 12.050203812241895 50 5 50
+g 1360 528 1360 544 0
+w 1264 272 1360 272 0
+r 1264 272 1264 432 0 7327
+r 1184 272 1264 272 0 270
+R 1184 272 1136 272 0 1 60 169.7056274847714 0 0 0.5
+206 1360 272 1312 528 0 0.011 0.008 100 true
+c 1264 432 1264 528 0 0.000001 19.062347166745436
+g 1264 528 1264 544 0
+203 1264 432 1328 432 0 500 100000000 30 0.01
+o 4 32 0 4867 320 0.8 0 2 4 3
+38 2 0 100 22000 Phase\sControl
diff -ruN circuit-simulator/circuits/triangle.txt circuit-simulator.new/circuits/triangle.txt
--- circuit-simulator/circuits/triangle.txt	2010-01-08 02:30:47.000000000 +0800
+++ circuit-simulator.new/circuits/triangle.txt	2020-04-29 20:36:14.301632246 +0800
@@ -1,18 +1,18 @@
-$ 1 4.9999999999999996E-6 10.20027730826997 60 6.0 50
-a 160 224 272 224 0 15.0 -15.0 1000000.0
-w 160 240 160 304 0
-w 160 304 272 304 0
-r 272 224 272 304 0 10000.0
-a 384 240 496 240 0 15.0 -15.0 1000000.0
-r 272 304 352 304 0 4000.0
-w 352 304 496 304 0
-w 496 304 496 240 0
-w 496 240 496 176 0
-c 384 176 496 176 0 1.0E-6 4.7736574744107685
-w 384 176 384 224 0
-r 272 224 384 224 0 10000.0
-g 384 256 384 272 0
-O 496 240 560 240 0
-w 160 208 128 208 0
-g 128 208 128 240 0
-o 13 64 0 42 10.0 9.765625E-5 0 -1
+$ 1 0.000015625 0.37936678946831776 60 6 50
+a 160 368 272 368 0 15 -15 1000000 0 4.923874524099626
+w 160 384 160 448 0
+w 160 448 272 448 0
+r 272 368 272 448 0 10000
+a 384 384 496 384 0 15 -15 1000000 -0.000008932273847585113 0
+r 272 448 352 448 0 4000
+w 352 448 496 448 0
+w 496 448 496 384 0
+w 496 384 496 320 0
+c 384 320 496 320 0 4e-7 -0.8932363170323588
+w 384 320 384 368 0
+r 272 368 384 368 0 10000
+g 384 400 384 416 0
+w 160 352 128 352 0
+g 128 352 128 384 0
+211 496 384 592 384 0 1 8000 1
+o 15 4 0 2082 10 0.000048828125 0 -1 0
diff -ruN circuit-simulator/circuits/trianglevco.txt circuit-simulator.new/circuits/trianglevco.txt
--- circuit-simulator/circuits/trianglevco.txt	1970-01-01 08:00:00.000000000 +0800
+++ circuit-simulator.new/circuits/trianglevco.txt	2020-04-29 20:36:14.301632246 +0800
@@ -0,0 +1,45 @@
+$ 3 0.000005 9.001713130052181 75 5 50
+a 104 192 160 192 2 5 -5 1000000 0.5000137308326578 0.5000000000000006
+c 104 160 160 160 0 1e-8 1.8730969965551745
+w 160 160 160 192 0
+w 104 160 104 176 0
+r 104 208 104 248 0 49900
+w 104 200 104 208 0
+g 104 248 104 256 0
+w 104 200 80 200 0
+r 80 200 24 200 0 49900
+w 104 176 88 176 0
+w 88 176 88 224 0
+w 104 176 104 184 0
+r 80 176 24 176 0 100000
+w 80 176 88 176 0
+w 24 176 0 176 0
+w 24 200 0 200 0
+w 0 200 0 176 0
+r 80 224 24 224 0 49900
+w 80 224 88 224 0
+w 24 224 0 224 0
+w 0 224 0 240 0
+f 64 256 0 256 0 1.5 0.02
+g 0 272 0 280 0
+a 184 200 272 200 2 5 -5 1000000 -1.3730832657225167 -1.6666764514395236
+w 160 192 184 192 0
+r 184 248 136 248 0 100000
+r 184 248 248 248 0 100000
+w 184 248 184 208 0
+w 248 248 272 248 0
+R 136 248 136 272 0 0 40 5 0 0 0.5
+r 184 248 184 288 0 100000
+w 272 200 272 248 0
+w 64 256 64 328 0
+w 64 328 272 328 0
+w 272 328 272 248 0
+172 0 176 -32 176 0 6 1 5 0 0 0.5 frequency
+O 272 120 272 88 0
+R 184 288 184 312 0 0 40 -5 0 0 0.5
+a 184 152 272 152 2 5 -5 1000000 -1.3730695350271667 -1.3730832657225167
+w 184 144 184 120 0
+w 184 120 272 120 0
+w 272 120 272 152 0
+w 184 160 160 160 0
+o 36 64 0 4098 10 0.00009765625 0 1
diff -ruN circuit-simulator/circuits/unishiftreg.txt circuit-simulator.new/circuits/unishiftreg.txt
--- circuit-simulator/circuits/unishiftreg.txt	1970-01-01 08:00:00.000000000 +0800
+++ circuit-simulator.new/circuits/unishiftreg.txt	2020-04-29 20:36:14.301632246 +0800
@@ -0,0 +1,217 @@
+$ 3 5.0E-6 10.20027730826997 50 5.0 50
+150 392 472 432 472 1 3 0.0
+150 392 504 432 504 1 3 0.0
+150 392 536 432 536 1 3 0.0
+150 392 568 432 568 1 3 0.0
+153 440 520 496 520 1 4 5.0
+w 432 504 432 512 0
+w 432 512 440 512 0
+w 432 536 432 528 0
+w 432 528 440 528 0
+w 432 568 440 568 0
+w 440 568 440 536 0
+w 432 472 440 472 0
+w 440 472 440 504 0
+w 440 328 440 360 0
+w 432 328 440 328 0
+w 440 424 440 392 0
+w 432 424 440 424 0
+w 432 384 440 384 0
+w 432 392 432 384 0
+w 432 368 440 368 0
+w 432 360 432 368 0
+153 440 376 496 376 1 4 0.0
+150 392 424 432 424 1 3 0.0
+150 392 392 432 392 1 3 0.0
+150 392 360 432 360 1 3 0.0
+150 392 328 432 328 1 3 5.0
+w 440 40 440 72 0
+w 432 40 440 40 0
+w 440 136 440 104 0
+w 432 136 440 136 0
+w 432 96 440 96 0
+w 432 104 432 96 0
+w 432 80 440 80 0
+w 432 72 432 80 0
+153 440 88 496 88 1 4 0.0
+150 392 136 432 136 1 3 0.0
+150 392 104 432 104 1 3 0.0
+150 392 72 432 72 1 3 0.0
+150 392 40 432 40 1 3 5.0
+w 440 184 440 216 0
+w 432 184 440 184 0
+w 440 280 440 248 0
+w 432 280 440 280 0
+w 432 240 440 240 0
+w 432 248 432 240 0
+w 432 224 440 224 0
+w 432 216 432 224 0
+153 440 232 496 232 1 4 0.0
+150 392 280 432 280 1 3 0.0
+150 392 248 432 248 1 3 0.0
+150 392 216 432 216 1 3 0.0
+150 392 184 432 184 1 3 5.0
+w 392 32 384 32 0
+w 384 32 384 208 0
+w 384 208 392 208 0
+I 496 56 544 56 0 0.5
+I 496 200 544 200 0 0.5
+I 496 344 544 344 0 0.5
+I 496 488 544 488 0 0.5
+156 544 56 600 56 0 5.0
+156 544 200 616 200 0 5.0
+156 544 344 600 344 0 5.0
+156 544 488 600 488 0 0.0
+w 496 88 496 120 0
+w 496 120 544 120 0
+w 496 232 496 264 0
+w 496 264 544 264 0
+w 496 376 496 408 0
+w 496 408 544 408 0
+w 496 520 496 552 0
+w 496 552 544 552 0
+w 496 88 496 56 0
+w 496 232 496 200 0
+w 496 376 496 344 0
+w 496 520 496 488 0
+w 392 40 376 40 0
+w 376 40 376 136 0
+w 376 136 392 136 0
+w 376 136 376 184 0
+w 376 184 392 184 0
+w 376 184 376 280 0
+w 376 280 392 280 0
+w 376 280 376 328 0
+w 376 328 392 328 0
+w 376 328 376 424 0
+w 376 424 392 424 0
+w 376 424 376 472 0
+w 376 472 392 472 0
+w 376 472 376 568 0
+w 376 568 392 568 0
+w 392 48 368 48 0
+w 368 48 368 80 0
+w 368 80 392 80 0
+w 368 80 368 192 0
+w 368 192 392 192 0
+w 368 192 368 224 0
+w 368 224 392 224 0
+w 368 224 368 336 0
+w 368 336 392 336 0
+w 368 336 368 368 0
+w 368 368 392 368 0
+w 368 368 368 480 0
+w 368 480 392 480 0
+w 368 480 368 512 0
+w 368 512 392 512 0
+w 392 72 360 72 0
+w 360 72 360 104 0
+w 360 104 392 104 0
+w 360 104 360 216 0
+w 360 216 392 216 0
+w 360 216 360 248 0
+w 360 248 392 248 0
+w 360 248 360 360 0
+w 360 360 392 360 0
+w 360 360 360 392 0
+w 360 392 392 392 0
+w 360 392 360 504 0
+w 360 504 392 504 0
+w 360 504 360 536 0
+w 360 536 392 536 0
+w 392 112 352 112 0
+w 352 112 352 128 0
+w 352 128 392 128 0
+w 352 128 352 256 0
+w 352 256 392 256 0
+w 352 256 352 272 0
+w 352 272 392 272 0
+w 352 272 352 400 0
+w 352 400 392 400 0
+w 352 400 352 416 0
+w 352 416 392 416 0
+w 352 416 352 544 0
+w 352 544 392 544 0
+w 352 544 352 560 0
+w 352 560 392 560 0
+w 384 32 384 16 0
+w 384 16 640 16 0
+w 640 16 640 56 0
+w 392 144 344 144 0
+w 344 144 344 160 0
+w 344 160 344 176 0
+w 344 176 392 176 0
+w 344 160 640 160 0
+w 640 160 640 200 0
+w 344 176 344 352 0
+w 344 352 392 352 0
+w 392 496 384 496 0
+w 384 496 384 320 0
+w 384 320 392 320 0
+w 384 320 384 304 0
+w 384 304 384 288 0
+w 384 288 392 288 0
+w 384 304 640 304 0
+w 640 304 640 344 0
+w 392 432 392 448 0
+w 392 448 392 464 0
+w 392 448 640 448 0
+w 640 448 640 488 0
+I 248 24 296 24 0 0.5
+I 272 48 320 48 0 0.5
+w 248 24 248 72 0
+w 248 72 360 72 0
+w 296 24 376 24 0
+w 376 24 376 40 0
+w 320 48 368 48 0
+w 272 48 272 112 0
+w 272 112 352 112 0
+w 544 88 544 232 0
+w 544 232 544 376 0
+w 544 376 544 520 0
+L 248 24 208 24 0 0 false 5.0 0.0
+L 272 48 208 48 0 0 false 5.0 0.0
+L 256 88 208 88 0 0 false 5.0 0.0
+L 256 112 208 112 0 0 false 5.0 0.0
+w 256 64 256 88 0
+w 256 64 392 64 0
+w 392 96 256 96 0
+w 256 96 256 112 0
+L 392 240 208 240 0 0 false 5.0 0.0
+L 392 384 208 384 0 0 false 5.0 0.0
+L 392 528 208 528 0 0 false 5.0 0.0
+L 392 576 208 576 0 0 false 5.0 0.0
+w 544 520 544 616 0
+w 544 616 432 616 0
+I 392 616 432 616 0 0.5
+M 640 56 712 56 0 2.5
+M 640 200 712 200 0 2.5
+M 640 344 712 344 0 2.5
+M 640 488 712 488 0 2.5
+x 165 30 183 34 0 15 S1
+R 392 616 208 616 1 2 100.0 2.5 2.5 0.0 0.5
+x 165 53 183 57 0 15 S0
+x 123 95 196 99 0 15 serial in left
+x 121 119 194 123 0 15 parallel in 3
+x 120 247 193 251 0 15 parallel in 2
+x 123 393 196 397 0 15 parallel in 1
+x 124 536 197 540 0 15 parallel in 0
+x 112 581 194 585 0 15 serial in right
+x 10 272 28 276 0 15 S1
+x 34 272 52 276 0 15 S0
+b 29 368 30 259 0
+x 11 338 21 342 0 15 H
+x 37 317 47 321 0 15 H
+x 40 364 50 368 0 15 H
+x 10 362 20 366 0 15 H
+x 12 295 20 299 0 15 L
+x 12 317 20 321 0 15 L
+x 39 294 47 298 0 15 L
+x 39 338 47 342 0 15 L
+b 58 259 59 365 0
+x 63 271 128 275 0 15 Behaviour
+x 66 336 125 340 0 15 shift right
+x 66 315 116 319 0 15 shift left
+x 66 359 125 363 0 15 load data
+x 67 293 130 297 0 15 hold state
+b 6 279 129 278 0
diff -ruN circuit-simulator/circuits/updownctr.txt circuit-simulator.new/circuits/updownctr.txt
--- circuit-simulator/circuits/updownctr.txt	1970-01-01 08:00:00.000000000 +0800
+++ circuit-simulator.new/circuits/updownctr.txt	2020-04-29 20:36:14.301632246 +0800
@@ -0,0 +1,68 @@
+$ 3 0.000005 10.20027730826997 50 5 50
+156 80 272 128 272 0 0
+w 80 272 64 272 0
+w 64 272 64 336 0
+w 64 336 80 336 0
+M 768 88 832 88 2 2.5
+R 64 272 32 272 0 0 40 5 0 0 0.5
+R 80 408 -64 408 1 2 200 2.5 2.5 0 0.5
+w 80 304 80 408 0
+w 176 160 344 160 0
+M 344 160 832 160 2 2.5
+M 368 136 832 136 2 2.5
+M 568 112 832 112 2 2.5
+150 176 216 224 216 1 2 0 5
+152 224 272 272 272 1 2 0 5
+156 272 272 416 272 0 0
+w 224 216 224 264 0
+150 176 344 224 344 1 2 0 5
+w 224 344 224 280 0
+L 0 336 -48 336 0 1 false 5 0
+w 0 336 0 208 0
+w 0 208 176 208 0
+w 0 336 0 368 0
+I 0 368 64 368 0 0.5 5
+w 64 368 176 368 0
+w 176 352 176 368 0
+w 80 408 248 408 0
+w 248 408 248 304 0
+w 248 304 272 304 0
+w 272 272 272 336 0
+w 176 160 176 224 0
+w 176 224 176 272 0
+150 384 224 424 224 1 2 0 5
+w 224 216 384 216 0
+w 384 232 368 232 0
+w 368 232 368 272 0
+w 368 232 368 136 0
+156 472 272 616 272 0 5
+152 424 272 472 272 1 2 0 5
+150 368 344 424 344 1 2 0 5
+w 424 280 424 344 0
+w 424 224 424 264 0
+w 248 408 456 408 0
+w 368 368 368 352 0
+w 472 272 472 336 0
+w 456 304 456 408 0
+w 456 304 472 304 0
+w 224 344 224 368 0
+w 224 368 368 368 0
+w 424 368 568 368 0
+w 768 88 768 272 0
+w 656 304 672 304 0
+w 656 304 656 408 0
+w 672 272 672 336 0
+w 568 368 568 352 0
+w 456 408 656 408 0
+w 624 232 624 264 0
+w 624 280 624 344 0
+150 568 344 624 344 1 2 0 5
+152 624 272 672 272 1 2 0 5
+156 672 272 816 272 0 0
+w 568 240 568 112 0
+w 584 240 568 240 0
+w 424 224 584 224 0
+150 584 232 624 232 1 2 0 5
+w 568 272 568 240 0
+w 424 344 424 368 0
+x -89 311 -15 314 4 18 Up/Down
diff -ruN circuit-simulator/circuits/varactor.txt circuit-simulator.new/circuits/varactor.txt
--- circuit-simulator/circuits/varactor.txt	1970-01-01 08:00:00.000000000 +0800
+++ circuit-simulator.new/circuits/varactor.txt	2020-04-29 20:36:14.301632246 +0800
@@ -0,0 +1,16 @@
+$ 1 4e-12 10.20027730826997 57 5 50
+R 560 256 496 256 0 1 800000000 1 -1.5 0 0.5
+176 560 256 560 352 1 0.805904783 -0.9415790148957013 4e-12
+r 560 352 560 416 0 100
+g 560 416 560 448 0
+g 688 416 688 448 0
+r 688 352 688 416 0 100
+176 688 256 688 352 1 0.805904783 -5.380632584292555 4e-12
+R 688 256 624 256 0 1 800000000 1 -5 0 0.5
+R 816 256 752 256 0 1 800000000 1 -10 0 0.5
+176 816 256 816 352 1 0.805904783 -10.039187923569457 4e-12
+r 816 352 816 416 0 100
+g 816 416 816 448 0
+o 1 8 0 12291 2.1600125505455696 0.007871160328888687 0 2 1 3
+o 6 8 0 4099 10 0.0125 0 2 6 3
+o 9 8 0 4099 20 0.0125 0 2 9 3
diff -ruN circuit-simulator/circuits/varactorvco.txt circuit-simulator.new/circuits/varactorvco.txt
--- circuit-simulator/circuits/varactorvco.txt	1970-01-01 08:00:00.000000000 +0800
+++ circuit-simulator.new/circuits/varactorvco.txt	2020-04-29 20:36:14.301632246 +0800
@@ -0,0 +1,34 @@
+$ 1 1.5e-12 11.086722712598126 59 5 50
+172 368 224 368 176 0 6 0 20 0 0 0.5 Control Voltage
+r 368 224 368 304 0 1000
+w 368 304 432 304 0
+g 432 432 432 448 0
+r 432 384 432 432 0 1
+l 432 224 528 224 0 3.0000000000000004e-8 0.0033989843416793023
+c 528 224 624 224 0 1e-10 -1.597374029946479
+r 528 224 528 368 0 3300
+g 528 368 528 384 0
+r 624 224 624 128 0 1000
+g 624 128 624 112 0
+r 672 224 672 128 0 5000
+w 624 224 672 224 0
+c 672 224 672 320 0 2e-12 -0.10827863620804112
+c 672 320 672 400 0 3e-12 0.5341163100497173
+g 672 400 672 416 0
+w 672 320 752 320 0
+r 752 320 752 400 0 220
+g 752 400 752 416 0
+c 752 320 848 320 0 1.5e-12 0.5312866351533015
+r 848 320 848 400 0 50
+g 848 400 848 416 0
+t 672 224 752 224 0 1 -4.574162326157262 -0.10827863620804112 100
+w 752 240 752 320 0
+r 752 208 752 128 0 10
+w 672 128 752 128 0
+c 752 128 832 128 0 1e-10 4.9999999999983995
+r 832 128 880 128 0 10
+g 880 128 880 160 0
+R 752 128 752 80 0 0 40 5 0 0 0.5
+176 432 224 432 304 1 0.805904783 -0.4042229013418758 4e-12
+176 432 384 432 304 1 0.805904783 -0.1976462931920824 4e-12
+o 20 2 0 4106 0.7412985607642125 0.0001 0 2 20 3
diff -ruN circuit-simulator/circuits/vco.txt circuit-simulator.new/circuits/vco.txt
--- circuit-simulator/circuits/vco.txt	2009-06-23 00:07:47.000000000 +0800
+++ circuit-simulator.new/circuits/vco.txt	2020-04-29 20:36:14.301632246 +0800
@@ -1,36 +1,36 @@
-$ 1 5.0E-6 8.872897488127265 75 5.0 50
-a 176 160 272 160 0 5.0 0.0
-a 368 176 464 176 0 5.0 0.0
-w 272 160 304 160 0
-w 304 160 368 160 0
-w 368 192 368 224 0
-w 464 176 464 224 0
-r 368 224 464 224 0 100000.0
-r 368 224 368 288 0 100000.0
-g 368 288 368 304 0
-r 176 176 176 240 0 49900.0
-g 176 240 176 256 0
-w 176 144 176 96 0
-w 176 144 144 144 0
-r 144 144 64 144 0 100000.0
-w 64 144 64 160 0
-w 64 160 64 176 0
-r 64 176 160 176 0 49900.0
-w 160 176 176 176 0
-w 144 144 144 272 0
-r 144 272 144 320 0 49900.0
-g 144 352 144 368 0
-f 192 336 144 336 0
-w 192 336 464 336 0
-w 464 336 464 224 0
-c 176 96 272 96 0 1.0E-8 -2.248578405619046
-w 272 96 272 160 0
-w 368 192 368 128 0
-r 368 128 368 80 0 100000.0
-R 368 80 416 80 0 0 40.0 5.0 0.0
-R 64 160 32 160 0 4 10.0 2.0 3.0
-O 464 176 512 176 0
-O 304 160 304 48 0
-o 29 64 0 2 5.0 9.765625E-5 0 control
-o 30 32 0 2 10.0 4.8828125E-5 1
-o 31 32 0 2 5.0 9.765625E-5 2
+$ 1 0.000015625 0.9487735836358526 75 5 50
+a 256 336 352 336 0 5 0 1000000 0.5446703136336057 0.5446874999948316
+a 448 352 544 352 0 5 0 1000000 1.7186361225896007 3.333387156704532
+w 352 336 384 336 0
+w 384 336 448 336 0
+w 448 368 448 400 0
+w 544 352 544 400 0
+r 448 400 544 400 0 100000
+r 448 400 448 464 0 100000
+g 448 464 448 480 0
+r 256 352 256 416 0 49900
+g 256 416 256 432 0
+w 256 320 256 272 0
+w 256 320 224 320 0
+r 224 320 144 320 0 100000
+w 144 320 144 336 0
+w 144 336 144 352 0
+r 144 352 240 352 0 49900
+w 240 352 256 352 0
+w 224 320 224 448 0
+r 224 448 224 496 0 49900
+g 224 528 224 544 0
+f 272 512 224 512 0 1.5 0.02
+w 272 512 544 512 0
+w 544 512 544 400 0
+c 256 272 352 272 0 1e-8 -1.173965808955995
+w 352 272 352 336 0
+w 448 368 448 304 0
+r 448 304 448 256 0 100000
+R 448 256 496 256 0 0 40 5 0 0 0.5
+R 144 336 112 336 0 4 10 2 3 0 0.5
+O 384 336 384 224 0
+211 544 352 608 352 0 1 8000 1
+o 29 64 0 2082 5 0.00009765625 0 -1 0 control
+o 31 8 0 2082 10 0.00009765625 1 -1 0
+o 30 8 0 2082 5 0.00009765625 2 -1 0
diff -ruN circuit-simulator/circuits/vilnius.txt circuit-simulator.new/circuits/vilnius.txt
--- circuit-simulator/circuits/vilnius.txt	1970-01-01 08:00:00.000000000 +0800
+++ circuit-simulator.new/circuits/vilnius.txt	2020-04-29 20:36:14.301632246 +0800
@@ -0,0 +1,25 @@
+$ 1 5.0E-6 0.2500940013662129 50 5.0 50
+a 240 176 336 176 1 15.0 -15.0 1000000.0
+r 240 256 240 352 0 10000.0
+w 336 256 336 176 0
+w 240 256 240 192 0
+w 240 160 160 160 0
+r 160 160 160 352 0 1000.0
+g 240 352 240 368 0
+g 160 352 160 368 0
+c 176 80 240 80 0 1.0000000000000001E-7 -1.5208101852031342
+w 176 80 160 80 0
+w 160 80 160 160 0
+l 240 80 336 80 0 0.1 -8.187542292950413E-4
+c 336 80 336 176 0 1.5000000000000002E-8 0.5145384599262408
+d 400 80 400 176 1 0.805904783
+w 336 176 400 176 0
+w 336 80 400 80 0
+r 400 80 496 80 0 20000.0
+R 496 80 544 80 0 0 40.0 20.0 0.0 0.0 0.5
+O 160 160 128 160 0
+174 240 256 336 288 0 10000.0 0.6782 Resistance
+w 288 288 336 288 0
+w 336 288 336 256 0
+o 8 64 0 227 4.676805239458889 2.993155353253689 0 18
+o 12 64 0 227 9.353610478917778 2.993155353253689 1 18
diff -ruN circuit-simulator/circuits/wheatstone.txt circuit-simulator.new/circuits/wheatstone.txt
--- circuit-simulator/circuits/wheatstone.txt	2009-05-21 09:50:21.000000000 +0800
+++ circuit-simulator.new/circuits/wheatstone.txt	2020-04-29 20:36:14.301632246 +0800
@@ -1,10 +1,11 @@
-v 176 352 176 64 0 0 40.0 5.0 0.0
-w 320 64 320 128 0
-w 320 256 320 352 0
-w 320 352 176 352 0
-r 256 192 320 128 0 200.0
-r 320 128 384 192 0 400.0
-r 256 192 320 256 0 100.0
-r 320 256 384 192 0 200.0
-w 176 64 320 64 0
-w 256 192 384 192 0
+$ 1 0.000005 1.0312258501325766 50 5 50
+v 432 496 432 208 0 0 40 5 0 0 0.5
+w 576 208 576 272 0
+w 576 400 576 496 0
+w 576 496 432 496 0
+r 512 336 576 272 0 200
+r 576 272 640 336 0 400
+r 512 336 576 400 0 100
+r 576 400 640 336 0 200
+w 432 208 576 208 0
+370 512 336 640 336 1 0
diff -ruN circuit-simulator/circuits/wienbridge.txt circuit-simulator.new/circuits/wienbridge.txt
--- circuit-simulator/circuits/wienbridge.txt	1970-01-01 08:00:00.000000000 +0800
+++ circuit-simulator.new/circuits/wienbridge.txt	2020-04-29 20:36:14.301632246 +0800
@@ -0,0 +1,20 @@
+$ 1 0.000005 10.20027730826997 50 5 50
+181 160 112 240 112 0 300 0.5 6 0.04 0.04
+r 240 112 368 112 0 100
+a 240 160 368 160 0 15 -15 1000000 0 0
+w 240 112 240 144 0
+w 368 112 368 160 0
+c 160 176 208 176 0 0.000001 0.001
+r 160 224 208 224 0 1000
+w 208 176 208 224 0
+w 160 176 160 224 0
+w 160 176 160 112 0
+w 240 176 240 224 0
+w 240 224 208 224 0
+g 160 224 160 256 0
+r 240 224 320 224 0 1000
+c 320 224 368 224 0 0.000001 0.001
+w 368 160 368 224 0
+o 0 64 2 12547 0.0001 0.0001 0 1 0.0001
+o 15 8 0 4099 20 0.025 1 2 15 3
+o 0 8 0 4099 5 0.2 2 2 0 3
diff -ruN circuit-simulator/circuits/zeneriv.txt circuit-simulator.new/circuits/zeneriv.txt
--- circuit-simulator/circuits/zeneriv.txt	2009-05-21 09:50:24.000000000 +0800
+++ circuit-simulator.new/circuits/zeneriv.txt	2020-04-29 20:36:14.301632246 +0800
@@ -1,6 +1,6 @@
-$ 1 5.0E-6 10.634267539816555 40 2.0 50
-R 320 208 320 160 0 3 50.0 3.55 -2.56 0.0 0.5
+$ 1 0.000005 10.634267539816555 40 2 50
+R 320 208 320 160 0 3 50 3.58 -2.35 0 0.5
 g 320 288 320 320 0
 z 320 208 320 288 1 0.805904783 5.6
-o 2 64 0 99 10.0 25.6 0 -1
-o 2 64 0 35 10.0 25.6 1 -1
+o 2 64 0 4163 1e-23 2.56e-23 0 2 2 3
+o 2 64 0 4099 10 6553.6 1 2 2 3
diff -ruN circuit-simulator/setuplist.txt circuit-simulator.new/setuplist.txt
--- circuit-simulator/setuplist.txt	2013-05-27 23:34:12.000000000 +0800
+++ circuit-simulator.new/setuplist.txt	2020-04-29 20:42:31.948433376 +0800
@@ -28,12 +28,18 @@
 filt-hipass-l.txt High-Pass Filter (RL)
 filt-lopass-l.txt Low-Pass Filter (RL)
 bandpass.txt Band-pass Filter
+bandnoise.txt Band-pass w/ Noise
 notch.txt Notch Filter
 twint.txt Twin-T Filter
 crossover.txt Crossover
 butter10lo.txt Butterworth Low-Pass (10 pole)
+butter10hi.txt Butterworth High-Pass (10 pole)
+butter10loaud.txt Butterworth Low-Pass w/ Noise
+butter10hiaud.txt Butterworth High-Pass w/ Noise
+butterbandstop.txt Butterworth Band-Stop
 besselbutter.txt Bessel vs Butterworth
 ringing.txt Band-pass with Ringing
+comb.txt Comb Filter
 -
 +Other Passive Circuits
 +Series/Parallel
@@ -57,6 +63,7 @@
 relaymux.txt Relay Mux
 relayff.txt Relay Flip-Flop
 relaytff.txt Relay Toggle Flip-Flop
+relayosc.txt Relay Oscillator
 relayctr.txt Relay Counter
 -
 3way.txt 3-Way Light Switches
@@ -126,7 +133,7 @@
 sine.txt Sine Wave Generator
 sawtooth.txt Sawtooth Wave Generator
 vco.txt Voltage-Controlled Oscillator
-rossler.txt Rossler Circuit
+trianglevco.txt Triangle VCO
 -
 amp-rect.txt Half-Wave Rectifier (inverting)
 amp-fullrect.txt Full-Wave Rectifier
@@ -139,11 +146,20 @@
 capmult.txt Capacitance Multiplier
 howland.txt Howland Current Source
 itov.txt I-to-V Converter
+delta-pwm.txt Delta PWM Encoder
 opamp-regulator.txt Voltage Regulator
 opint.txt 741 Internals
 opint-invert-amp.txt 741 (inverting amplifier)
 opint-slew.txt 741 Slew Rate
 opint-current.txt 741 Current Limits
++Chaotic Circuits
+rossler.txt Rossler
+vilnius.txt Vilnius
+chua.txt Chua
+chaos1.txt Chaos 1
+chaos2.txt Chaos 2
+jerk.txt Jerk
+-
 -
 +Transistors
 npn.txt NPN Transistor
@@ -175,7 +191,11 @@
 colpitts.txt Colpitts Oscillator
 hartley.txt Hartley Oscillator
 eclosc.txt Emitter-Coupled LC Oscillator
+crystalosc2.txt Crystal Oscillator
 -
+gilbertcell.txt Gilbert Cell Multiplier
+rmsconverter.txt True RMS Converter
+joule-thief.txt Joule Thief
 -
 +MOSFETs
 nmosfet.txt n-MOSFET
@@ -198,6 +218,8 @@
 voltinvert.txt Voltage Inverter
 invertamp.txt Inverter Amplifier
 inv-osc.txt Inverter Oscillator
+analogrecip.txt Analog Reciprocal
+crystalosc.txt CMOS Crystal Oscillator
 -
 +555 Timer Chip
 555square.txt Square Wave Generator
@@ -216,6 +238,9 @@
 switchedcap.txt Switched-Capacitor Filter
 allpass1.txt Allpass
 allpass2.txt Allpass w/ Square
+actbutterlo.txt Butterworth Low-Pass
+actbutterhi.txt Butterworth High-Pass
+actbutterband.txt Butterworth Band-Pass
 -
 +Logic Families
 +RTL
@@ -232,6 +257,7 @@
 ttlinverter.txt TTL Inverter
 ttlnand.txt TTL NAND
 ttlnor.txt TTL NOR
+fanout.txt Fan-Out
 -
 +NMOS
 nmosinverter.txt NMOS Inverter
@@ -263,10 +289,12 @@
 halfadd.txt Half Adder
 fulladd.txt Full Adder
 decoder.txt 1-of-4 Decoder
+priencoder.txt Priority Encoder
 mux3state.txt 2-to-1 Mux
 majority.txt Majority Logic
 digcompare.txt 2-Bit Comparator
 7segdecoder.txt 7-Segment LED Decoder
+brentkung.txt Brent-Kung Adder
 -
 +Sequential Logic
 +Flip-Flops
@@ -280,14 +308,21 @@
 counter.txt 4-Bit Ripple Counter
 counter8.txt 8-Bit Ripple Counter
 synccounter.txt Synchronous Counter
+updownctr.txt Up/Down Counter
 deccounter.txt Decimal Counter
 graycode.txt Gray Code Counter
 johnsonctr.txt Johnson Counter
 -
++Shift Registers
+sipo-sr.txt Serial-In Parallel-Out
+piso-sr.txt Parallel-In Serial-Out
+unishiftreg.txt Universal
+-
 divideby2.txt Divide-by-2
 divideby3.txt Divide-by-3
 ledflasher.txt LED Flasher
 traffic.txt Traffic Light
+sram.txt Static RAM
 dram.txt Dynamic RAM
 -
 +Analog/Digital
@@ -298,6 +333,7 @@
 r2rladder.txt R-2R Ladder DAC
 swtreedac.txt Switch-Tree DAC
 digsine.txt Digital Sine Wave
+qam-256.txt QAM-256 Modulator/Demodulator
 -
 +Phase-Locked Loops
 xorphasedet.txt XOR Phase Detector
@@ -327,6 +363,8 @@
 jfetfollower-nooff.txt JFET Follower w/zero offset
 jfetamp.txt Common-Source Amplifier
 volume.txt Volume Control
+lambda-diode.txt Lambda Diode
+lambda-diode-osc.txt Lambda Diode Oscillator
 -
 +Tunnel Diodes
 tdiode.txt I/V Curve
@@ -367,5 +405,21 @@
 tesla.txt Tesla Coil
 spark-marx.txt Marx Generator
 -
++Operational Transconductance Amplifier (OTA)
+ota-vca.txt OTA Voltage Controlled Amplifier (VCA)
+ota-vcf-single.txt OTA Single Stage VCF (low pass)
+ota-ringmod.txt OTA Ring Modulator
+ota-gain.txt LM137000 Gain Oddity
+-
++Light Bulb
+lightbulb.txt Light Bulb
+wienbridge.txt Wien Bridge Oscillator
+-
++Varactor
+varactor.txt Varactor
+varactorvco.txt VCO
+-
+ledarray.txt LED Array
+triacdimmer.txt DIAC/TRIAC Dimmer
 -
 blank.txt Blank Circuit
